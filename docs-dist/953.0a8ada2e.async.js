(self.webpackChunktree_graph=self.webpackChunktree_graph||[]).push([[953],{68640:function(At,Et,V){"use strict";V.d(Et,{iN:function(){return ke},R_:function(){return I},EV:function(){return it},Ti:function(){return Kt},ez:function(){return Y}});var R=V(84432),M=2,nt=.16,J=.05,vt=.05,q=.15,K=5,T=4,x=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function w(Cn,qt,qe){var on;return Math.round(Cn.h)>=60&&Math.round(Cn.h)<=240?on=qe?Math.round(Cn.h)-M*qt:Math.round(Cn.h)+M*qt:on=qe?Math.round(Cn.h)+M*qt:Math.round(Cn.h)-M*qt,on<0?on+=360:on>=360&&(on-=360),on}function N(Cn,qt,qe){if(Cn.h===0&&Cn.s===0)return Cn.s;var on;return qe?on=Cn.s-nt*qt:qt===T?on=Cn.s+nt:on=Cn.s+J*qt,on>1&&(on=1),qe&&qt===K&&on>.1&&(on=.1),on<.06&&(on=.06),Math.round(on*100)/100}function k(Cn,qt,qe){var on;return qe?on=Cn.v+vt*qt:on=Cn.v-q*qt,on=Math.max(0,Math.min(1,on)),Math.round(on*100)/100}function I(Cn){for(var qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qe=[],on=new R.t(Cn),pe=on.toHsv(),Fe=K;Fe>0;Fe-=1){var ne=new R.t({h:w(pe,Fe,!0),s:N(pe,Fe,!0),v:k(pe,Fe,!0)});qe.push(ne)}qe.push(on);for(var Yt=1;Yt<=T;Yt+=1){var Zt=new R.t({h:w(pe,Yt),s:N(pe,Yt),v:k(pe,Yt)});qe.push(Zt)}return qt.theme==="dark"?x.map(function(He){var zn=He.index,Fn=He.amount;return new R.t(qt.backgroundColor||"#141414").mix(qe[zn],Fn).toHexString()}):qe.map(function(He){return He.toHexString()})}var Y={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},dt=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];dt.primary=dt[5];var b=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];b.primary=b[5];var ot=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];ot.primary=ot[5];var it=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];it.primary=it[5];var jt=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];jt.primary=jt[5];var z=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];z.primary=z[5];var Ot=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Ot.primary=Ot[5];var Ft=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Ft.primary=Ft[5];var ke=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];ke.primary=ke[5];var _n=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];_n.primary=_n[5];var It=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];It.primary=It[5];var ge=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];ge.primary=ge[5];var Me=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Me.primary=Me[5];var Se=null,Kt={red:dt,volcano:b,orange:ot,gold:it,yellow:jt,lime:z,green:Ot,cyan:Ft,blue:ke,geekblue:_n,purple:It,magenta:ge,grey:Me},Bt=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];Bt.primary=Bt[5];var te=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];te.primary=te[5];var oe=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];oe.primary=oe[5];var ye=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];ye.primary=ye[5];var $t=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];$t.primary=$t[5];var Ve=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];Ve.primary=Ve[5];var $e=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];$e.primary=$e[5];var ae=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];ae.primary=ae[5];var Be=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];Be.primary=Be[5];var Mn=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];Mn.primary=Mn[5];var Xe=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Xe.primary=Xe[5];var Qn=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];Qn.primary=Qn[5];var Un=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];Un.primary=Un[5];var Dn={red:Bt,volcano:te,orange:oe,gold:ye,yellow:$t,lime:Ve,green:$e,cyan:ae,blue:Be,geekblue:Mn,purple:Xe,magenta:Qn,grey:Un}},27540:function(At,Et,V){"use strict";V.d(Et,{rb:function(){return on},IX:function(){return Kt}});var R=V(28269),M=V(52521),nt=V(35576),J=V(55443),vt=V(39546),q=V(50138),K=V(59129),T=V(76920),x=V(88145),w=V(74063),N=V(43907),k=(0,T.Z)(function pe(){(0,K.Z)(this,pe)}),I=k,Y="CALC_UNIT",dt=new RegExp(Y,"g");function b(pe){return typeof pe=="number"?"".concat(pe).concat(Y):pe}var ot=function(pe){(0,w.Z)(ne,pe);var Fe=(0,N.Z)(ne);function ne(Yt,Zt){var He;(0,K.Z)(this,ne),He=Fe.call(this),(0,nt.Z)((0,x.Z)(He),"result",""),(0,nt.Z)((0,x.Z)(He),"unitlessCssVar",void 0),(0,nt.Z)((0,x.Z)(He),"lowPriority",void 0);var zn=(0,R.Z)(Yt);return He.unitlessCssVar=Zt,Yt instanceof ne?He.result="(".concat(Yt.result,")"):zn==="number"?He.result=b(Yt):zn==="string"&&(He.result=Yt),He}return(0,T.Z)(ne,[{key:"add",value:function(Zt){return Zt instanceof ne?this.result="".concat(this.result," + ").concat(Zt.getResult()):(typeof Zt=="number"||typeof Zt=="string")&&(this.result="".concat(this.result," + ").concat(b(Zt))),this.lowPriority=!0,this}},{key:"sub",value:function(Zt){return Zt instanceof ne?this.result="".concat(this.result," - ").concat(Zt.getResult()):(typeof Zt=="number"||typeof Zt=="string")&&(this.result="".concat(this.result," - ").concat(b(Zt))),this.lowPriority=!0,this}},{key:"mul",value:function(Zt){return this.lowPriority&&(this.result="(".concat(this.result,")")),Zt instanceof ne?this.result="".concat(this.result," * ").concat(Zt.getResult(!0)):(typeof Zt=="number"||typeof Zt=="string")&&(this.result="".concat(this.result," * ").concat(Zt)),this.lowPriority=!1,this}},{key:"div",value:function(Zt){return this.lowPriority&&(this.result="(".concat(this.result,")")),Zt instanceof ne?this.result="".concat(this.result," / ").concat(Zt.getResult(!0)):(typeof Zt=="number"||typeof Zt=="string")&&(this.result="".concat(this.result," / ").concat(Zt)),this.lowPriority=!1,this}},{key:"getResult",value:function(Zt){return this.lowPriority||Zt?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(Zt){var He=this,zn=Zt||{},Fn=zn.unit,jn=!0;return typeof Fn=="boolean"?jn=Fn:Array.from(this.unitlessCssVar).some(function(tr){return He.result.includes(tr)})&&(jn=!1),this.result=this.result.replace(dt,jn?"px":""),typeof this.lowPriority!="undefined"?"calc(".concat(this.result,")"):this.result}}]),ne}(I),it=function(pe){(0,w.Z)(ne,pe);var Fe=(0,N.Z)(ne);function ne(Yt){var Zt;return(0,K.Z)(this,ne),Zt=Fe.call(this),(0,nt.Z)((0,x.Z)(Zt),"result",0),Yt instanceof ne?Zt.result=Yt.result:typeof Yt=="number"&&(Zt.result=Yt),Zt}return(0,T.Z)(ne,[{key:"add",value:function(Zt){return Zt instanceof ne?this.result+=Zt.result:typeof Zt=="number"&&(this.result+=Zt),this}},{key:"sub",value:function(Zt){return Zt instanceof ne?this.result-=Zt.result:typeof Zt=="number"&&(this.result-=Zt),this}},{key:"mul",value:function(Zt){return Zt instanceof ne?this.result*=Zt.result:typeof Zt=="number"&&(this.result*=Zt),this}},{key:"div",value:function(Zt){return Zt instanceof ne?this.result/=Zt.result:typeof Zt=="number"&&(this.result/=Zt),this}},{key:"equal",value:function(){return this.result}}]),ne}(I),jt=it,z=function(Fe,ne){var Yt=Fe==="css"?ot:jt;return function(Zt){return new Yt(Zt,ne)}},Ot=z,Ft=function(Fe,ne){return"".concat([ne,Fe.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))},ke=Ft,_n=V(96495);function It(pe,Fe,ne,Yt){var Zt=(0,J.Z)({},Fe[pe]);if(Yt!=null&&Yt.deprecatedTokens){var He=Yt.deprecatedTokens;He.forEach(function(Fn){var jn=(0,M.Z)(Fn,2),tr=jn[0],Tn=jn[1];if(Zt!=null&&Zt[tr]||Zt!=null&&Zt[Tn]){var Rr;(Rr=Zt[Tn])!==null&&Rr!==void 0||(Zt[Tn]=Zt==null?void 0:Zt[tr])}})}var zn=(0,J.Z)((0,J.Z)({},ne),Zt);return Object.keys(zn).forEach(function(Fn){zn[Fn]===Fe[Fn]&&delete zn[Fn]}),zn}var ge=It,Me=typeof CSSINJS_STATISTIC!="undefined",Se=!0;function Kt(){for(var pe=arguments.length,Fe=new Array(pe),ne=0;ne<pe;ne++)Fe[ne]=arguments[ne];if(!Me)return Object.assign.apply(Object,[{}].concat(Fe));Se=!1;var Yt={};return Fe.forEach(function(Zt){if((0,R.Z)(Zt)==="object"){var He=Object.keys(Zt);He.forEach(function(zn){Object.defineProperty(Yt,zn,{configurable:!0,enumerable:!0,get:function(){return Zt[zn]}})})}}),Se=!0,Yt}var Bt={},te={};function oe(){}var ye=function(Fe){var ne,Yt=Fe,Zt=oe;return Me&&typeof Proxy!="undefined"&&(ne=new Set,Yt=new Proxy(Fe,{get:function(zn,Fn){if(Se){var jn;(jn=ne)===null||jn===void 0||jn.add(Fn)}return zn[Fn]}}),Zt=function(zn,Fn){var jn;Bt[zn]={global:Array.from(ne),component:(0,J.Z)((0,J.Z)({},(jn=Bt[zn])===null||jn===void 0?void 0:jn.component),Fn)}}),{token:Yt,keys:ne,flush:Zt}},$t=ye;function Ve(pe,Fe,ne){if(typeof ne=="function"){var Yt;return ne(Kt(Fe,(Yt=Fe[pe])!==null&&Yt!==void 0?Yt:{}))}return ne!=null?ne:{}}var $e=Ve;function ae(pe){return pe==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var ne=arguments.length,Yt=new Array(ne),Zt=0;Zt<ne;Zt++)Yt[Zt]=arguments[Zt];return"max(".concat(Yt.map(function(He){return(0,q.bf)(He)}).join(","),")")},min:function(){for(var ne=arguments.length,Yt=new Array(ne),Zt=0;Zt<ne;Zt++)Yt[Zt]=arguments[Zt];return"min(".concat(Yt.map(function(He){return(0,q.bf)(He)}).join(","),")")}}}var Be=ae,Mn=1e3*60*10,Xe=function(){function pe(){(0,K.Z)(this,pe),(0,nt.Z)(this,"map",new Map),(0,nt.Z)(this,"objectIDMap",new WeakMap),(0,nt.Z)(this,"nextID",0),(0,nt.Z)(this,"lastAccessBeat",new Map),(0,nt.Z)(this,"accessBeat",0)}return(0,T.Z)(pe,[{key:"set",value:function(ne,Yt){this.clear();var Zt=this.getCompositeKey(ne);this.map.set(Zt,Yt),this.lastAccessBeat.set(Zt,Date.now())}},{key:"get",value:function(ne){var Yt=this.getCompositeKey(ne),Zt=this.map.get(Yt);return this.lastAccessBeat.set(Yt,Date.now()),this.accessBeat+=1,Zt}},{key:"getCompositeKey",value:function(ne){var Yt=this,Zt=ne.map(function(He){return He&&(0,R.Z)(He)==="object"?"obj_".concat(Yt.getObjectID(He)):"".concat((0,R.Z)(He),"_").concat(He)});return Zt.join("|")}},{key:"getObjectID",value:function(ne){if(this.objectIDMap.has(ne))return this.objectIDMap.get(ne);var Yt=this.nextID;return this.objectIDMap.set(ne,Yt),this.nextID+=1,Yt}},{key:"clear",value:function(){var ne=this;if(this.accessBeat>1e4){var Yt=Date.now();this.lastAccessBeat.forEach(function(Zt,He){Yt-Zt>Mn&&(ne.map.delete(He),ne.lastAccessBeat.delete(He))}),this.accessBeat=0}}}]),pe}(),Qn=new Xe;function Un(pe,Fe){return vt.useMemo(function(){var ne=Qn.get(Fe);if(ne)return ne;var Yt=pe();return Qn.set(Fe,Yt),Yt},Fe)}var Dn=Un,Cn=function(){return{}},qt=Cn;function qe(pe){var Fe=pe.useCSP,ne=Fe===void 0?qt:Fe,Yt=pe.useToken,Zt=pe.usePrefix,He=pe.getResetStyles,zn=pe.getCommonStyle,Fn=pe.getCompUnitless;function jn(Gn,kr,qn,An){var ir=Array.isArray(Gn)?Gn[0]:Gn;function Ar(lr){return"".concat(String(ir)).concat(lr.slice(0,1).toUpperCase()).concat(lr.slice(1))}var sr=(An==null?void 0:An.unitless)||{},Lr=typeof Fn=="function"?Fn(Gn):{},ze=(0,J.Z)((0,J.Z)({},Lr),{},(0,nt.Z)({},Ar("zIndexPopup"),!0));Object.keys(sr).forEach(function(lr){ze[Ar(lr)]=sr[lr]});var dr=(0,J.Z)((0,J.Z)({},An),{},{unitless:ze,prefixToken:Ar}),gr=Tn(Gn,kr,qn,dr),Sr=tr(ir,qn,dr);return function(lr){var or=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lr,Nr=gr(lr,or),Wr=(0,M.Z)(Nr,2),cr=Wr[1],Zn=Sr(or),Pr=(0,M.Z)(Zn,2),Vr=Pr[0],es=Pr[1];return[Vr,cr,es]}}function tr(Gn,kr,qn){var An=qn.unitless,ir=qn.injectStyle,Ar=ir===void 0?!0:ir,sr=qn.prefixToken,Lr=qn.ignore,ze=function(Sr){var lr=Sr.rootCls,or=Sr.cssVar,Nr=or===void 0?{}:or,Wr=Yt(),cr=Wr.realToken;return(0,q.CI)({path:[Gn],prefix:Nr.prefix,key:Nr.key,unitless:An,ignore:Lr,token:cr,scope:lr},function(){var Zn=$e(Gn,cr,kr),Pr=ge(Gn,cr,Zn,{deprecatedTokens:qn==null?void 0:qn.deprecatedTokens});return Object.keys(Zn).forEach(function(Vr){Pr[sr(Vr)]=Pr[Vr],delete Pr[Vr]}),Pr}),null},dr=function(Sr){var lr=Yt(),or=lr.cssVar;return[function(Nr){return Ar&&or?vt.createElement(vt.Fragment,null,vt.createElement(ze,{rootCls:Sr,cssVar:or,component:Gn}),Nr):Nr},or==null?void 0:or.key]};return dr}function Tn(Gn,kr,qn){var An=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ir=Array.isArray(Gn)?Gn:[Gn,Gn],Ar=(0,M.Z)(ir,1),sr=Ar[0],Lr=ir.join("-"),ze=pe.layer||{name:"antd"};return function(dr){var gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dr,Sr=Yt(),lr=Sr.theme,or=Sr.realToken,Nr=Sr.hashId,Wr=Sr.token,cr=Sr.cssVar,Zn=Zt(),Pr=Zn.rootPrefixCls,Vr=Zn.iconPrefixCls,es=ne(),ai=cr?"css":"js",ns=Dn(function(){var ei=new Set;return cr&&Object.keys(An.unitless||{}).forEach(function(Fr){ei.add((0,q.ks)(Fr,cr.prefix)),ei.add((0,q.ks)(Fr,ke(sr,cr.prefix)))}),Ot(ai,ei)},[ai,sr,cr==null?void 0:cr.prefix]),rs=Be(ai),Dr=rs.max,ws=rs.min,Cs={theme:lr,token:Wr,hashId:Nr,nonce:function(){return es.nonce},clientOnly:An.clientOnly,layer:ze,order:An.order||-999};typeof He=="function"&&(0,q.xy)((0,J.Z)((0,J.Z)({},Cs),{},{clientOnly:!1,path:["Shared",Pr]}),function(){return He(Wr,{prefix:{rootPrefixCls:Pr,iconPrefixCls:Vr},csp:es})});var li=(0,q.xy)((0,J.Z)((0,J.Z)({},Cs),{},{path:[Lr,dr,Vr]}),function(){if(An.injectStyle===!1)return[];var ei=$t(Wr),Fr=ei.token,is=ei.flush,Ai=$e(sr,or,qn),$s=".".concat(dr),Ss=ge(sr,or,Ai,{deprecatedTokens:An.deprecatedTokens});cr&&Ai&&(0,R.Z)(Ai)==="object"&&Object.keys(Ai).forEach(function(ci){Ai[ci]="var(".concat((0,q.ks)(ci,ke(sr,cr.prefix)),")")});var Gi=Kt(Fr,{componentCls:$s,prefixCls:dr,iconCls:".".concat(Vr),antCls:".".concat(Pr),calc:ns,max:Dr,min:ws},cr?Ai:Ss),zs=kr(Gi,{hashId:Nr,prefixCls:dr,rootPrefixCls:Pr,iconPrefixCls:Vr});is(sr,Ss);var ni=typeof zn=="function"?zn(Gi,dr,gr,An.resetFont):null;return[An.resetStyle===!1?null:ni,zs]});return[li,Nr]}}function Rr(Gn,kr,qn){var An=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ir=Tn(Gn,kr,qn,(0,J.Z)({resetStyle:!1,order:-998},An)),Ar=function(Lr){var ze=Lr.prefixCls,dr=Lr.rootCls,gr=dr===void 0?ze:dr;return ir(ze,gr),null};return Ar}return{genStyleHooks:jn,genSubStyleComponent:Rr,genComponentStyleHook:Tn}}var on=qe},50138:function(At,Et,V){"use strict";V.d(Et,{E4:function(){return Rn},uP:function(){return ge},jG:function(){return Qn},t2:function(){return Fr},ks:function(){return Gn},bf:function(){return Tn},CI:function(){return Ha},fp:function(){return Ai},xy:function(){return To}});var R=V(35576),M=V(52521),nt=V(35979),J=V(55443);function vt(U){for(var st=0,at,ft=0,St=U.length;St>=4;++ft,St-=4)at=U.charCodeAt(ft)&255|(U.charCodeAt(++ft)&255)<<8|(U.charCodeAt(++ft)&255)<<16|(U.charCodeAt(++ft)&255)<<24,at=(at&65535)*1540483477+((at>>>16)*59797<<16),at^=at>>>24,st=(at&65535)*1540483477+((at>>>16)*59797<<16)^(st&65535)*1540483477+((st>>>16)*59797<<16);switch(St){case 3:st^=(U.charCodeAt(ft+2)&255)<<16;case 2:st^=(U.charCodeAt(ft+1)&255)<<8;case 1:st^=U.charCodeAt(ft)&255,st=(st&65535)*1540483477+((st>>>16)*59797<<16)}return st^=st>>>13,st=(st&65535)*1540483477+((st>>>16)*59797<<16),((st^st>>>15)>>>0).toString(36)}var q=vt,K=V(89505),T=V(39546),x=V.t(T,2),w=V(63987),N=V(39597),k=V(59129),I=V(76920),Y="%";function dt(U){return U.join(Y)}var b=function(){function U(st){(0,k.Z)(this,U),(0,R.Z)(this,"instanceId",void 0),(0,R.Z)(this,"cache",new Map),this.instanceId=st}return(0,I.Z)(U,[{key:"get",value:function(at){return this.opGet(dt(at))}},{key:"opGet",value:function(at){return this.cache.get(at)||null}},{key:"update",value:function(at,ft){return this.opUpdate(dt(at),ft)}},{key:"opUpdate",value:function(at,ft){var St=this.cache.get(at),Gt=ft(St);Gt===null?this.cache.delete(at):this.cache.set(at,Gt)}}]),U}(),ot=b,it=null,jt="data-token-hash",z="data-css-hash",Ot="data-cache-path",Ft="__cssinjs_instance__";function ke(){var U=Math.random().toString(12).slice(2);if(typeof document!="undefined"&&document.head&&document.body){var st=document.body.querySelectorAll("style[".concat(z,"]"))||[],at=document.head.firstChild;Array.from(st).forEach(function(St){St[Ft]=St[Ft]||U,St[Ft]===U&&document.head.insertBefore(St,at)});var ft={};Array.from(document.querySelectorAll("style[".concat(z,"]"))).forEach(function(St){var Gt=St.getAttribute(z);if(ft[Gt]){if(St[Ft]===U){var Jt;(Jt=St.parentNode)===null||Jt===void 0||Jt.removeChild(St)}}else ft[Gt]=!0})}return new ot(U)}var _n=T.createContext({hashPriority:"low",cache:ke(),defaultCache:!0}),It=function(st){var at=st.children,ft=_objectWithoutProperties(st,it),St=React.useContext(_n),Gt=useMemo(function(){var Jt=_objectSpread({},St);Object.keys(ft).forEach(function(Qt){var ue=ft[Qt];ft[Qt]!==void 0&&(Jt[Qt]=ue)});var ce=ft.cache;return Jt.cache=Jt.cache||ke(),Jt.defaultCache=!ce&&St.defaultCache,Jt},[St,ft],function(Jt,ce){return!isEqual(Jt[0],ce[0],!0)||!isEqual(Jt[1],ce[1],!0)});return React.createElement(_n.Provider,{value:Gt},at)},ge=_n,Me=V(28269),Se=V(55313),Kt="CALC_UNIT",Bt=new RegExp(Kt,"g");function te(U){return typeof U=="number"?"".concat(U).concat(Kt):U}var oe=null,ye=function(st,at){var ft=st==="css"?CSSCalculator:NumCalculator;return function(St){return new ft(St,at)}},$t=null;function Ve(U,st){if(U.length!==st.length)return!1;for(var at=0;at<U.length;at++)if(U[at]!==st[at])return!1;return!0}var $e=function(){function U(){(0,k.Z)(this,U),(0,R.Z)(this,"cache",void 0),(0,R.Z)(this,"keys",void 0),(0,R.Z)(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return(0,I.Z)(U,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(at){var ft,St,Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Jt={map:this.cache};return at.forEach(function(ce){if(!Jt)Jt=void 0;else{var Qt;Jt=(Qt=Jt)===null||Qt===void 0||(Qt=Qt.map)===null||Qt===void 0?void 0:Qt.get(ce)}}),(ft=Jt)!==null&&ft!==void 0&&ft.value&&Gt&&(Jt.value[1]=this.cacheCallTimes++),(St=Jt)===null||St===void 0?void 0:St.value}},{key:"get",value:function(at){var ft;return(ft=this.internalGet(at,!0))===null||ft===void 0?void 0:ft[0]}},{key:"has",value:function(at){return!!this.internalGet(at)}},{key:"set",value:function(at,ft){var St=this;if(!this.has(at)){if(this.size()+1>U.MAX_CACHE_SIZE+U.MAX_CACHE_OFFSET){var Gt=this.keys.reduce(function(ue,be){var Re=(0,M.Z)(ue,2),ve=Re[1];return St.internalGet(be)[1]<ve?[be,St.internalGet(be)[1]]:ue},[this.keys[0],this.cacheCallTimes]),Jt=(0,M.Z)(Gt,1),ce=Jt[0];this.delete(ce)}this.keys.push(at)}var Qt=this.cache;at.forEach(function(ue,be){if(be===at.length-1)Qt.set(ue,{value:[ft,St.cacheCallTimes++]});else{var Re=Qt.get(ue);Re?Re.map||(Re.map=new Map):Qt.set(ue,{map:new Map}),Qt=Qt.get(ue).map}})}},{key:"deleteByPath",value:function(at,ft){var St=at.get(ft[0]);if(ft.length===1){var Gt;return St.map?at.set(ft[0],{map:St.map}):at.delete(ft[0]),(Gt=St.value)===null||Gt===void 0?void 0:Gt[0]}var Jt=this.deleteByPath(St.map,ft.slice(1));return(!St.map||St.map.size===0)&&!St.value&&at.delete(ft[0]),Jt}},{key:"delete",value:function(at){if(this.has(at))return this.keys=this.keys.filter(function(ft){return!Ve(ft,at)}),this.deleteByPath(this.cache,at)}}]),U}();(0,R.Z)($e,"MAX_CACHE_SIZE",20),(0,R.Z)($e,"MAX_CACHE_OFFSET",5);var ae=V(36978),Be=0,Mn=function(){function U(st){(0,k.Z)(this,U),(0,R.Z)(this,"derivatives",void 0),(0,R.Z)(this,"id",void 0),this.derivatives=Array.isArray(st)?st:[st],this.id=Be,st.length===0&&(0,ae.Kp)(st.length>0,"[Ant Design CSS-in-JS] Theme should have at least one derivative function."),Be+=1}return(0,I.Z)(U,[{key:"getDerivativeToken",value:function(at){return this.derivatives.reduce(function(ft,St){return St(at,ft)},void 0)}}]),U}(),Xe=new $e;function Qn(U){var st=Array.isArray(U)?U:[U];return Xe.has(st)||Xe.set(st,new Mn(st)),Xe.get(st)}var Un=new WeakMap,Dn={};function Cn(U,st){for(var at=Un,ft=0;ft<st.length;ft+=1){var St=st[ft];at.has(St)||at.set(St,new WeakMap),at=at.get(St)}return at.has(Dn)||at.set(Dn,U()),at.get(Dn)}var qt=new WeakMap;function qe(U){var st=qt.get(U)||"";return st||(Object.keys(U).forEach(function(at){var ft=U[at];st+=at,ft instanceof Mn?st+=ft.id:ft&&(0,Me.Z)(ft)==="object"?st+=qe(ft):st+=ft}),st=q(st),qt.set(U,st)),st}function on(U,st){return q("".concat(st,"_").concat(qe(U)))}var pe="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Fe="_bAmBoO_";function ne(U,st,at){if((0,Se.Z)()){var ft,St;(0,K.hq)(U,pe);var Gt=document.createElement("div");Gt.style.position="fixed",Gt.style.left="0",Gt.style.top="0",st==null||st(Gt),document.body.appendChild(Gt);var Jt=at?at(Gt):(ft=getComputedStyle(Gt).content)===null||ft===void 0?void 0:ft.includes(Fe);return(St=Gt.parentNode)===null||St===void 0||St.removeChild(Gt),(0,K.jL)(pe),Jt}return!1}var Yt=null;function Zt(){return Yt===void 0&&(Yt=ne("@layer ".concat(pe," { .").concat(pe,' { content: "').concat(Fe,'"!important; } }'),function(U){U.className=pe})),Yt}var He=void 0;function zn(){return He===void 0&&(He=ne(":where(.".concat(pe,') { content: "').concat(Fe,'"!important; }'),function(U){U.className=pe})),He}var Fn=void 0;function jn(){return Fn===void 0&&(Fn=ne(".".concat(pe," { inset-block: 93px !important; }"),function(U){U.className=pe},function(U){return getComputedStyle(U).bottom==="93px"})),Fn}var tr=(0,Se.Z)();function Tn(U){return typeof U=="number"?"".concat(U,"px"):U}function Rr(U,st,at){var ft,St=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Gt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Gt)return U;var Jt=(0,J.Z)((0,J.Z)({},St),{},(ft={},(0,R.Z)(ft,jt,st),(0,R.Z)(ft,z,at),ft)),ce=Object.keys(Jt).map(function(Qt){var ue=Jt[Qt];return ue?"".concat(Qt,'="').concat(ue,'"'):null}).filter(function(Qt){return Qt}).join(" ");return"<style ".concat(ce,">").concat(U,"</style>")}var Gn=function(st){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(at?"".concat(at,"-"):"").concat(st).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},kr=function(st,at,ft){return Object.keys(st).length?".".concat(at).concat(ft!=null&&ft.scope?".".concat(ft.scope):"","{").concat(Object.entries(st).map(function(St){var Gt=(0,M.Z)(St,2),Jt=Gt[0],ce=Gt[1];return"".concat(Jt,":").concat(ce,";")}).join(""),"}"):""},qn=function(st,at,ft){var St={},Gt={};return Object.entries(st).forEach(function(Jt){var ce,Qt,ue=(0,M.Z)(Jt,2),be=ue[0],Re=ue[1];if(ft!=null&&(ce=ft.preserve)!==null&&ce!==void 0&&ce[be])Gt[be]=Re;else if((typeof Re=="string"||typeof Re=="number")&&!(ft!=null&&(Qt=ft.ignore)!==null&&Qt!==void 0&&Qt[be])){var ve,Qe=Gn(be,ft==null?void 0:ft.prefix);St[Qe]=typeof Re=="number"&&!(ft!=null&&(ve=ft.unitless)!==null&&ve!==void 0&&ve[be])?"".concat(Re,"px"):String(Re),Gt[be]="var(".concat(Qe,")")}}),[Gt,kr(St,at,{scope:ft==null?void 0:ft.scope})]},An=V(50351),ir=(0,J.Z)({},x),Ar=ir.useInsertionEffect,sr=function(st,at,ft){T.useMemo(st,ft),(0,An.Z)(function(){return at(!0)},ft)},Lr=Ar?function(U,st,at){return Ar(function(){return U(),st()},at)}:sr,ze=Lr,dr=(0,J.Z)({},x),gr=dr.useInsertionEffect,Sr=function(st){var at=[],ft=!1;function St(Gt){ft||at.push(Gt)}return T.useEffect(function(){return ft=!1,function(){ft=!0,at.length&&at.forEach(function(Gt){return Gt()})}},st),St},lr=function(){return function(st){st()}},or=typeof gr!="undefined"?Sr:lr,Nr=or;function Wr(){return!1}var cr=!1;function Zn(){return cr}var Pr=Wr;if(0)var Vr,es;function ai(U,st,at,ft,St){var Gt=T.useContext(ge),Jt=Gt.cache,ce=[U].concat((0,nt.Z)(st)),Qt=dt(ce),ue=Nr([Qt]),be=Pr(),Re=function(Le){Jt.opUpdate(Qt,function(fn){var ct=fn||[void 0,void 0],xt=(0,M.Z)(ct,2),bt=xt[0],Ut=bt===void 0?0:bt,de=xt[1],Ae=de,Oe=Ae||at(),Ke=[Ut,Oe];return Le?Le(Ke):Ke})};T.useMemo(function(){Re()},[Qt]);var ve=Jt.opGet(Qt),Qe=ve[1];return ze(function(){St==null||St(Qe)},function(hn){return Re(function(Le){var fn=(0,M.Z)(Le,2),ct=fn[0],xt=fn[1];return hn&&ct===0&&(St==null||St(Qe)),[ct+1,xt]}),function(){Jt.opUpdate(Qt,function(Le){var fn=Le||[],ct=(0,M.Z)(fn,2),xt=ct[0],bt=xt===void 0?0:xt,Ut=ct[1],de=bt-1;return de===0?(ue(function(){(hn||!Jt.opGet(Qt))&&(ft==null||ft(Ut,!1))}),null):[bt-1,Ut]})}},[Qt]),Qe}var ns={},rs="css",Dr=new Map;function ws(U){Dr.set(U,(Dr.get(U)||0)+1)}function Cs(U,st){if(typeof document!="undefined"){var at=document.querySelectorAll("style[".concat(jt,'="').concat(U,'"]'));at.forEach(function(ft){if(ft[Ft]===st){var St;(St=ft.parentNode)===null||St===void 0||St.removeChild(ft)}})}}var li=0;function ei(U,st){Dr.set(U,(Dr.get(U)||0)-1);var at=Array.from(Dr.keys()),ft=at.filter(function(St){var Gt=Dr.get(St)||0;return Gt<=0});at.length-ft.length>li&&ft.forEach(function(St){Cs(St,st),Dr.delete(St)})}var Fr=function(st,at,ft,St){var Gt=ft.getDerivativeToken(st),Jt=(0,J.Z)((0,J.Z)({},Gt),at);return St&&(Jt=St(Jt)),Jt},is="token";function Ai(U,st){var at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ft=(0,T.useContext)(ge),St=ft.cache.instanceId,Gt=ft.container,Jt=at.salt,ce=Jt===void 0?"":Jt,Qt=at.override,ue=Qt===void 0?ns:Qt,be=at.formatToken,Re=at.getComputedToken,ve=at.cssVar,Qe=Cn(function(){return Object.assign.apply(Object,[{}].concat((0,nt.Z)(st)))},st),hn=qe(Qe),Le=qe(ue),fn=ve?qe(ve):"",ct=ai(is,[ce,U.id,hn,Le,fn],function(){var xt,bt=Re?Re(Qe,ue,U):Fr(Qe,ue,U,be),Ut=(0,J.Z)({},bt),de="";if(ve){var Ae=qn(bt,ve.key,{prefix:ve.prefix,ignore:ve.ignore,unitless:ve.unitless,preserve:ve.preserve}),Oe=(0,M.Z)(Ae,2);bt=Oe[0],de=Oe[1]}var Ke=on(bt,ce);bt._tokenKey=Ke,Ut._tokenKey=on(Ut,ce);var fr=(xt=ve==null?void 0:ve.key)!==null&&xt!==void 0?xt:Ke;bt._themeKey=fr,ws(fr);var yr="".concat(rs,"-").concat(q(Ke));return bt._hashId=yr,[bt,yr,Ut,de,(ve==null?void 0:ve.key)||""]},function(xt){ei(xt[0]._themeKey,St)},function(xt){var bt=(0,M.Z)(xt,4),Ut=bt[0],de=bt[3];if(ve&&de){var Ae=(0,K.hq)(de,q("css-variables-".concat(Ut._themeKey)),{mark:z,prepend:"queue",attachTo:Gt,priority:-999});Ae[Ft]=St,Ae.setAttribute(jt,Ut._themeKey)}});return ct}var $s=function(st,at,ft){var St=(0,M.Z)(st,5),Gt=St[2],Jt=St[3],ce=St[4],Qt=ft||{},ue=Qt.plain;if(!Jt)return null;var be=Gt._tokenKey,Re=-999,ve={"data-rc-order":"prependQueue","data-rc-priority":"".concat(Re)},Qe=Rr(Jt,ce,be,ve,ue);return[Re,be,Qe]},Ss=V(55824),Gi={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},zs=Gi,ni="-ms-",ci="-moz-",so="-webkit-",ss="comm",Li="rule",ar="decl",ui="@page",pr="@media",Yo="@import",mr="@charset",pa="@viewport",Co="@supports",ma="@document",Ni="@namespace",So="@keyframes",Zs="@font-face",va="@counter-style",Po="@font-feature-values",ya="@layer",Jo="@scope",Di=Math.abs,rr=String.fromCharCode,Qo=Object.assign;function Ps(U,st){return Ur(U,0)^45?(((st<<2^Ur(U,0))<<2^Ur(U,1))<<2^Ur(U,2))<<2^Ur(U,3):0}function oo(U){return U.trim()}function Oi(U,st){return(U=st.exec(U))?U[0]:U}function Hs(U,st,at){return U.replace(st,at)}function Eo(U,st,at){return U.indexOf(st,at)}function Ur(U,st){return U.charCodeAt(st)|0}function wr(U,st,at){return U.slice(st,at)}function fi(U){return U.length}function ao(U){return U.length}function Mi(U,st){return st.push(U),U}function Ws(U,st){return U.map(st).join("")}function za(U,st){return U.filter(function(at){return!Oi(at,st)})}function Us(U,st){for(var at="",ft=0;ft<U.length;ft++)at+=st(U[ft],ft,U,st)||"";return at}function os(U,st,at,ft){switch(U.type){case ya:if(U.children.length)break;case Yo:case Ni:case ar:return U.return=U.return||U.value;case ss:return"";case So:return U.return=U.value+"{"+Us(U.children,ft)+"}";case Li:if(!fi(U.value=U.props.join(",")))return""}return fi(at=Us(U.children,ft))?U.return=U.value+"{"+at+"}":""}var yi=1,ri=1,Fi=0,Gr=0,kn=0,as="";function hi(U,st,at,ft,St,Gt,Jt,ce){return{value:U,root:st,parent:at,type:ft,props:St,children:Gt,line:yi,column:ri,length:Jt,return:"",siblings:ce}}function ta(U,st){return assign(hi("",null,null,"",null,null,0,U.siblings),U,{length:-U.length},st)}function Gs(U){for(;U.root;)U=ta(U.root,{children:[U]});append(U,U.siblings)}function Ao(){return kn}function ea(){return kn=Gr>0?Ur(as,--Gr):0,ri--,kn===10&&(ri=1,yi--),kn}function di(){return kn=Gr<Fi?Ur(as,Gr++):0,ri++,kn===10&&(ri=1,yi++),kn}function bi(){return Ur(as,Gr)}function Bi(){return Gr}function xi(U,st){return wr(as,U,st)}function ls(U){switch(U){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cs(U){return yi=ri=1,Fi=fi(as=U),Gr=0,[]}function lo(U){return as="",U}function Es(U){return oo(xi(Gr-1,D(U===91?U+2:U===40?U+1:U)))}function Za(U){return lo(ba(cs(U)))}function As(U){for(;(kn=bi())&&kn<33;)di();return ls(U)>2||ls(kn)>3?"":" "}function ba(U){for(;di();)switch(ls(kn)){case 0:append(H(Gr-1),U);break;case 2:append(Es(kn),U);break;default:append(from(kn),U)}return U}function ut(U,st){for(;--st&&di()&&!(kn<48||kn>102||kn>57&&kn<65||kn>70&&kn<97););return xi(U,Bi()+(st<6&&bi()==32&&di()==32))}function D(U){for(;di();)switch(kn){case U:return Gr;case 34:case 39:U!==34&&U!==39&&D(kn);break;case 40:U===41&&D(U);break;case 92:di();break}return Gr}function A(U,st){for(;di()&&U+kn!==57;)if(U+kn===84&&bi()===47)break;return"/*"+xi(st,Gr-1)+"*"+rr(U===47?U:di())}function H(U){for(;!ls(bi());)di();return xi(U,Gr)}function B(U){return lo(et("",null,null,null,[""],U=cs(U),0,[0],U))}function et(U,st,at,ft,St,Gt,Jt,ce,Qt){for(var ue=0,be=0,Re=Jt,ve=0,Qe=0,hn=0,Le=1,fn=1,ct=1,xt=0,bt="",Ut=St,de=Gt,Ae=ft,Oe=bt;fn;)switch(hn=xt,xt=di()){case 40:if(hn!=108&&Ur(Oe,Re-1)==58){Eo(Oe+=Hs(Es(xt),"&","&\f"),"&\f",Di(ue?ce[ue-1]:0))!=-1&&(ct=-1);break}case 34:case 39:case 91:Oe+=Es(xt);break;case 9:case 10:case 13:case 32:Oe+=As(hn);break;case 92:Oe+=ut(Bi()-1,7);continue;case 47:switch(bi()){case 42:case 47:Mi(pt(A(di(),Bi()),st,at,Qt),Qt),(ls(hn||1)==5||ls(bi()||1)==5)&&fi(Oe)&&wr(Oe,-1,void 0)!==" "&&(Oe+=" ");break;default:Oe+="/"}break;case 123*Le:ce[ue++]=fi(Oe)*ct;case 125*Le:case 59:case 0:switch(xt){case 0:case 125:fn=0;case 59+be:ct==-1&&(Oe=Hs(Oe,/\f/g,"")),Qe>0&&(fi(Oe)-Re||Le===0&&hn===47)&&Mi(Qe>32?Mt(Oe+";",ft,at,Re-1,Qt):Mt(Hs(Oe," ","")+";",ft,at,Re-2,Qt),Qt);break;case 59:Oe+=";";default:if(Mi(Ae=lt(Oe,st,at,ue,be,St,ce,bt,Ut=[],de=[],Re,Gt),Gt),xt===123)if(be===0)et(Oe,st,Ae,Ae,Ut,Gt,Re,ce,de);else{switch(ve){case 99:if(Ur(Oe,3)===110)break;case 108:if(Ur(Oe,2)===97)break;default:be=0;case 100:case 109:case 115:}be?et(U,Ae,Ae,ft&&Mi(lt(U,Ae,Ae,0,0,St,ce,bt,St,Ut=[],Re,de),de),St,de,Re,ce,ft?Ut:de):et(Oe,Ae,Ae,Ae,[""],de,0,ce,de)}}ue=be=Qe=0,Le=ct=1,bt=Oe="",Re=Jt;break;case 58:Re=1+fi(Oe),Qe=hn;default:if(Le<1){if(xt==123)--Le;else if(xt==125&&Le++==0&&ea()==125)continue}switch(Oe+=rr(xt),xt*Le){case 38:ct=be>0?1:(Oe+="\f",-1);break;case 44:ce[ue++]=(fi(Oe)-1)*ct,ct=1;break;case 64:bi()===45&&(Oe+=Es(di())),ve=bi(),be=Re=fi(bt=Oe+=H(Bi())),xt++;break;case 45:hn===45&&fi(Oe)==2&&(Le=0)}}return Gt}function lt(U,st,at,ft,St,Gt,Jt,ce,Qt,ue,be,Re){for(var ve=St-1,Qe=St===0?Gt:[""],hn=ao(Qe),Le=0,fn=0,ct=0;Le<ft;++Le)for(var xt=0,bt=wr(U,ve+1,ve=Di(fn=Jt[Le])),Ut=U;xt<hn;++xt)(Ut=oo(fn>0?Qe[xt]+" "+bt:Hs(bt,/&\f/g,Qe[xt])))&&(Qt[ct++]=Ut);return hi(U,st,at,St===0?Li:ce,Qt,ue,be,Re)}function pt(U,st,at,ft){return hi(U,st,at,ss,rr(Ao()),wr(U,2,-2),0,ft)}function Mt(U,st,at,ft,St){return hi(U,st,at,ar,wr(U,0,ft),wr(U,ft+1,-1),ft,St)}function Nt(U,st){var at=st.path,ft=st.parentSelectors;devWarning(!1,"[Ant Design CSS-in-JS] ".concat(at?"Error in ".concat(at,": "):"").concat(U).concat(ft.length?" Selector: ".concat(ft.join(" | ")):""))}var Ct=function(st,at,ft){if(st==="content"){var St=/(attr|counters?|url|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,Gt=["normal","none","initial","inherit","unset"];(typeof at!="string"||Gt.indexOf(at)===-1&&!St.test(at)&&(at.charAt(0)!==at.charAt(at.length-1)||at.charAt(0)!=='"'&&at.charAt(0)!=="'"))&&lintWarning("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"".concat(at,"\"'`."),ft)}},kt=null,se=function(st,at,ft){st==="animation"&&ft.hashId&&at!=="none"&&lintWarning("You seem to be using hashed animation '".concat(at,"', in which case 'animationName' with Keyframe as value is recommended."),ft)},We=null;function he(U){var st,at=((st=U.match(/:not\(([^)]*)\)/))===null||st===void 0?void 0:st[1])||"",ft=at.split(/(\[[^[]*])|(?=[.#])/).filter(function(St){return St});return ft.length>1}function le(U){return U.parentSelectors.reduce(function(st,at){return st?at.includes("&")?at.replace(/&/g,st):"".concat(st," ").concat(at):at},"")}var Dt=function(st,at,ft){var St=le(ft),Gt=St.match(/:not\([^)]*\)/g)||[];Gt.length>0&&Gt.some(he)&&lintWarning("Concat ':not' selector not support in legacy browsers.",ft)},Pe=null,re=function(st,at,ft){switch(st){case"marginLeft":case"marginRight":case"paddingLeft":case"paddingRight":case"left":case"right":case"borderLeft":case"borderLeftWidth":case"borderLeftStyle":case"borderLeftColor":case"borderRight":case"borderRightWidth":case"borderRightStyle":case"borderRightColor":case"borderTopLeftRadius":case"borderTopRightRadius":case"borderBottomLeftRadius":case"borderBottomRightRadius":lintWarning("You seem to be using non-logical property '".concat(st,"' which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),ft);return;case"margin":case"padding":case"borderWidth":case"borderStyle":if(typeof at=="string"){var St=at.split(" ").map(function(ce){return ce.trim()});St.length===4&&St[1]!==St[3]&&lintWarning("You seem to be using '".concat(st,"' property with different left ").concat(st," and right ").concat(st,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),ft)}return;case"clear":case"textAlign":(at==="left"||at==="right")&&lintWarning("You seem to be using non-logical value '".concat(at,"' of ").concat(st,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),ft);return;case"borderRadius":if(typeof at=="string"){var Gt=at.split("/").map(function(ce){return ce.trim()}),Jt=Gt.reduce(function(ce,Qt){if(ce)return ce;var ue=Qt.split(" ").map(function(be){return be.trim()});return ue.length>=2&&ue[0]!==ue[1]||ue.length===3&&ue[1]!==ue[2]||ue.length===4&&ue[2]!==ue[3]?!0:ce},!1);Jt&&lintWarning("You seem to be using non-logical value '".concat(at,"' of ").concat(st,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),ft)}return;default:}},_e=null,en=function(st,at,ft){(typeof at=="string"&&/NaN/g.test(at)||Number.isNaN(at))&&lintWarning("Unexpected 'NaN' in property '".concat(st,": ").concat(at,"'."),ft)},Ue=null,gn=function(st,at,ft){ft.parentSelectors.some(function(St){var Gt=St.split(",");return Gt.some(function(Jt){return Jt.split("&").length>2})})&&lintWarning("Should not use more than one `&` in a selector.",ft)},Ge=null,un="data-ant-cssinjs-cache-path",me="_FILE_STYLE__";function rn(U){return Object.keys(U).map(function(st){var at=U[st];return"".concat(st,":").concat(at)}).join(";")}var Je,In=!0;function Pn(U){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Je=U,In=st}function Nn(){if(!Je&&(Je={},(0,Se.Z)())){var U=document.createElement("div");U.className=un,U.style.position="fixed",U.style.visibility="hidden",U.style.top="-9999px",document.body.appendChild(U);var st=getComputedStyle(U).content||"";st=st.replace(/^"/,"").replace(/"$/,""),st.split(";").forEach(function(St){var Gt=St.split(":"),Jt=(0,M.Z)(Gt,2),ce=Jt[0],Qt=Jt[1];Je[ce]=Qt});var at=document.querySelector("style[".concat(un,"]"));if(at){var ft;In=!1,(ft=at.parentNode)===null||ft===void 0||ft.removeChild(at)}document.body.removeChild(U)}}function bn(U){return Nn(),!!Je[U]}function ur(U){var st=Je[U],at=null;if(st&&(0,Se.Z)())if(In)at=me;else{var ft=document.querySelector("style[".concat(z,'="').concat(Je[U],'"]'));ft?at=ft.innerHTML:delete Je[U]}return[at,st]}var ii="_skip_check_",co="_multi_value_";function us(U){var st=Us(B(U),os);return st.replace(/\{%%%\:[^;];}/g,";")}function na(U){return(0,Me.Z)(U)==="object"&&U&&(ii in U||co in U)}function Oo(U,st,at){if(!st)return U;var ft=".".concat(st),St=at==="low"?":where(".concat(ft,")"):ft,Gt=U.split(",").map(function(Jt){var ce,Qt=Jt.trim().split(/\s+/),ue=Qt[0]||"",be=((ce=ue.match(/^\w+/))===null||ce===void 0?void 0:ce[0])||"";return ue="".concat(be).concat(St).concat(ue.slice(be.length)),[ue].concat((0,nt.Z)(Qt.slice(1))).join(" ")});return Gt.join(",")}var Mo=function U(st){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},St=ft.root,Gt=ft.injectHash,Jt=ft.parentSelectors,ce=at.hashId,Qt=at.layer,ue=at.path,be=at.hashPriority,Re=at.transformers,ve=Re===void 0?[]:Re,Qe=at.linters,hn=Qe===void 0?[]:Qe,Le="",fn={};function ct(Ut){var de=Ut.getName(ce);if(!fn[de]){var Ae=U(Ut.style,at,{root:!1,parentSelectors:Jt}),Oe=(0,M.Z)(Ae,1),Ke=Oe[0];fn[de]="@keyframes ".concat(Ut.getName(ce)).concat(Ke)}}function xt(Ut){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Ut.forEach(function(Ae){Array.isArray(Ae)?xt(Ae,de):Ae&&de.push(Ae)}),de}var bt=xt(Array.isArray(st)?st:[st]);return bt.forEach(function(Ut){var de=typeof Ut=="string"&&!St?{}:Ut;if(typeof de=="string")Le+="".concat(de,`
`);else if(de._keyframe)ct(de);else{var Ae=ve.reduce(function(Oe,Ke){var fr;return(Ke==null||(fr=Ke.visit)===null||fr===void 0?void 0:fr.call(Ke,Oe))||Oe},de);Object.keys(Ae).forEach(function(Oe){var Ke=Ae[Oe];if((0,Me.Z)(Ke)==="object"&&Ke&&(Oe!=="animationName"||!Ke._keyframe)&&!na(Ke)){var fr=!1,yr=Oe.trim(),Xr=!1;(St||Gt)&&ce?yr.startsWith("@")?fr=!0:yr==="&"?yr=Oo("",ce,be):yr=Oo(Oe,ce,be):St&&!ce&&(yr==="&"||yr==="")&&(yr="",Xr=!0);var _o=U(Ke,at,{root:Xr,injectHash:fr,parentSelectors:[].concat((0,nt.Z)(Jt),[yr])}),ji=(0,M.Z)(_o,2),Or=ji[0],qr=ji[1];fn=(0,J.Z)((0,J.Z)({},fn),qr),Le+="".concat(yr).concat(Or)}else{let Ts=function(gi,Yr){var uo=gi.replace(/[A-Z]/g,function(Xs){return"-".concat(Xs.toLowerCase())}),Ki=Yr;!zs[gi]&&typeof Ki=="number"&&Ki!==0&&(Ki="".concat(Ki,"px")),gi==="animationName"&&Yr!==null&&Yr!==void 0&&Yr._keyframe&&(ct(Yr),Ki=Yr.getName(ce)),Le+="".concat(uo,":").concat(Ki,";")};var Ti,pn=(Ti=Ke==null?void 0:Ke.value)!==null&&Ti!==void 0?Ti:Ke;(0,Me.Z)(Ke)==="object"&&Ke!==null&&Ke!==void 0&&Ke[co]&&Array.isArray(pn)?pn.forEach(function(gi){Ts(Oe,gi)}):Ts(Oe,pn)}})}}),St?Qt&&(Le&&(Le="@layer ".concat(Qt.name," {").concat(Le,"}")),Qt.dependencies&&(fn["@layer ".concat(Qt.name)]=Qt.dependencies.map(function(Ut){return"@layer ".concat(Ut,", ").concat(Qt.name,";")}).join(`
`))):Le="{".concat(Le,"}"),[Le,fn]};function wi(U,st){return q("".concat(U.join("%")).concat(st))}function Kr(){return null}var si="style";function To(U,st){var at=U.token,ft=U.path,St=U.hashId,Gt=U.layer,Jt=U.nonce,ce=U.clientOnly,Qt=U.order,ue=Qt===void 0?0:Qt,be=T.useContext(ge),Re=be.autoClear,ve=be.mock,Qe=be.defaultCache,hn=be.hashPriority,Le=be.container,fn=be.ssrInline,ct=be.transformers,xt=be.linters,bt=be.cache,Ut=be.layer,de=at._tokenKey,Ae=[de];Ut&&Ae.push("layer"),Ae.push.apply(Ae,(0,nt.Z)(ft));var Oe=tr,Ke=ai(si,Ae,function(){var ji=Ae.join("|");if(bn(ji)){var Or=ur(ji),qr=(0,M.Z)(Or,2),Ti=qr[0],pn=qr[1];if(Ti)return[Ti,de,pn,{},ce,ue]}var Ts=st(),gi=Mo(Ts,{hashId:St,hashPriority:hn,layer:Ut?Gt:void 0,path:ft.join("-"),transformers:ct,linters:xt}),Yr=(0,M.Z)(gi,2),uo=Yr[0],Ki=Yr[1],Xs=us(uo),Mr=wi(Ae,Xs);return[Xs,de,Mr,Ki,ce,ue]},function(ji,Or){var qr=(0,M.Z)(ji,3),Ti=qr[2];(Or||Re)&&tr&&(0,K.jL)(Ti,{mark:z})},function(ji){var Or=(0,M.Z)(ji,4),qr=Or[0],Ti=Or[1],pn=Or[2],Ts=Or[3];if(Oe&&qr!==me){var gi={mark:z,prepend:Ut?!1:"queue",attachTo:Le,priority:ue},Yr=typeof Jt=="function"?Jt():Jt;Yr&&(gi.csp={nonce:Yr});var uo=[],Ki=[];Object.keys(Ts).forEach(function(Mr){Mr.startsWith("@layer")?uo.push(Mr):Ki.push(Mr)}),uo.forEach(function(Mr){(0,K.hq)(us(Ts[Mr]),"_layer-".concat(Mr),(0,J.Z)((0,J.Z)({},gi),{},{prepend:!0}))});var Xs=(0,K.hq)(qr,pn,gi);Xs[Ft]=bt.instanceId,Xs.setAttribute(jt,de),Ki.forEach(function(Mr){(0,K.hq)(us(Ts[Mr]),"_effect-".concat(Mr),gi)})}}),fr=(0,M.Z)(Ke,3),yr=fr[0],Xr=fr[1],_o=fr[2];return function(ji){var Or;if(!fn||Oe||!Qe)Or=T.createElement(Kr,null);else{var qr;Or=T.createElement("style",(0,Ss.Z)({},(qr={},(0,R.Z)(qr,jt,Xr),(0,R.Z)(qr,z,_o),qr),{dangerouslySetInnerHTML:{__html:yr}}))}return T.createElement(T.Fragment,null,Or,ji)}}var oi=function(st,at,ft){var St=(0,M.Z)(st,6),Gt=St[0],Jt=St[1],ce=St[2],Qt=St[3],ue=St[4],be=St[5],Re=ft||{},ve=Re.plain;if(ue)return null;var Qe=Gt,hn={"data-rc-order":"prependQueue","data-rc-priority":"".concat(be)};return Qe=Rr(Gt,Jt,ce,hn,ve),Qt&&Object.keys(Qt).forEach(function(Le){if(!at[Le]){at[Le]=!0;var fn=us(Qt[Le]),ct=Rr(fn,Jt,"_effect-".concat(Le),hn,ve);Le.startsWith("@layer")?Qe=ct+Qe:Qe+=ct}}),[be,ce,Qe]},xa="cssVar",Kn=function(st,at){var ft=st.key,St=st.prefix,Gt=st.unitless,Jt=st.ignore,ce=st.token,Qt=st.scope,ue=Qt===void 0?"":Qt,be=(0,T.useContext)(ge),Re=be.cache.instanceId,ve=be.container,Qe=ce._tokenKey,hn=[].concat((0,nt.Z)(st.path),[ft,ue,Qe]),Le=ai(xa,hn,function(){var fn=at(),ct=qn(fn,ft,{prefix:St,unitless:Gt,ignore:Jt,scope:ue}),xt=(0,M.Z)(ct,2),bt=xt[0],Ut=xt[1],de=wi(hn,Ut);return[bt,Ut,de,ft]},function(fn){var ct=(0,M.Z)(fn,3),xt=ct[2];tr&&(0,K.jL)(xt,{mark:z})},function(fn){var ct=(0,M.Z)(fn,3),xt=ct[1],bt=ct[2];if(xt){var Ut=(0,K.hq)(xt,bt,{mark:z,prepend:"queue",attachTo:ve,priority:-999});Ut[Ft]=Re,Ut.setAttribute(jt,ft)}});return Le},Ks=function(st,at,ft){var St=(0,M.Z)(st,4),Gt=St[1],Jt=St[2],ce=St[3],Qt=ft||{},ue=Qt.plain;if(!Gt)return null;var be=-999,Re={"data-rc-order":"prependQueue","data-rc-priority":"".concat(be)},ve=Rr(Gt,ce,Jt,Re,ue);return[be,Jt,ve]},Ha=Kn,Vn,Os=(Vn={},(0,R.Z)(Vn,si,oi),(0,R.Z)(Vn,is,$s),(0,R.Z)(Vn,xa,Ks),Vn);function ra(U){return U!==null}function yl(U,st){var at=typeof st=="boolean"?{plain:st}:st||{},ft=at.plain,St=ft===void 0?!1:ft,Gt=at.types,Jt=Gt===void 0?["style","token","cssVar"]:Gt,ce=new RegExp("^(".concat((typeof Jt=="string"?[Jt]:Jt).join("|"),")%")),Qt=Array.from(U.cache.keys()).filter(function(ve){return ce.test(ve)}),ue={},be={},Re="";return Qt.map(function(ve){var Qe=ve.replace(ce,"").replace(/%/g,"|"),hn=ve.split("%"),Le=_slicedToArray(hn,1),fn=Le[0],ct=Os[fn],xt=ct(U.cache.get(ve)[1],ue,{plain:St});if(!xt)return null;var bt=_slicedToArray(xt,3),Ut=bt[0],de=bt[1],Ae=bt[2];return ve.startsWith("style")&&(be[Qe]=de),[Ut,Ae]}).filter(ra).sort(function(ve,Qe){var hn=_slicedToArray(ve,1),Le=hn[0],fn=_slicedToArray(Qe,1),ct=fn[0];return Le-ct}).forEach(function(ve){var Qe=_slicedToArray(ve,2),hn=Qe[1];Re+=hn}),Re+=toStyleStr(".".concat(ATTR_CACHE_MAP,'{content:"').concat(serializeCacheMap(be),'";}'),void 0,void 0,_defineProperty({},ATTR_CACHE_MAP,ATTR_CACHE_MAP),St),Re}var Wa=function(){function U(st,at){(0,k.Z)(this,U),(0,R.Z)(this,"name",void 0),(0,R.Z)(this,"style",void 0),(0,R.Z)(this,"_keyframe",!0),this.name=st,this.style=at}return(0,I.Z)(U,[{key:"getName",value:function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return at?"".concat(at,"-").concat(this.name):this.name}}]),U}(),Rn=Wa;function vr(U){if(typeof U=="number")return[[U],!1];var st=String(U).trim(),at=st.match(/(.*)(!important)/),ft=(at?at[1]:st).trim().split(/\s+/),St=[],Gt=0;return[ft.reduce(function(Jt,ce){if(ce.includes("(")||ce.includes(")")){var Qt=ce.split("(").length-1,ue=ce.split(")").length-1;Gt+=Qt-ue}return Gt>=0&&St.push(ce),Gt===0&&(Jt.push(St.join(" ")),St=[]),Jt},[]),!!at]}function Ci(U){return U.notSplit=!0,U}var wa={inset:["top","right","bottom","left"],insetBlock:["top","bottom"],insetBlockStart:["top"],insetBlockEnd:["bottom"],insetInline:["left","right"],insetInlineStart:["left"],insetInlineEnd:["right"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],borderBlock:Ci(["borderTop","borderBottom"]),borderBlockStart:Ci(["borderTop"]),borderBlockEnd:Ci(["borderBottom"]),borderInline:Ci(["borderLeft","borderRight"]),borderInlineStart:Ci(["borderLeft"]),borderInlineEnd:Ci(["borderRight"]),borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndWidth:["borderBottomWidth"],borderInlineWidth:["borderLeftWidth","borderRightWidth"],borderInlineStartWidth:["borderLeftWidth"],borderInlineEndWidth:["borderRightWidth"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderBlockStartStyle:["borderTopStyle"],borderBlockEndStyle:["borderBottomStyle"],borderInlineStyle:["borderLeftStyle","borderRightStyle"],borderInlineStartStyle:["borderLeftStyle"],borderInlineEndStyle:["borderRightStyle"],borderBlockColor:["borderTopColor","borderBottomColor"],borderBlockStartColor:["borderTopColor"],borderBlockEndColor:["borderBottomColor"],borderInlineColor:["borderLeftColor","borderRightColor"],borderInlineStartColor:["borderLeftColor"],borderInlineEndColor:["borderRightColor"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"]};function fs(U,st){var at=U;return st&&(at="".concat(at," !important")),{_skip_check_:!0,value:at}}var Gl={visit:function(st){var at={};return Object.keys(st).forEach(function(ft){var St=st[ft],Gt=wa[ft];if(Gt&&(typeof St=="number"||typeof St=="string")){var Jt=vr(St),ce=(0,M.Z)(Jt,2),Qt=ce[0],ue=ce[1];Gt.length&&Gt.notSplit?Gt.forEach(function(be){at[be]=fs(St,ue)}):Gt.length===1?at[Gt[0]]=fs(Qt[0],ue):Gt.length===2?Gt.forEach(function(be,Re){var ve;at[be]=fs((ve=Qt[Re])!==null&&ve!==void 0?ve:Qt[0],ue)}):Gt.length===4?Gt.forEach(function(be,Re){var ve,Qe;at[be]=fs((ve=(Qe=Qt[Re])!==null&&Qe!==void 0?Qe:Qt[Re-2])!==null&&ve!==void 0?ve:Qt[0],ue)}):at[ft]=St}else at[ft]=St}),at}},Ca=null,Sa=/url\([^)]+\)|var\([^)]+\)|(\d*\.?\d+)px/g;function bl(U,st){var at=Math.pow(10,st+1),ft=Math.floor(U*at);return Math.round(ft/10)*10/at}var Ua=function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=st.rootValue,ft=at===void 0?16:at,St=st.precision,Gt=St===void 0?5:St,Jt=st.mediaQuery,ce=Jt===void 0?!1:Jt,Qt=function(Re,ve){if(!ve)return Re;var Qe=parseFloat(ve);if(Qe<=1)return Re;var hn=bl(Qe/ft,Gt);return"".concat(hn,"rem")},ue=function(Re){var ve=_objectSpread({},Re);return Object.entries(Re).forEach(function(Qe){var hn=_slicedToArray(Qe,2),Le=hn[0],fn=hn[1];if(typeof fn=="string"&&fn.includes("px")){var ct=fn.replace(Sa,Qt);ve[Le]=ct}!unitless[Le]&&typeof fn=="number"&&fn!==0&&(ve[Le]="".concat(fn,"px").replace(Sa,Qt));var xt=Le.trim();if(xt.startsWith("@")&&xt.includes("px")&&ce){var bt=Le.replace(Sa,Qt);ve[bt]=ve[Le],delete ve[Le]}}),ve};return{visit:ue}},Ms=null,xl={supportModernCSS:function(){return zn()&&jn()}}},84432:function(At,Et,V){"use strict";V.d(Et,{t:function(){return q}});var R=V(35576);const M=Math.round;function nt(K,T){const x=K.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],w=x.map(N=>parseFloat(N));for(let N=0;N<3;N+=1)w[N]=T(w[N]||0,x[N]||"",N);return x[3]?w[3]=x[3].includes("%")?w[3]/100:w[3]:w[3]=1,w}const J=(K,T,x)=>x===0?K:K/100;function vt(K,T){const x=T||255;return K>x?x:K<0?0:K}class q{constructor(T){(0,R.Z)(this,"isValid",!0),(0,R.Z)(this,"r",0),(0,R.Z)(this,"g",0),(0,R.Z)(this,"b",0),(0,R.Z)(this,"a",1),(0,R.Z)(this,"_h",void 0),(0,R.Z)(this,"_s",void 0),(0,R.Z)(this,"_l",void 0),(0,R.Z)(this,"_v",void 0),(0,R.Z)(this,"_max",void 0),(0,R.Z)(this,"_min",void 0),(0,R.Z)(this,"_brightness",void 0);function x(w){return w[0]in T&&w[1]in T&&w[2]in T}if(T)if(typeof T=="string"){let N=function(k){return w.startsWith(k)};const w=T.trim();/^#?[A-F\d]{3,8}$/i.test(w)?this.fromHexString(w):N("rgb")?this.fromRgbString(w):N("hsl")?this.fromHslString(w):(N("hsv")||N("hsb"))&&this.fromHsvString(w)}else if(T instanceof q)this.r=T.r,this.g=T.g,this.b=T.b,this.a=T.a,this._h=T._h,this._s=T._s,this._l=T._l,this._v=T._v;else if(x("rgb"))this.r=vt(T.r),this.g=vt(T.g),this.b=vt(T.b),this.a=typeof T.a=="number"?vt(T.a,1):1;else if(x("hsl"))this.fromHsl(T);else if(x("hsv"))this.fromHsv(T);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(T))}setR(T){return this._sc("r",T)}setG(T){return this._sc("g",T)}setB(T){return this._sc("b",T)}setA(T){return this._sc("a",T,1)}setHue(T){const x=this.toHsv();return x.h=T,this._c(x)}getLuminance(){function T(k){const I=k/255;return I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4)}const x=T(this.r),w=T(this.g),N=T(this.b);return .2126*x+.7152*w+.0722*N}getHue(){if(typeof this._h=="undefined"){const T=this.getMax()-this.getMin();T===0?this._h=0:this._h=M(60*(this.r===this.getMax()?(this.g-this.b)/T+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/T+2:(this.r-this.g)/T+4))}return this._h}getSaturation(){if(typeof this._s=="undefined"){const T=this.getMax()-this.getMin();T===0?this._s=0:this._s=T/this.getMax()}return this._s}getLightness(){return typeof this._l=="undefined"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v=="undefined"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness=="undefined"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(T=10){const x=this.getHue(),w=this.getSaturation();let N=this.getLightness()-T/100;return N<0&&(N=0),this._c({h:x,s:w,l:N,a:this.a})}lighten(T=10){const x=this.getHue(),w=this.getSaturation();let N=this.getLightness()+T/100;return N>1&&(N=1),this._c({h:x,s:w,l:N,a:this.a})}mix(T,x=50){const w=this._c(T),N=x/100,k=Y=>(w[Y]-this[Y])*N+this[Y],I={r:M(k("r")),g:M(k("g")),b:M(k("b")),a:M(k("a")*100)/100};return this._c(I)}tint(T=10){return this.mix({r:255,g:255,b:255,a:1},T)}shade(T=10){return this.mix({r:0,g:0,b:0,a:1},T)}onBackground(T){const x=this._c(T),w=this.a+x.a*(1-this.a),N=k=>M((this[k]*this.a+x[k]*x.a*(1-this.a))/w);return this._c({r:N("r"),g:N("g"),b:N("b"),a:w})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(T){return this.r===T.r&&this.g===T.g&&this.b===T.b&&this.a===T.a}clone(){return this._c(this)}toHexString(){let T="#";const x=(this.r||0).toString(16);T+=x.length===2?x:"0"+x;const w=(this.g||0).toString(16);T+=w.length===2?w:"0"+w;const N=(this.b||0).toString(16);if(T+=N.length===2?N:"0"+N,typeof this.a=="number"&&this.a>=0&&this.a<1){const k=M(this.a*255).toString(16);T+=k.length===2?k:"0"+k}return T}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const T=this.getHue(),x=M(this.getSaturation()*100),w=M(this.getLightness()*100);return this.a!==1?`hsla(${T},${x}%,${w}%,${this.a})`:`hsl(${T},${x}%,${w}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(T,x,w){const N=this.clone();return N[T]=vt(x,w),N}_c(T){return new this.constructor(T)}getMax(){return typeof this._max=="undefined"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min=="undefined"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(T){const x=T.replace("#","");function w(N,k){return parseInt(x[N]+x[k||N],16)}x.length<6?(this.r=w(0),this.g=w(1),this.b=w(2),this.a=x[3]?w(3)/255:1):(this.r=w(0,1),this.g=w(2,3),this.b=w(4,5),this.a=x[6]?w(6,7)/255:1)}fromHsl({h:T,s:x,l:w,a:N}){if(this._h=T%360,this._s=x,this._l=w,this.a=typeof N=="number"?N:1,x<=0){const jt=M(w*255);this.r=jt,this.g=jt,this.b=jt}let k=0,I=0,Y=0;const dt=T/60,b=(1-Math.abs(2*w-1))*x,ot=b*(1-Math.abs(dt%2-1));dt>=0&&dt<1?(k=b,I=ot):dt>=1&&dt<2?(k=ot,I=b):dt>=2&&dt<3?(I=b,Y=ot):dt>=3&&dt<4?(I=ot,Y=b):dt>=4&&dt<5?(k=ot,Y=b):dt>=5&&dt<6&&(k=b,Y=ot);const it=w-b/2;this.r=M((k+it)*255),this.g=M((I+it)*255),this.b=M((Y+it)*255)}fromHsv({h:T,s:x,v:w,a:N}){this._h=T%360,this._s=x,this._v=w,this.a=typeof N=="number"?N:1;const k=M(w*255);if(this.r=k,this.g=k,this.b=k,x<=0)return;const I=T/60,Y=Math.floor(I),dt=I-Y,b=M(w*(1-x)*255),ot=M(w*(1-x*dt)*255),it=M(w*(1-x*(1-dt))*255);switch(Y){case 0:this.g=it,this.b=b;break;case 1:this.r=ot,this.b=b;break;case 2:this.r=b,this.b=it;break;case 3:this.r=b,this.g=ot;break;case 4:this.r=it,this.g=b;break;case 5:default:this.g=b,this.b=ot;break}}fromHsvString(T){const x=nt(T,J);this.fromHsv({h:x[0],s:x[1],v:x[2],a:x[3]})}fromHslString(T){const x=nt(T,J);this.fromHsl({h:x[0],s:x[1],l:x[2],a:x[3]})}fromRgbString(T){const x=nt(T,(w,N)=>N.includes("%")?M(w/100*255):w);this.r=x[0],this.g=x[1],this.b=x[2],this.a=x[3]}}},74355:function(At){(function(V,R){At.exports=R()})(typeof self!="undefined"?self:this,function(){return function(Et){var V={};function R(M){if(V[M])return V[M].exports;var nt=V[M]={i:M,l:!1,exports:{}};return Et[M].call(nt.exports,nt,nt.exports,R),nt.l=!0,nt.exports}return R.m=Et,R.c=V,R.d=function(M,nt,J){R.o(M,nt)||Object.defineProperty(M,nt,{configurable:!1,enumerable:!0,get:J})},R.n=function(M){var nt=M&&M.__esModule?function(){return M.default}:function(){return M};return R.d(nt,"a",nt),nt},R.o=function(M,nt){return Object.prototype.hasOwnProperty.call(M,nt)},R.p="",R(R.s=5)}([function(Et,V){function R(M,nt,J,vt){return vt===void 0&&(vt="height"),J==="center"?(M[vt]+nt[vt])/2:M.height}Et.exports={assign:Object.assign,getHeight:R}},function(Et,V,R){var M=R(3),nt=function(){function J(q,K){K===void 0&&(K={});var T=this;T.options=K,T.rootNode=M(q,K)}var vt=J.prototype;return vt.execute=function(){throw new Error("please override this method")},J}();Et.exports=nt},function(Et,V,R){var M=R(4),nt=["LR","RL","TB","BT","H","V"],J=["LR","RL","H"],vt=function(x){return J.indexOf(x)>-1},q=nt[0];Et.exports=function(T,x,w){var N=x.direction||q;if(x.isHorizontal=vt(N),N&&nt.indexOf(N)===-1)throw new TypeError("Invalid direction: "+N);if(N===nt[0])w(T,x);else if(N===nt[1])w(T,x),T.right2left();else if(N===nt[2])w(T,x);else if(N===nt[3])w(T,x),T.bottom2top();else if(N===nt[4]||N===nt[5]){var k=M(T,x),I=k.left,Y=k.right;w(I,x),w(Y,x),x.isHorizontal?I.right2left():I.bottom2top(),Y.translate(I.x-Y.x,I.y-Y.y),T.x=I.x,T.y=Y.y;var dt=T.getBoundingBox();x.isHorizontal?dt.top<0&&T.translate(0,-dt.top):dt.left<0&&T.translate(-dt.left,0)}var b=x.fixedRoot;return b===void 0&&(b=!0),b&&T.translate(-(T.x+T.width/2+T.hgap),-(T.y+T.height/2+T.vgap)),K(T,x),T};function K(T,x){if(x.radial){var w=x.isHorizontal?["x","y"]:["y","x"],N=w[0],k=w[1],I={x:1/0,y:1/0},Y={x:-1/0,y:-1/0},dt=0;T.DFTraverse(function(it){dt++;var jt=it.x,z=it.y;I.x=Math.min(I.x,jt),I.y=Math.min(I.y,z),Y.x=Math.max(Y.x,jt),Y.y=Math.max(Y.y,z)});var b=Y[k]-I[k];if(b===0)return;var ot=Math.PI*2/dt;T.DFTraverse(function(it){var jt=(it[k]-I[k])/b*(Math.PI*2-ot)+ot,z=it[N]-T[N];it.x=Math.cos(jt)*z,it.y=Math.sin(jt)*z})}}},function(Et,V,R){var M=R(0),nt=18,J=nt*2,vt=nt,q={getId:function(w){return w.id||w.name},getPreH:function(w){return w.preH||0},getPreV:function(w){return w.preV||0},getHGap:function(w){return w.hgap||vt},getVGap:function(w){return w.vgap||vt},getChildren:function(w){return w.children},getHeight:function(w){return w.height||J},getWidth:function(w){var N=w.label||" ";return w.width||N.split("").length*nt}};function K(x,w){var N=this;if(N.vgap=N.hgap=0,x instanceof K)return x;N.data=x;var k=w.getHGap(x),I=w.getVGap(x);return N.preH=w.getPreH(x),N.preV=w.getPreV(x),N.width=w.getWidth(x),N.height=w.getHeight(x),N.width+=N.preH,N.height+=N.preV,N.id=w.getId(x),N.x=N.y=0,N.depth=0,N.children||(N.children=[]),N.addGap(k,I),N}M.assign(K.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(w,N){var k=this;k.hgap+=w,k.vgap+=N,k.width+=2*w,k.height+=2*N},eachNode:function(w){for(var N=this,k=[N],I;I=k.shift();)w(I),k=I.children.concat(k)},DFTraverse:function(w){this.eachNode(w)},BFTraverse:function(w){for(var N=this,k=[N],I;I=k.shift();)w(I),k=k.concat(I.children)},getBoundingBox:function(){var w={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(N){w.left=Math.min(w.left,N.x),w.top=Math.min(w.top,N.y),w.width=Math.max(w.width,N.x+N.width),w.height=Math.max(w.height,N.y+N.height)}),w},translate:function(w,N){w===void 0&&(w=0),N===void 0&&(N=0),this.eachNode(function(k){k.x+=w,k.y+=N,k.x+=k.preH,k.y+=k.preV})},right2left:function(){var w=this,N=w.getBoundingBox();w.eachNode(function(k){k.x=k.x-(k.x-N.left)*2-k.width}),w.translate(N.width,0)},bottom2top:function(){var w=this,N=w.getBoundingBox();w.eachNode(function(k){k.y=k.y-(k.y-N.top)*2-k.height}),w.translate(0,N.height)}});function T(x,w,N){w===void 0&&(w={}),w=M.assign({},q,w);var k=new K(x,w),I=[k],Y;if(!N&&!x.collapsed){for(;Y=I.shift();)if(!Y.data.collapsed){var dt=w.getChildren(Y.data),b=dt?dt.length:0;if(Y.children=new Array(b),dt&&b)for(var ot=0;ot<b;ot++){var it=new K(dt[ot],w);Y.children[ot]=it,I.push(it),it.parent=Y,it.depth=Y.depth+1}}}return k}Et.exports=T},function(Et,V,R){var M=R(3);Et.exports=function(nt,J){for(var vt=M(nt.data,J,!0),q=M(nt.data,J,!0),K=nt.children.length,T=Math.round(K/2),x=J.getSide||function(I,Y){return Y<T?"right":"left"},w=0;w<K;w++){var N=nt.children[w],k=x(N,w);k==="right"?q.children.push(N):vt.children.push(N)}return vt.eachNode(function(I){I.isRoot()||(I.side="left")}),q.eachNode(function(I){I.isRoot()||(I.side="right")}),{left:vt,right:q}}},function(Et,V,R){var M={compactBox:R(6),dendrogram:R(8),indented:R(10),mindmap:R(12)};Et.exports=M},function(Et,V,R){function M(N,k){N.prototype=Object.create(k.prototype),N.prototype.constructor=N,nt(N,k)}function nt(N,k){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,Y){return I.__proto__=Y,I},nt(N,k)}var J=R(1),vt=R(7),q=R(2),K=R(0),T=function(N){function k(){return N.apply(this,arguments)||this}M(k,N);var I=k.prototype;return I.execute=function(){var dt=this;return q(dt.rootNode,dt.options,vt)},k}(J),x={};function w(N,k){return k=K.assign({},x,k),new T(N,k).execute()}Et.exports=w},function(Et,V){function R(K,T,x,w){w===void 0&&(w=[]);var N=this;N.w=K||0,N.h=T||0,N.y=x||0,N.x=0,N.c=w||[],N.cs=w.length,N.prelim=0,N.mod=0,N.shift=0,N.change=0,N.tl=null,N.tr=null,N.el=null,N.er=null,N.msel=0,N.mser=0}R.fromNode=function(K,T){if(!K)return null;var x=[];return K.children.forEach(function(w){x.push(R.fromNode(w,T))}),T?new R(K.height,K.width,K.x,x):new R(K.width,K.height,K.y,x)};function M(K,T,x){x?K.y+=T:K.x+=T,K.children.forEach(function(w){M(w,T,x)})}function nt(K,T){var x=T?K.y:K.x;return K.children.forEach(function(w){x=Math.min(nt(w,T),x)}),x}function J(K,T){var x=nt(K,T);M(K,-x,T)}function vt(K,T,x){x?T.y=K.x:T.x=K.x,K.c.forEach(function(w,N){vt(w,T.children[N],x)})}function q(K,T,x){x===void 0&&(x=0),T?(K.x=x,x+=K.width):(K.y=x,x+=K.height),K.children.forEach(function(w){q(w,T,x)})}Et.exports=function(K,T){T===void 0&&(T={});var x=T.isHorizontal;function w(It){if(It.cs===0){N(It);return}w(It.c[0]);for(var ge=ke(b(It.c[0].el),0,null),Me=1;Me<It.cs;++Me){w(It.c[Me]);var Se=b(It.c[Me].er);k(It,Me,ge),ge=ke(Se,Me,ge)}jt(It),N(It)}function N(It){It.cs===0?(It.el=It,It.er=It,It.msel=It.mser=0):(It.el=It.c[0].el,It.msel=It.c[0].msel,It.er=It.c[It.cs-1].er,It.mser=It.c[It.cs-1].mser)}function k(It,ge,Me){for(var Se=It.c[ge-1],Kt=Se.mod,Bt=It.c[ge],te=Bt.mod;Se!==null&&Bt!==null;){b(Se)>Me.low&&(Me=Me.nxt);var oe=Kt+Se.prelim+Se.w-(te+Bt.prelim);oe>0&&(te+=oe,I(It,ge,Me.index,oe));var ye=b(Se),$t=b(Bt);ye<=$t&&(Se=dt(Se),Se!==null&&(Kt+=Se.mod)),ye>=$t&&(Bt=Y(Bt),Bt!==null&&(te+=Bt.mod))}!Se&&Bt?ot(It,ge,Bt,te):Se&&!Bt&&it(It,ge,Se,Kt)}function I(It,ge,Me,Se){It.c[ge].mod+=Se,It.c[ge].msel+=Se,It.c[ge].mser+=Se,Ot(It,ge,Me,Se)}function Y(It){return It.cs===0?It.tl:It.c[0]}function dt(It){return It.cs===0?It.tr:It.c[It.cs-1]}function b(It){return It.y+It.h}function ot(It,ge,Me,Se){var Kt=It.c[0].el;Kt.tl=Me;var Bt=Se-Me.mod-It.c[0].msel;Kt.mod+=Bt,Kt.prelim-=Bt,It.c[0].el=It.c[ge].el,It.c[0].msel=It.c[ge].msel}function it(It,ge,Me,Se){var Kt=It.c[ge].er;Kt.tr=Me;var Bt=Se-Me.mod-It.c[ge].mser;Kt.mod+=Bt,Kt.prelim-=Bt,It.c[ge].er=It.c[ge-1].er,It.c[ge].mser=It.c[ge-1].mser}function jt(It){It.prelim=(It.c[0].prelim+It.c[0].mod+It.c[It.cs-1].mod+It.c[It.cs-1].prelim+It.c[It.cs-1].w)/2-It.w/2}function z(It,ge){ge+=It.mod,It.x=It.prelim+ge,Ft(It);for(var Me=0;Me<It.cs;Me++)z(It.c[Me],ge)}function Ot(It,ge,Me,Se){if(Me!==ge-1){var Kt=ge-Me;It.c[Me+1].shift+=Se/Kt,It.c[ge].shift-=Se/Kt,It.c[ge].change-=Se-Se/Kt}}function Ft(It){for(var ge=0,Me=0,Se=0;Se<It.cs;Se++)ge+=It.c[Se].shift,Me+=ge+It.c[Se].change,It.c[Se].mod+=Me}function ke(It,ge,Me){for(;Me!==null&&It>=Me.low;)Me=Me.nxt;return{low:It,index:ge,nxt:Me}}q(K,x);var _n=R.fromNode(K,x);return w(_n),z(_n,0),vt(_n,K,x),J(K,x),K}},function(Et,V,R){function M(N,k){N.prototype=Object.create(k.prototype),N.prototype.constructor=N,nt(N,k)}function nt(N,k){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,Y){return I.__proto__=Y,I},nt(N,k)}var J=R(1),vt=R(9),q=R(2),K=R(0),T=function(N){function k(){return N.apply(this,arguments)||this}M(k,N);var I=k.prototype;return I.execute=function(){var dt=this;return dt.rootNode.width=0,q(dt.rootNode,dt.options,vt)},k}(J),x={};function w(N,k){return k=K.assign({},x,k),new T(N,k).execute()}Et.exports=w},function(Et,V,R){var M=R(0);function nt(q,K){q===void 0&&(q=0),K===void 0&&(K=[]);var T=this;T.x=T.y=0,T.leftChild=T.rightChild=null,T.height=0,T.children=K}var J={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function vt(q,K,T){T?(K.x=q.x,K.y=q.y):(K.x=q.y,K.y=q.x),q.children.forEach(function(x,w){vt(x,K.children[w],T)})}Et.exports=function(q,K){K===void 0&&(K={}),K=M.assign({},J,K);var T=0;function x(Y){if(!Y)return null;Y.width=0,Y.depth&&Y.depth>T&&(T=Y.depth);var dt=Y.children,b=dt.length,ot=new nt(Y.height,[]);return dt.forEach(function(it,jt){var z=x(it);ot.children.push(z),jt===0&&(ot.leftChild=z),jt===b-1&&(ot.rightChild=z)}),ot.originNode=Y,ot.isLeaf=Y.isLeaf(),ot}function w(Y){if(Y.isLeaf||Y.children.length===0)Y.drawingDepth=T;else{var dt=Y.children.map(function(ot){return w(ot)}),b=Math.min.apply(null,dt);Y.drawingDepth=b-1}return Y.drawingDepth}var N;function k(Y){Y.x=Y.drawingDepth*K.rankSep,Y.isLeaf?(Y.y=0,N&&(Y.y=N.y+N.height+K.nodeSep,Y.originNode.parent!==N.originNode.parent&&(Y.y+=K.subTreeSep)),N=Y):(Y.children.forEach(function(dt){k(dt)}),Y.y=(Y.leftChild.y+Y.rightChild.y)/2)}var I=x(q);return w(I),k(I),vt(I,q,K.isHorizontal),q}},function(Et,V,R){function M(I,Y){I.prototype=Object.create(Y.prototype),I.prototype.constructor=I,nt(I,Y)}function nt(I,Y){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dt,b){return dt.__proto__=b,dt},nt(I,Y)}var J=R(1),vt=R(11),q=R(4),K=R(0),T=["LR","RL","H"],x=T[0],w=function(I){function Y(){return I.apply(this,arguments)||this}M(Y,I);var dt=Y.prototype;return dt.execute=function(){var ot=this,it=ot.options,jt=ot.rootNode;it.isHorizontal=!0;var z=it.indent,Ot=z===void 0?20:z,Ft=it.dropCap,ke=Ft===void 0?!0:Ft,_n=it.direction,It=_n===void 0?x:_n,ge=it.align;if(It&&T.indexOf(It)===-1)throw new TypeError("Invalid direction: "+It);if(It===T[0])vt(jt,Ot,ke,ge);else if(It===T[1])vt(jt,Ot,ke,ge),jt.right2left();else if(It===T[2]){var Me=q(jt,it),Se=Me.left,Kt=Me.right;vt(Se,Ot,ke,ge),Se.right2left(),vt(Kt,Ot,ke,ge);var Bt=Se.getBoundingBox();Kt.translate(Bt.width,0),jt.x=Kt.x-jt.width/2}return jt},Y}(J),N={};function k(I,Y){return Y=K.assign({},N,Y),new w(I,Y).execute()}Et.exports=k},function(Et,V,R){var M=R(0);function nt(J,vt,q,K,T){var x=(typeof q=="function"?q(J):q)*J.depth;if(!K)try{if(J.id===J.parent.children[0].id){J.x+=x,J.y=vt?vt.y:0;return}}catch(k){}if(J.x+=x,vt){if(J.y=vt.y+M.getHeight(vt,J,T),vt.parent&&J.parent.id!==vt.parent.id){var w=vt.parent,N=w.y+M.getHeight(w,J,T);J.y=N>J.y?N:J.y}}else J.y=0}Et.exports=function(J,vt,q,K){var T=null;J.eachNode(function(x){nt(x,T,vt,q,K),T=x})}},function(Et,V,R){function M(N,k){N.prototype=Object.create(k.prototype),N.prototype.constructor=N,nt(N,k)}function nt(N,k){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,Y){return I.__proto__=Y,I},nt(N,k)}var J=R(1),vt=R(13),q=R(2),K=R(0),T=function(N){function k(){return N.apply(this,arguments)||this}M(k,N);var I=k.prototype;return I.execute=function(){var dt=this;return q(dt.rootNode,dt.options,vt)},k}(J),x={};function w(N,k){return k=K.assign({},x,k),new T(N,k).execute()}Et.exports=w},function(Et,V,R){var M=R(0);function nt(q,K){var T=0;return q.children.length?q.children.forEach(function(x){T+=nt(x,K)}):T=q.height,q._subTreeSep=K.getSubTreeSep(q.data),q.totalHeight=Math.max(q.height,T)+2*q._subTreeSep,q.totalHeight}function J(q){var K=q.children,T=K.length;if(T){K.forEach(function(Y){J(Y)});var x=K[0],w=K[T-1],N=w.y-x.y+w.height,k=0;if(K.forEach(function(Y){k+=Y.totalHeight}),N>q.height)q.y=x.y+N/2-q.height/2;else if(K.length!==1||q.height>k){var I=q.y+(q.height-N)/2-x.y;K.forEach(function(Y){Y.translate(0,I)})}else q.y=(x.y+x.height/2+w.y+w.height/2)/2-q.height/2}}var vt={getSubTreeSep:function(){return 0}};Et.exports=function(q,K){K===void 0&&(K={}),K=M.assign({},vt,K),q.parent={x:0,width:0,height:0,y:0},q.BFTraverse(function(T){T.x=T.parent.x+T.parent.width}),q.parent=null,nt(q,K),q.startY=0,q.y=q.totalHeight/2-q.height/2,q.eachNode(function(T){var x=T.children,w=x.length;if(w){var N=x[0];if(N.startY=T.startY+T._subTreeSep,w===1)N.y=T.y+T.height/2-N.height/2;else{N.y=N.startY+N.totalHeight/2-N.height/2;for(var k=1;k<w;k++){var I=x[k];I.startY=x[k-1].startY+x[k-1].totalHeight,I.y=I.startY+I.totalHeight/2-I.height/2}}}}),J(q)}}])})},65852:function(At,Et,V){"use strict";V.d(Et,{RO:function(){return M},ew:function(){return kl},mf:function(){return K},Xy:function(){return ly},Db:function(){return Xm},JT:function(){return x},is:function(){return q},Iw:function(){return vt},CG:function(){return Ym},tx:function(){return qm},GH:function(){return J},QK:function(){return R},t4:function(){return zl},bB:function(){return Km},kf:function(){return nt},Yt:function(){return Ul},OW:function(){return Xn}});var R={};V.r(R),V.d(R,{applyMixins:function(){return Bf},clone:function(){return Ud},cloneDeep:function(){return Bc},createClass:function(){return og},defaults:function(){return Yd},defaultsDeep:function(){return ng},ensure:function(){return Pu},flatten:function(){return $f},getBoolean:function(){return lg},getByPath:function(){return Vf},getNumber:function(){return ag},getValue:function(){return kf},has:function(){return Rn},inherit:function(){return jf},isEmpty:function(){return Zh},isEqual:function(){return vu},isMaliciousProp:function(){return Eu},isObject:function(){return I},isPlainObject:function(){return lc},merge:function(){return al},pick:function(){return Xs},setByPath:function(){return jc},unsetByPath:function(){return cg}});var M={};V.r(M),V.d(M,{difference:function(){return cp},groupBy:function(){return ip},max:function(){return Nu},sortBy:function(){return Qf},sortedIndex:function(){return Lg},sortedIndexBy:function(){return Ug},union:function(){return Uf},uniq:function(){return Cg}});var nt={};V.r(nt),V.d(nt,{camelCase:function(){return vn},constantCase:function(){return Mh},dotCase:function(){return av},getSpellingSuggestion:function(){return hv},hashcode:function(){return fv},kebabCase:function(){return js},lowerFirst:function(){return bs},pascalCase:function(){return Xo},pathCase:function(){return lv},sentenceCase:function(){return cv},titleCase:function(){return uv},uniqueId:function(){return mp},upperFirst:function(){return zt},uuid:function(){return Qm}});var J={};V.r(J),V.d(J,{clamp:function(){return vl},isNumber:function(){return mv},isPercentage:function(){return t0},mod:function(){return xv},normalizePercentage:function(){return Cv},normalizeSides:function(){return Pv},parseCssNumeric:function(){return Sv},random:function(){return wv}});var vt={};V.r(vt),V.d(vt,{apply:function(){return ir},call:function(){return Ar},debounce:function(){return Gn},isAsync:function(){return Lr},isAsyncLike:function(){return sr},throttle:function(){return An},toAsyncBoolean:function(){return ze},toDeferredBoolean:function(){return dr}});var q={};V.r(q),V.d(q,{CASE_SENSITIVE_ATTR:function(){return _0},Event:function(){return Um},EventHook:function(){return io},EventObject:function(){return ga},KAPPA:function(){return Nh},MouseWheelHandle:function(){return ey},addClass:function(){return Ku},after:function(){return Ov},append:function(){return Tm},appendTo:function(){return M0},attr:function(){return ks},before:function(){return _m},breakText:function(){return H0},children:function(){return Tv},circleToPathData:function(){return q0},clearSelection:function(){return kv},computeStyle:function(){return Ju},computeStyleInt:function(){return Qu},contains:function(){return E0},createElement:function(){return Av},createElementNS:function(){return y0},createSVGMatrix:function(){return Xc},createSVGPoint:function(){return Xv},createSVGTransform:function(){return nv},createSlicePathData:function(){return Uv},createSvgDocument:function(){return Th},createSvgElement:function(){return Gc},css:function(){return j0},data:function(){return V0},decomposeMatrix:function(){return iv},ellipseToPathData:function(){return Y0},empty:function(){return Mm},ensureId:function(){return Ev},find:function(){return C0},findOne:function(){return S0},findParentByClass:function(){return P0},getAttribute:function(){return I0},getClass:function(){return Zl},getComputedStyle:function(){return F0},getData:function(){return Fm},getPointsFromSvgElement:function(){return jm},getTransformToElement:function(){return Wm},getTransformToParentElement:function(){return Qv},getVendorPrefixedName:function(){return Dm},hasClass:function(){return Gu},hasScrollbars:function(){return jv},height:function(){return ry},index:function(){return w0},isCSSVariable:function(){return B0},isElement:function(){return T0},isHTMLElement:function(){return Mv},isSVGGraphicsElement:function(){return qu},kebablizeAttrs:function(){return _v},lineToPathData:function(){return U0},matrixToRotation:function(){return Yv},matrixToScale:function(){return qv},matrixToTransformString:function(){return rv},matrixToTranslation:function(){return Jv},measureText:function(){return Kc},mergeAttrs:function(){return Ih},ns:function(){return da},offset:function(){return Gm},parseTransformString:function(){return Fh},parseXML:function(){return b0},polygonToPathData:function(){return G0},polylineToPathData:function(){return K0},position:function(){return iy},prepend:function(){return O0},prop:function(){return $0},qualifyAttr:function(){return Lm},rectToPathData:function(){return Q0},rectangleToPathData:function(){return J0},remove:function(){return A0},removeAttribute:function(){return Im},removeClass:function(){return Xu},rotate:function(){return Zm},sample:function(){return W0},scale:function(){return Hm},setAttribute:function(){return _h},setAttributes:function(){return Rm},setData:function(){return k0},setPrefixedStyle:function(){return Bv},splitTextByLength:function(){return Bm},styleToObject:function(){return Yu},svgVersion:function(){return Om},tagName:function(){return x0},text:function(){return Z0},toLocalPoint:function(){return sv},toPath:function(){return tv},toPathData:function(){return km},toggleClass:function(){return Am},transform:function(){return $m},transformStringToMatrix:function(){return Dh},translate:function(){return zm},uniqueId:function(){return v0},width:function(){return ny}});var K={};V.r(K),V.d(K,{clean:function(){return uy},ensure:function(){return cy}});var T=V(35609);class x{get disposed(){return this._disposed===!0}dispose(){this._disposed=!0}}(function(o){function u(){return(h,m,S)=>{const E=S.value,_=h.__proto__;S.value=function(...j){this.disposed||(E.call(this,...j),_.dispose.call(this))}}}o.dispose=u})(x||(x={}));class w{constructor(u){this.callback=u}get disposed(){return!this.callback}dispose(){if(!this.callback)return;const u=this.callback;this.callback=null,u()}}class N{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(u=>{u.dispose()}),this.items.clear())}contains(u){return this.items.has(u)}add(u){this.items.add(u)}remove(u){this.items.delete(u)}clear(){this.items.clear()}}(function(o){function u(h){const m=new o;return h.forEach(S=>{m.add(S)}),m}o.from=u})(N||(N={}));function k(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}var I=k,Y=typeof global=="object"&&global&&global.Object===Object&&global,dt=Y,b=typeof self=="object"&&self&&self.Object===Object&&self,ot=dt||b||Function("return this")(),it=ot,jt=function(){return it.Date.now()},z=jt,Ot=/\s/;function Ft(o){for(var u=o.length;u--&&Ot.test(o.charAt(u)););return u}var ke=Ft,_n=/^\s+/;function It(o){return o&&o.slice(0,ke(o)+1).replace(_n,"")}var ge=It,Me=it.Symbol,Se=Me,Kt=Object.prototype,Bt=Kt.hasOwnProperty,te=Kt.toString,oe=Se?Se.toStringTag:void 0;function ye(o){var u=Bt.call(o,oe),h=o[oe];try{o[oe]=void 0;var m=!0}catch(E){}var S=te.call(o);return m&&(u?o[oe]=h:delete o[oe]),S}var $t=ye,Ve=Object.prototype,$e=Ve.toString;function ae(o){return $e.call(o)}var Be=ae,Mn="[object Null]",Xe="[object Undefined]",Qn=Se?Se.toStringTag:void 0;function Un(o){return o==null?o===void 0?Xe:Mn:Qn&&Qn in Object(o)?$t(o):Be(o)}var Dn=Un;function Cn(o){return o!=null&&typeof o=="object"}var qt=Cn,qe="[object Symbol]";function on(o){return typeof o=="symbol"||qt(o)&&Dn(o)==qe}var pe=on,Fe=NaN,ne=/^[-+]0x[0-9a-f]+$/i,Yt=/^0b[01]+$/i,Zt=/^0o[0-7]+$/i,He=parseInt;function zn(o){if(typeof o=="number")return o;if(pe(o))return Fe;if(I(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=I(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=ge(o);var h=Yt.test(o);return h||Zt.test(o)?He(o.slice(2),h?2:8):ne.test(o)?Fe:+o}var Fn=zn,jn="Expected a function",tr=Math.max,Tn=Math.min;function Rr(o,u,h){var m,S,E,_,j,G,Q=0,yt=!1,Pt=!1,_t=!0;if(typeof o!="function")throw new TypeError(jn);u=Fn(u)||0,I(h)&&(yt=!!h.leading,Pt="maxWait"in h,E=Pt?tr(Fn(h.maxWait)||0,u):E,_t="trailing"in h?!!h.trailing:_t);function Rt(Ee){var dn=m,$n=S;return m=S=void 0,Q=Ee,_=o.apply($n,dn),_}function ee(Ee){return Q=Ee,j=setTimeout(Ie,u),yt?Rt(Ee):_}function we(Ee){var dn=Ee-G,$n=Ee-Q,yn=u-dn;return Pt?Tn(yn,E-$n):yn}function fe(Ee){var dn=Ee-G,$n=Ee-Q;return G===void 0||dn>=u||dn<0||Pt&&$n>=E}function Ie(){var Ee=z();if(fe(Ee))return Ne(Ee);j=setTimeout(Ie,we(Ee))}function Ne(Ee){return j=void 0,_t&&m?Rt(Ee):(m=S=void 0,_)}function Vt(){j!==void 0&&clearTimeout(j),Q=0,m=G=S=j=void 0}function Ce(){return j===void 0?_:Ne(z())}function Te(){var Ee=z(),dn=fe(Ee);if(m=arguments,S=this,G=Ee,dn){if(j===void 0)return ee(G);if(Pt)return clearTimeout(j),j=setTimeout(Ie,u),Rt(G)}return j===void 0&&(j=setTimeout(Ie,u)),_}return Te.cancel=Vt,Te.flush=Ce,Te}var Gn=Rr,kr="Expected a function";function qn(o,u,h){var m=!0,S=!0;if(typeof o!="function")throw new TypeError(kr);return I(h)&&(m="leading"in h?!!h.leading:m,S="trailing"in h?!!h.trailing:S),Gn(o,u,{leading:m,maxWait:u,trailing:S})}var An=qn;function ir(o,u,h){if(h)switch(h.length){case 0:return o.call(u);case 1:return o.call(u,h[0]);case 2:return o.call(u,h[0],h[1]);case 3:return o.call(u,h[0],h[1],h[2]);case 4:return o.call(u,h[0],h[1],h[2],h[3]);case 5:return o.call(u,h[0],h[1],h[2],h[3],h[4]);case 6:return o.call(u,h[0],h[1],h[2],h[3],h[4],h[5]);default:return o.apply(u,h)}return o.call(u)}function Ar(o,u,...h){return ir(o,u,h)}function sr(o){return typeof o=="object"&&o.then&&typeof o.then=="function"}function Lr(o){return o!=null&&(o instanceof Promise||sr(o))}function ze(...o){const u=[];if(o.forEach(m=>{Array.isArray(m)?u.push(...m):u.push(m)}),u.some(m=>Lr(m))){const m=u.map(S=>Lr(S)?S:Promise.resolve(S!==!1));return Promise.all(m).then(S=>S.reduce((E,_)=>_!==!1&&E,!0))}return u.every(m=>m!==!1)}function dr(...o){const u=ze(o);return typeof u=="boolean"?Promise.resolve(u):u}function gr(o,u){const h=[];for(let m=0;m<o.length;m+=2){const S=o[m],E=o[m+1],_=Array.isArray(u)?u:[u],j=ir(S,E,_);h.push(j)}return ze(h)}class Sr{constructor(){this.listeners={}}on(u,h,m){return h==null?this:(this.listeners[u]||(this.listeners[u]=[]),this.listeners[u].push(h,m),this)}once(u,h,m){const S=(...E)=>(this.off(u,S),gr([h,m],E));return this.on(u,S,this)}off(u,h,m){if(!(u||h||m))return this.listeners={},this;const S=this.listeners;return(u?[u]:Object.keys(S)).forEach(_=>{const j=S[_];if(j){if(!(h||m)){delete S[_];return}for(let G=j.length-2;G>=0;G-=2)h&&j[G]!==h||m&&j[G+1]!==m||j.splice(G,2)}}),this}trigger(u,...h){let m=!0;if(u!=="*"){const E=this.listeners[u];E!=null&&(m=gr([...E],h))}const S=this.listeners["*"];return S!=null?ze([m,gr([...S],[u,...h])]):m}emit(u,...h){return this.trigger(u,...h)}}var lr=Object.prototype,or=lr.hasOwnProperty;function Nr(o,u){return o!=null&&or.call(o,u)}var Wr=Nr,cr=Array.isArray,Zn=cr,Pr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vr=/^\w*$/;function es(o,u){if(Zn(o))return!1;var h=typeof o;return h=="number"||h=="symbol"||h=="boolean"||o==null||pe(o)?!0:Vr.test(o)||!Pr.test(o)||u!=null&&o in Object(u)}var ai=es,ns="[object AsyncFunction]",rs="[object Function]",Dr="[object GeneratorFunction]",ws="[object Proxy]";function Cs(o){if(!I(o))return!1;var u=Dn(o);return u==rs||u==Dr||u==ns||u==ws}var li=Cs,ei=it["__core-js_shared__"],Fr=ei,is=function(){var o=/[^.]+$/.exec(Fr&&Fr.keys&&Fr.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function Ai(o){return!!is&&is in o}var $s=Ai,Ss=Function.prototype,Gi=Ss.toString;function zs(o){if(o!=null){try{return Gi.call(o)}catch(u){}try{return o+""}catch(u){}}return""}var ni=zs,ci=/[\\^$.*+?()[\]{}|]/g,so=/^\[object .+?Constructor\]$/,ss=Function.prototype,Li=Object.prototype,ar=ss.toString,ui=Li.hasOwnProperty,pr=RegExp("^"+ar.call(ui).replace(ci,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yo(o){if(!I(o)||$s(o))return!1;var u=li(o)?pr:so;return u.test(ni(o))}var mr=Yo;function pa(o,u){return o==null?void 0:o[u]}var Co=pa;function ma(o,u){var h=Co(o,u);return mr(h)?h:void 0}var Ni=ma,So=Ni(Object,"create"),Zs=So;function va(){this.__data__=Zs?Zs(null):{},this.size=0}var Po=va;function ya(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}var Jo=ya,Di="__lodash_hash_undefined__",rr=Object.prototype,Qo=rr.hasOwnProperty;function Ps(o){var u=this.__data__;if(Zs){var h=u[o];return h===Di?void 0:h}return Qo.call(u,o)?u[o]:void 0}var oo=Ps,Oi=Object.prototype,Hs=Oi.hasOwnProperty;function Eo(o){var u=this.__data__;return Zs?u[o]!==void 0:Hs.call(u,o)}var Ur=Eo,wr="__lodash_hash_undefined__";function fi(o,u){var h=this.__data__;return this.size+=this.has(o)?0:1,h[o]=Zs&&u===void 0?wr:u,this}var ao=fi;function Mi(o){var u=-1,h=o==null?0:o.length;for(this.clear();++u<h;){var m=o[u];this.set(m[0],m[1])}}Mi.prototype.clear=Po,Mi.prototype.delete=Jo,Mi.prototype.get=oo,Mi.prototype.has=Ur,Mi.prototype.set=ao;var Ws=Mi;function za(){this.__data__=[],this.size=0}var Us=za;function os(o,u){return o===u||o!==o&&u!==u}var yi=os;function ri(o,u){for(var h=o.length;h--;)if(yi(o[h][0],u))return h;return-1}var Fi=ri,Gr=Array.prototype,kn=Gr.splice;function as(o){var u=this.__data__,h=Fi(u,o);if(h<0)return!1;var m=u.length-1;return h==m?u.pop():kn.call(u,h,1),--this.size,!0}var hi=as;function ta(o){var u=this.__data__,h=Fi(u,o);return h<0?void 0:u[h][1]}var Gs=ta;function Ao(o){return Fi(this.__data__,o)>-1}var ea=Ao;function di(o,u){var h=this.__data__,m=Fi(h,o);return m<0?(++this.size,h.push([o,u])):h[m][1]=u,this}var bi=di;function Bi(o){var u=-1,h=o==null?0:o.length;for(this.clear();++u<h;){var m=o[u];this.set(m[0],m[1])}}Bi.prototype.clear=Us,Bi.prototype.delete=hi,Bi.prototype.get=Gs,Bi.prototype.has=ea,Bi.prototype.set=bi;var xi=Bi,ls=Ni(it,"Map"),cs=ls;function lo(){this.size=0,this.__data__={hash:new Ws,map:new(cs||xi),string:new Ws}}var Es=lo;function Za(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}var As=Za;function ba(o,u){var h=o.__data__;return As(u)?h[typeof u=="string"?"string":"hash"]:h.map}var ut=ba;function D(o){var u=ut(this,o).delete(o);return this.size-=u?1:0,u}var A=D;function H(o){return ut(this,o).get(o)}var B=H;function et(o){return ut(this,o).has(o)}var lt=et;function pt(o,u){var h=ut(this,o),m=h.size;return h.set(o,u),this.size+=h.size==m?0:1,this}var Mt=pt;function Nt(o){var u=-1,h=o==null?0:o.length;for(this.clear();++u<h;){var m=o[u];this.set(m[0],m[1])}}Nt.prototype.clear=Es,Nt.prototype.delete=A,Nt.prototype.get=B,Nt.prototype.has=lt,Nt.prototype.set=Mt;var Ct=Nt,kt="Expected a function";function se(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new TypeError(kt);var h=function(){var m=arguments,S=u?u.apply(this,m):m[0],E=h.cache;if(E.has(S))return E.get(S);var _=o.apply(this,m);return h.cache=E.set(S,_)||E,_};return h.cache=new(se.Cache||Ct),h}se.Cache=Ct;var We=se,he=500;function le(o){var u=We(o,function(m){return h.size===he&&h.clear(),m}),h=u.cache;return u}var Dt=le,Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/\\(\\)?/g,_e=Dt(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(Pe,function(h,m,S,E){u.push(S?E.replace(re,"$1"):m||h)}),u}),en=_e;function Ue(o,u){for(var h=-1,m=o==null?0:o.length,S=Array(m);++h<m;)S[h]=u(o[h],h,o);return S}var gn=Ue,Ge=1/0,un=Se?Se.prototype:void 0,me=un?un.toString:void 0;function rn(o){if(typeof o=="string")return o;if(Zn(o))return gn(o,rn)+"";if(pe(o))return me?me.call(o):"";var u=o+"";return u=="0"&&1/o==-Ge?"-0":u}var Je=rn;function In(o){return o==null?"":Je(o)}var Pn=In;function Nn(o,u){return Zn(o)?o:ai(o,u)?[o]:en(Pn(o))}var bn=Nn,ur="[object Arguments]";function ii(o){return qt(o)&&Dn(o)==ur}var co=ii,us=Object.prototype,na=us.hasOwnProperty,Oo=us.propertyIsEnumerable,Mo=co(function(){return arguments}())?co:function(o){return qt(o)&&na.call(o,"callee")&&!Oo.call(o,"callee")},wi=Mo,Kr=9007199254740991,si=/^(?:0|[1-9]\d*)$/;function To(o,u){var h=typeof o;return u=u==null?Kr:u,!!u&&(h=="number"||h!="symbol"&&si.test(o))&&o>-1&&o%1==0&&o<u}var oi=To,xa=9007199254740991;function Kn(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=xa}var Ks=Kn,Ha=1/0;function Vn(o){if(typeof o=="string"||pe(o))return o;var u=o+"";return u=="0"&&1/o==-Ha?"-0":u}var Os=Vn;function ra(o,u,h){u=bn(u,o);for(var m=-1,S=u.length,E=!1;++m<S;){var _=Os(u[m]);if(!(E=o!=null&&h(o,_)))break;o=o[_]}return E||++m!=S?E:(S=o==null?0:o.length,!!S&&Ks(S)&&oi(_,S)&&(Zn(o)||wi(o)))}var yl=ra;function Wa(o,u){return o!=null&&yl(o,u,Wr)}var Rn=Wa;function vr(o,u){u=bn(u,o);for(var h=0,m=u.length;o!=null&&h<m;)o=o[Os(u[h++])];return h&&h==m?o:void 0}var Ci=vr,wa=function(){try{var o=Ni(Object,"defineProperty");return o({},"",{}),o}catch(u){}}(),fs=wa;function Gl(o,u,h){u=="__proto__"&&fs?fs(o,u,{configurable:!0,enumerable:!0,value:h,writable:!0}):o[u]=h}var Ca=Gl,Sa=Object.prototype,bl=Sa.hasOwnProperty;function Ua(o,u,h){var m=o[u];(!(bl.call(o,u)&&yi(m,h))||h===void 0&&!(u in o))&&Ca(o,u,h)}var Ms=Ua;function xl(o,u,h,m){if(!I(o))return o;u=bn(u,o);for(var S=-1,E=u.length,_=E-1,j=o;j!=null&&++S<E;){var G=Os(u[S]),Q=h;if(G==="__proto__"||G==="constructor"||G==="prototype")return o;if(S!=_){var yt=j[G];Q=m?m(yt,G,j):void 0,Q===void 0&&(Q=I(yt)?yt:oi(u[S+1])?[]:{})}Ms(j,G,Q),j=j[G]}return o}var U=xl;function st(o,u,h){for(var m=-1,S=u.length,E={};++m<S;){var _=u[m],j=Ci(o,_);h(j,_)&&U(E,bn(_,o),j)}return E}var at=st;function ft(o,u){return o!=null&&u in Object(o)}var St=ft;function Gt(o,u){return o!=null&&yl(o,u,St)}var Jt=Gt;function ce(o,u){return at(o,u,function(h,m){return Jt(o,m)})}var Qt=ce;function ue(o,u){for(var h=-1,m=u.length,S=o.length;++h<m;)o[S+h]=u[h];return o}var be=ue,Re=Se?Se.isConcatSpreadable:void 0;function ve(o){return Zn(o)||wi(o)||!!(Re&&o&&o[Re])}var Qe=ve;function hn(o,u,h,m,S){var E=-1,_=o.length;for(h||(h=Qe),S||(S=[]);++E<_;){var j=o[E];u>0&&h(j)?u>1?hn(j,u-1,h,m,S):be(S,j):m||(S[S.length]=j)}return S}var Le=hn;function fn(o){var u=o==null?0:o.length;return u?Le(o,1):[]}var ct=fn;function xt(o,u,h){switch(h.length){case 0:return o.call(u);case 1:return o.call(u,h[0]);case 2:return o.call(u,h[0],h[1]);case 3:return o.call(u,h[0],h[1],h[2])}return o.apply(u,h)}var bt=xt,Ut=Math.max;function de(o,u,h){return u=Ut(u===void 0?o.length-1:u,0),function(){for(var m=arguments,S=-1,E=Ut(m.length-u,0),_=Array(E);++S<E;)_[S]=m[u+S];S=-1;for(var j=Array(u+1);++S<u;)j[S]=m[S];return j[u]=h(_),bt(o,this,j)}}var Ae=de;function Oe(o){return function(){return o}}var Ke=Oe;function fr(o){return o}var yr=fr,Xr=fs?function(o,u){return fs(o,"toString",{configurable:!0,enumerable:!1,value:Ke(u),writable:!0})}:yr,_o=Xr,ji=800,Or=16,qr=Date.now;function Ti(o){var u=0,h=0;return function(){var m=qr(),S=Or-(m-h);if(h=m,S>0){if(++u>=ji)return arguments[0]}else u=0;return o.apply(void 0,arguments)}}var pn=Ti,Ts=pn(_o),gi=Ts;function Yr(o){return gi(Ae(o,void 0,ct),o+"")}var uo=Yr,Ki=uo(function(o,u){return o==null?{}:Qt(o,u)}),Xs=Ki;function Mr(){this.__data__=new xi,this.size=0}var hs=Mr;function Io(o){var u=this.__data__,h=u.delete(o);return this.size=u.size,h}var Kl=Io;function Pa(o){return this.__data__.get(o)}var Xl=Pa;function ql(o){return this.__data__.has(o)}var Ga=ql,Yl=200;function _s(o,u){var h=this.__data__;if(h instanceof xi){var m=h.__data__;if(!cs||m.length<Yl-1)return m.push([o,u]),this.size=++h.size,this;h=this.__data__=new Ct(m)}return h.set(o,u),this.size=h.size,this}var Ro=_s;function qs(o){var u=this.__data__=new xi(o);this.size=u.size}qs.prototype.clear=hs,qs.prototype.delete=Kl,qs.prototype.get=Xl,qs.prototype.has=Ga,qs.prototype.set=Ro;var Ys=qs;function Ka(o,u,h){(h!==void 0&&!yi(o[u],h)||h===void 0&&!(u in o))&&Ca(o,u,h)}var Xa=Ka;function Ea(o){return function(u,h,m){for(var S=-1,E=Object(u),_=m(u),j=_.length;j--;){var G=_[o?j:++S];if(h(E[G],G,E)===!1)break}return u}}var qa=Ea,wl=qa(),Cl=wl,_i=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Jl=_i&&typeof module=="object"&&module&&!module.nodeType&&module,fo=Jl&&Jl.exports===_i,Br=fo?it.Buffer:void 0,Jr=Br?Br.allocUnsafe:void 0;function Ql(o,u){if(u)return o.slice();var h=o.length,m=Jr?Jr(h):new o.constructor(h);return o.copy(m),m}var tc=Ql,ec=it.Uint8Array,Aa=ec;function Ya(o){var u=new o.constructor(o.byteLength);return new Aa(u).set(new Aa(o)),u}var ho=Ya;function Sl(o,u){var h=u?ho(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.length)}var Js=Sl;function Oa(o,u){var h=-1,m=o.length;for(u||(u=Array(m));++h<m;)u[h]=o[h];return u}var Lo=Oa,Ma=Object.create,ia=function(){function o(){}return function(u){if(!I(u))return{};if(Ma)return Ma(u);o.prototype=u;var h=new o;return o.prototype=void 0,h}}(),nc=ia;function Yc(o,u){return function(h){return o(u(h))}}var sa=Yc,Ja=sa(Object.getPrototypeOf,Object),No=Ja,oa=Object.prototype;function aa(o){var u=o&&o.constructor,h=typeof u=="function"&&u.prototype||oa;return o===h}var la=aa;function $(o){return typeof o.constructor=="function"&&!la(o)?nc(No(o)):{}}var Do=$;function Qa(o){return o!=null&&Ks(o.length)&&!li(o)}var Qr=Qa;function On(o){return qt(o)&&Qr(o)}var tl=On;function Jc(){return!1}var Qc=Jc,ki=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rc=ki&&typeof module=="object"&&module&&!module.nodeType&&module,go=rc&&rc.exports===ki,ic=go?it.Buffer:void 0,tu=ic?ic.isBuffer:void 0,eu=tu||Qc,Ii=eu,sc="[object Object]",el=Function.prototype,nl=Object.prototype,oc=el.toString,Pl=nl.hasOwnProperty,Qs=oc.call(Object);function ac(o){if(!qt(o)||Dn(o)!=sc)return!1;var u=No(o);if(u===null)return!0;var h=Pl.call(u,"constructor")&&u.constructor;return typeof h=="function"&&h instanceof h&&oc.call(h)==Qs}var lc=ac,cc="[object Arguments]",nu="[object Array]",Ta="[object Boolean]",Is="[object Date]",ru="[object Error]",Fo="[object Function]",ds="[object Map]",uc="[object Number]",_a="[object Object]",iu="[object RegExp]",fc="[object Set]",En="[object String]",Bo="[object WeakMap]",hc="[object ArrayBuffer]",rl="[object DataView]",Er="[object Float32Array]",ca="[object Float64Array]",Yn="[object Int8Array]",il="[object Int16Array]",sl="[object Int32Array]",dc="[object Uint8Array]",gs="[object Uint8ClampedArray]",to="[object Uint16Array]",Rs="[object Uint32Array]",Hn={};Hn[Er]=Hn[ca]=Hn[Yn]=Hn[il]=Hn[sl]=Hn[dc]=Hn[gs]=Hn[to]=Hn[Rs]=!0,Hn[cc]=Hn[nu]=Hn[hc]=Hn[Ta]=Hn[rl]=Hn[Is]=Hn[ru]=Hn[Fo]=Hn[ds]=Hn[uc]=Hn[_a]=Hn[iu]=Hn[fc]=Hn[En]=Hn[Bo]=!1;function Xi(o){return qt(o)&&Ks(o.length)&&!!Hn[Dn(o)]}var su=Xi;function jo(o){return function(u){return o(u)}}var ua=jo,ko=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ps=ko&&typeof module=="object"&&module&&!module.nodeType&&module,gc=ps&&ps.exports===ko,po=gc&&dt.process,El=function(){try{var o=ps&&ps.require&&ps.require("util").types;return o||po&&po.binding&&po.binding("util")}catch(u){}}(),Ia=El,Al=Ia&&Ia.isTypedArray,pi=Al?ua(Al):su,fa=pi;function ou(o,u){if(!(u==="constructor"&&typeof o[u]=="function")&&u!="__proto__")return o[u]}var ms=ou;function pc(o,u,h,m){var S=!h;h||(h={});for(var E=-1,_=u.length;++E<_;){var j=u[E],G=m?m(h[j],o[j],j,h,o):void 0;G===void 0&&(G=o[j]),S?Ca(h,j,G):Ms(h,j,G)}return h}var $r=pc;function Vo(o,u){for(var h=-1,m=Array(o);++h<o;)m[h]=u(h);return m}var Ls=Vo,Si=Object.prototype,qi=Si.hasOwnProperty;function au(o,u){var h=Zn(o),m=!h&&wi(o),S=!h&&!m&&Ii(o),E=!h&&!m&&!S&&fa(o),_=h||m||S||E,j=_?Ls(o.length,String):[],G=j.length;for(var Q in o)(u||qi.call(o,Q))&&!(_&&(Q=="length"||S&&(Q=="offset"||Q=="parent")||E&&(Q=="buffer"||Q=="byteLength"||Q=="byteOffset")||oi(Q,G)))&&j.push(Q);return j}var zr=au;function lu(o){var u=[];if(o!=null)for(var h in Object(o))u.push(h);return u}var Ra=lu,cu=Object.prototype,eo=cu.hasOwnProperty;function mc(o){if(!I(o))return Ra(o);var u=la(o),h=[];for(var m in o)m=="constructor"&&(u||!eo.call(o,m))||h.push(m);return h}var uu=mc;function Ol(o){return Qr(o)?zr(o,!0):uu(o)}var vs=Ol;function fu(o){return $r(o,vs(o))}var Ml=fu;function Tl(o,u,h,m,S,E,_){var j=ms(o,h),G=ms(u,h),Q=_.get(G);if(Q){Xa(o,h,Q);return}var yt=E?E(j,G,h+"",o,u,_):void 0,Pt=yt===void 0;if(Pt){var _t=Zn(G),Rt=!_t&&Ii(G),ee=!_t&&!Rt&&fa(G);yt=G,_t||Rt||ee?Zn(j)?yt=j:tl(j)?yt=Lo(j):Rt?(Pt=!1,yt=tc(G,!0)):ee?(Pt=!1,yt=Js(G,!0)):yt=[]:lc(G)||wi(G)?(yt=j,wi(j)?yt=Ml(j):(!I(j)||li(j))&&(yt=Do(G))):Pt=!1}Pt&&(_.set(G,yt),S(yt,G,m,E,_),_.delete(G)),Xa(o,h,yt)}var ol=Tl;function vc(o,u,h,m,S){o!==u&&Cl(u,function(E,_){if(S||(S=new Ys),I(E))ol(o,u,_,h,vc,m,S);else{var j=m?m(ms(o,_),E,_+"",o,u,S):void 0;j===void 0&&(j=E),Xa(o,_,j)}},vs)}var La=vc;function hu(o,u){return gi(Ae(o,u,yr),o+"")}var mo=hu;function _l(o,u,h){if(!I(h))return!1;var m=typeof u;return(m=="number"?Qr(h)&&oi(u,h.length):m=="string"&&u in h)?yi(h[u],o):!1}var Yi=_l;function Il(o){return mo(function(u,h){var m=-1,S=h.length,E=S>1?h[S-1]:void 0,_=S>2?h[2]:void 0;for(E=o.length>3&&typeof E=="function"?(S--,E):void 0,_&&Yi(h[0],h[1],_)&&(E=S<3?void 0:E,S=1),u=Object(u);++m<S;){var j=h[m];j&&o(u,j,m,E)}return u})}var Tr=Il,yc=Tr(function(o,u,h){La(o,u,h)}),al=yc,Na="__lodash_hash_undefined__";function bc(o){return this.__data__.set(o,Na),this}var Rl=bc;function xc(o){return this.__data__.has(o)}var ll=xc;function Da(o){var u=-1,h=o==null?0:o.length;for(this.__data__=new Ct;++u<h;)this.add(o[u])}Da.prototype.add=Da.prototype.push=Rl,Da.prototype.has=ll;var cl=Da;function Ll(o,u){for(var h=-1,m=o==null?0:o.length;++h<m;)if(u(o[h],h,o))return!0;return!1}var mi=Ll;function Nl(o,u){return o.has(u)}var Dl=Nl,vo=1,l=2;function t(o,u,h,m,S,E){var _=h&vo,j=o.length,G=u.length;if(j!=G&&!(_&&G>j))return!1;var Q=E.get(o),yt=E.get(u);if(Q&&yt)return Q==u&&yt==o;var Pt=-1,_t=!0,Rt=h&l?new cl:void 0;for(E.set(o,u),E.set(u,o);++Pt<j;){var ee=o[Pt],we=u[Pt];if(m)var fe=_?m(we,ee,Pt,u,o,E):m(ee,we,Pt,o,u,E);if(fe!==void 0){if(fe)continue;_t=!1;break}if(Rt){if(!mi(u,function(Ie,Ne){if(!Dl(Rt,Ne)&&(ee===Ie||S(ee,Ie,h,m,E)))return Rt.push(Ne)})){_t=!1;break}}else if(!(ee===we||S(ee,we,h,m,E))){_t=!1;break}}return E.delete(o),E.delete(u),_t}var e=t;function n(o){var u=-1,h=Array(o.size);return o.forEach(function(m,S){h[++u]=[S,m]}),h}var r=n;function s(o){var u=-1,h=Array(o.size);return o.forEach(function(m){h[++u]=m}),h}var c=s,f=1,d=2,p="[object Boolean]",v="[object Date]",C="[object Error]",y="[object Map]",O="[object Number]",F="[object RegExp]",Z="[object Set]",X="[object String]",tt="[object Symbol]",ht="[object ArrayBuffer]",mt="[object DataView]",Tt=Se?Se.prototype:void 0,Lt=Tt?Tt.valueOf:void 0;function ie(o,u,h,m,S,E,_){switch(h){case mt:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case ht:return!(o.byteLength!=u.byteLength||!E(new Aa(o),new Aa(u)));case p:case v:case O:return yi(+o,+u);case C:return o.name==u.name&&o.message==u.message;case F:case X:return o==u+"";case y:var j=r;case Z:var G=m&f;if(j||(j=c),o.size!=u.size&&!G)return!1;var Q=_.get(o);if(Q)return Q==u;m|=d,_.set(o,u);var yt=e(j(o),j(u),m,S,E,_);return _.delete(o),yt;case tt:if(Lt)return Lt.call(o)==Lt.call(u)}return!1}var je=ie;function nn(o,u,h){var m=u(o);return Zn(o)?m:be(m,h(o))}var an=nn;function Ye(o,u){for(var h=-1,m=o==null?0:o.length,S=0,E=[];++h<m;){var _=o[h];u(_,h,o)&&(E[S++]=_)}return E}var tn=Ye;function mn(){return[]}var Pi=mn,br=Object.prototype,_r=br.propertyIsEnumerable,Wn=Object.getOwnPropertySymbols,Vi=Wn?function(o){return o==null?[]:(o=Object(o),tn(Wn(o),function(u){return _r.call(o,u)}))}:Pi,$i=Vi,Ns=sa(Object.keys,Object),Ei=Ns,Jn=Object.prototype,zi=Jn.hasOwnProperty;function ul(o){if(!la(o))return Ei(o);var u=[];for(var h in Object(o))zi.call(o,h)&&h!="constructor"&&u.push(h);return u}var no=ul;function yo(o){return Qr(o)?zr(o):no(o)}var ti=yo;function Ds(o){return an(o,ti,$i)}var Fa=Ds,wc=1,$o=Object.prototype,fl=$o.hasOwnProperty;function Fl(o,u,h,m,S,E){var _=h&wc,j=Fa(o),G=j.length,Q=Fa(u),yt=Q.length;if(G!=yt&&!_)return!1;for(var Pt=G;Pt--;){var _t=j[Pt];if(!(_?_t in u:fl.call(u,_t)))return!1}var Rt=E.get(o),ee=E.get(u);if(Rt&&ee)return Rt==u&&ee==o;var we=!0;E.set(o,u),E.set(u,o);for(var fe=_;++Pt<G;){_t=j[Pt];var Ie=o[_t],Ne=u[_t];if(m)var Vt=_?m(Ne,Ie,_t,u,o,E):m(Ie,Ne,_t,o,u,E);if(!(Vt===void 0?Ie===Ne||S(Ie,Ne,h,m,E):Vt)){we=!1;break}fe||(fe=_t=="constructor")}if(we&&!fe){var Ce=o.constructor,Te=u.constructor;Ce!=Te&&"constructor"in o&&"constructor"in u&&!(typeof Ce=="function"&&Ce instanceof Ce&&typeof Te=="function"&&Te instanceof Te)&&(we=!1)}return E.delete(o),E.delete(u),we}var jh=Fl,sf=Ni(it,"DataView"),Cc=sf,Sc=Ni(it,"Promise"),Pc=Sc,Ec=Ni(it,"Set"),ha=Ec,Ac=Ni(it,"WeakMap"),du=Ac,gu="[object Map]",Oc="[object Object]",pu="[object Promise]",Mc="[object Set]",of="[object WeakMap]",mu="[object DataView]",zo=ni(Cc),af=ni(cs),lf=ni(Pc),kh=ni(ha),cf=ni(du),Ba=Dn;(Cc&&Ba(new Cc(new ArrayBuffer(1)))!=mu||cs&&Ba(new cs)!=gu||Pc&&Ba(Pc.resolve())!=pu||ha&&Ba(new ha)!=Mc||du&&Ba(new du)!=of)&&(Ba=function(o){var u=Dn(o),h=u==Oc?o.constructor:void 0,m=h?ni(h):"";if(m)switch(m){case zo:return mu;case af:return gu;case lf:return pu;case kh:return Mc;case cf:return of}return u});var hl=Ba,Zo=1,Tc="[object Arguments]",_c="[object Array]",dl="[object Object]",Ic=Object.prototype,ja=Ic.hasOwnProperty;function sn(o,u,h,m,S,E){var _=Zn(o),j=Zn(u),G=_?_c:hl(o),Q=j?_c:hl(u);G=G==Tc?dl:G,Q=Q==Tc?dl:Q;var yt=G==dl,Pt=Q==dl,_t=G==Q;if(_t&&Ii(o)){if(!Ii(u))return!1;_=!0,yt=!1}if(_t&&!yt)return E||(E=new Ys),_||fa(o)?e(o,u,h,m,S,E):je(o,u,G,h,m,S,E);if(!(h&Zo)){var Rt=yt&&ja.call(o,"__wrapped__"),ee=Pt&&ja.call(u,"__wrapped__");if(Rt||ee){var we=Rt?o.value():o,fe=ee?u.value():u;return E||(E=new Ys),S(we,fe,h,m,E)}}return _t?(E||(E=new Ys),jh(o,u,h,m,S,E)):!1}var Rc=sn;function Lc(o,u,h,m,S){return o===u?!0:o==null||u==null||!qt(o)&&!qt(u)?o!==o&&u!==u:Rc(o,u,h,m,Lc,S)}var Ho=Lc;function Vh(o,u){return Ho(o,u)}var vu=Vh,uf="[object Map]",Ri="[object Set]",$h=Object.prototype,zh=$h.hasOwnProperty;function ff(o){if(o==null)return!0;if(Qr(o)&&(Zn(o)||typeof o=="string"||typeof o.splice=="function"||Ii(o)||fa(o)||wi(o)))return!o.length;var u=hl(o);if(u==uf||u==Ri)return!o.size;if(la(o))return!no(o).length;for(var h in o)if(zh.call(o,h))return!1;return!0}var Zh=ff;function hf(o,u){for(var h=-1,m=o==null?0:o.length;++h<m&&u(o[h],h,o)!==!1;);return o}var Hh=hf;function Wh(o,u){return o&&$r(u,ti(u),o)}var Uh=Wh;function Wo(o,u){return o&&$r(u,vs(u),o)}var Zi=Wo;function yu(o,u){return $r(o,$i(o),u)}var Gh=yu,bu=Object.getOwnPropertySymbols,Kh=bu?function(o){for(var u=[];o;)be(u,$i(o)),o=No(o);return u}:Pi,df=Kh;function Bl(o,u){return $r(o,df(o),u)}var gf=Bl;function pf(o){return an(o,vs,df)}var Xh=pf,qh=Object.prototype,Yh=qh.hasOwnProperty;function Jh(o){var u=o.length,h=new o.constructor(u);return u&&typeof o[0]=="string"&&Yh.call(o,"index")&&(h.index=o.index,h.input=o.input),h}var mf=Jh;function vf(o,u){var h=u?ho(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.byteLength)}var Qh=vf,xu=/\w*$/;function yf(o){var u=new o.constructor(o.source,xu.exec(o));return u.lastIndex=o.lastIndex,u}var jl=yf,Nc=Se?Se.prototype:void 0,wu=Nc?Nc.valueOf:void 0;function bf(o){return wu?Object(wu.call(o)):{}}var Dc=bf,xf="[object Boolean]",bo="[object Date]",ka="[object Map]",td="[object Number]",wf="[object RegExp]",ed="[object Set]",nd="[object String]",rd="[object Symbol]",id="[object ArrayBuffer]",sd="[object DataView]",od="[object Float32Array]",ad="[object Float64Array]",ld="[object Int8Array]",cd="[object Int16Array]",ud="[object Int32Array]",fd="[object Uint8Array]",Cf="[object Uint8ClampedArray]",Sf="[object Uint16Array]",Pf="[object Uint32Array]";function hd(o,u,h){var m=o.constructor;switch(u){case id:return ho(o);case xf:case bo:return new m(+o);case sd:return Qh(o,h);case od:case ad:case ld:case cd:case ud:case fd:case Cf:case Sf:case Pf:return Js(o,h);case ka:return new m;case td:case nd:return new m(o);case wf:return jl(o);case ed:return new m;case rd:return Dc(o)}}var dd=hd,gd="[object Map]";function Ef(o){return qt(o)&&hl(o)==gd}var pd=Ef,Af=Ia&&Ia.isMap,md=Af?ua(Af):pd,vd=md,yd="[object Set]";function bd(o){return qt(o)&&hl(o)==yd}var Fs=bd,Of=Ia&&Ia.isSet,xd=Of?ua(Of):Fs,wd=xd,Mf=1,Cd=2,Sd=4,Tf="[object Arguments]",Pd="[object Array]",Cu="[object Boolean]",Ed="[object Date]",Ad="[object Error]",_f="[object Function]",Od="[object GeneratorFunction]",Md="[object Map]",Td="[object Number]",If="[object Object]",_d="[object RegExp]",Id="[object Set]",Rd="[object String]",Ld="[object Symbol]",Nd="[object WeakMap]",Dd="[object ArrayBuffer]",Fd="[object DataView]",Bd="[object Float32Array]",jd="[object Float64Array]",kd="[object Int8Array]",Vd="[object Int16Array]",$d="[object Int32Array]",zd="[object Uint8Array]",Su="[object Uint8ClampedArray]",Rf="[object Uint16Array]",Zd="[object Uint32Array]",xr={};xr[Tf]=xr[Pd]=xr[Dd]=xr[Fd]=xr[Cu]=xr[Ed]=xr[Bd]=xr[jd]=xr[kd]=xr[Vd]=xr[$d]=xr[Md]=xr[Td]=xr[If]=xr[_d]=xr[Id]=xr[Rd]=xr[Ld]=xr[zd]=xr[Su]=xr[Rf]=xr[Zd]=!0,xr[Ad]=xr[_f]=xr[Nd]=!1;function Fc(o,u,h,m,S,E){var _,j=u&Mf,G=u&Cd,Q=u&Sd;if(h&&(_=S?h(o,m,S,E):h(o)),_!==void 0)return _;if(!I(o))return o;var yt=Zn(o);if(yt){if(_=mf(o),!j)return Lo(o,_)}else{var Pt=hl(o),_t=Pt==_f||Pt==Od;if(Ii(o))return tc(o,j);if(Pt==If||Pt==Tf||_t&&!S){if(_=G||_t?{}:Do(o),!j)return G?gf(o,Zi(_,o)):Gh(o,Uh(_,o))}else{if(!xr[Pt])return S?o:{};_=dd(o,Pt,j)}}E||(E=new Ys);var Rt=E.get(o);if(Rt)return Rt;E.set(o,_),wd(o)?o.forEach(function(fe){_.add(Fc(fe,u,h,fe,o,E))}):vd(o)&&o.forEach(function(fe,Ie){_.set(Ie,Fc(fe,u,h,Ie,o,E))});var ee=Q?G?Xh:Fa:G?vs:ti,we=yt?void 0:ee(o);return Hh(we||o,function(fe,Ie){we&&(Ie=fe,fe=o[Ie]),Ms(_,Ie,Fc(fe,u,h,Ie,o,E))}),_}var Lf=Fc,Hd=4;function Wd(o){return Lf(o,Hd)}var Ud=Wd,Gd=1,Nf=4;function Kd(o){return Lf(o,Gd|Nf)}var Bc=Kd,Df=Object.prototype,Xd=Df.hasOwnProperty,qd=mo(function(o,u){o=Object(o);var h=-1,m=u.length,S=m>2?u[2]:void 0;for(S&&Yi(u[0],u[1],S)&&(m=1);++h<m;)for(var E=u[h],_=vs(E),j=-1,G=_.length;++j<G;){var Q=_[j],yt=o[Q];(yt===void 0||yi(yt,Df[Q])&&!Xd.call(o,Q))&&(o[Q]=E[Q])}return o}),Yd=qd;function Ff(o,u,h,m,S,E){return I(o)&&I(u)&&(E.set(u,o),La(o,u,void 0,Ff,E),E.delete(u)),o}var Jd=Ff,Qd=Tr(function(o,u,h,m){La(o,u,h,m)}),tg=Qd,eg=mo(function(o){return o.push(void 0,Jd),bt(tg,void 0,o)}),ng=eg;function Bf(o,...u){u.forEach(h=>{Object.getOwnPropertyNames(h.prototype).forEach(m=>{m!=="constructor"&&Object.defineProperty(o.prototype,m,Object.getOwnPropertyDescriptor(h.prototype,m))})})}const rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(const h in u)Object.prototype.hasOwnProperty.call(u,h)&&(o[h]=u[h])};function jf(o,u){rg(o,u);function h(){this.constructor=o}o.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}class ig{}const sg=/^\s*class\s+/.test(`${ig}`)||/^\s*class\s*\{/.test(`${class{}}`);function og(o,u){let h;return sg?h=class extends u{}:(h=function(){return u.apply(this,arguments)},jf(h,u)),Object.defineProperty(h,"name",{value:o}),h}function Pu(o,u){return o!=null?o:u}function kf(o,u,h){const m=o!=null?o[u]:null;return h!==void 0?Pu(m,h):m}function ag(o,u,h){let m=o!=null?o[u]:null;return m==null||(m=+m,Number.isNaN(m)||!Number.isFinite(m))?h:m}function lg(o,u,h){const m=o!=null?o[u]:null;return m==null?h:!!m}function Eu(o){return o==="__proto__"}function Vf(o,u,h="/"){let m;const S=Array.isArray(u)?u:u.split(h);if(S.length)for(m=o;S.length;){const E=S.shift();if(Object(m)===m&&E&&E in m)m=m[E];else return}return m}function jc(o,u,h,m="/"){const S=Array.isArray(u)?u:u.split(m),E=S.pop();if(E&&!Eu(E)){let _=o;S.forEach(j=>{Eu(j)||(_[j]==null&&(_[j]={}),_=_[j])}),_[E]=h}return o}function cg(o,u,h="/"){const m=Array.isArray(u)?u.slice():u.split(h),S=m.pop();if(S)if(m.length>0){const E=Vf(o,m);E&&delete E[S]}else delete o[S];return o}function $f(o,u="/",h){const m={};Object.keys(o).forEach(S=>{const E=o[S];let _=typeof E=="object"||Array.isArray(E);if(_&&h&&h(E)&&(_=!1),_){const j=$f(E,u,h);Object.keys(j).forEach(G=>{m[S+u+G]=j[G]})}else m[S]=E});for(const S in o)Object.prototype.hasOwnProperty.call(o,S);return m}var ug=function(o,u,h,m){var S=arguments.length,E=S<3?u:m===null?m=Object.getOwnPropertyDescriptor(u,h):m,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(o,u,h,m);else for(var j=o.length-1;j>=0;j--)(_=o[j])&&(E=(S<3?_(E):S>3?_(u,h,E):_(u,h))||E);return S>3&&E&&Object.defineProperty(u,h,E),E};class kl extends Sr{dispose(){this.off()}}ug([x.dispose()],kl.prototype,"dispose",null),function(o){o.dispose=x.dispose}(kl||(kl={})),Bf(kl,x);class Jm extends null{get disabled(){return this._disabled===!0}enable(){delete this._disabled}disable(){this._disabled=!0}}function fg(o,u,h,m){for(var S=o.length,E=h+(m?1:-1);m?E--:++E<S;)if(u(o[E],E,o))return E;return-1}var hg=fg;function dg(o){return o!==o}var gg=dg;function pg(o,u,h){for(var m=h-1,S=o.length;++m<S;)if(o[m]===u)return m;return-1}var mg=pg;function kc(o,u,h){return u===u?mg(o,u,h):hg(o,gg,h)}var vg=kc;function zf(o,u){var h=o==null?0:o.length;return!!h&&vg(o,u,0)>-1}var Au=zf;function Ou(o,u,h){for(var m=-1,S=o==null?0:o.length;++m<S;)if(h(u,o[m]))return!0;return!1}var Mu=Ou;function Zf(){}var Hf=Zf,Wf=1/0,yg=ha&&1/c(new ha([,-0]))[1]==Wf?function(o){return new ha(o)}:Hf,bg=yg,xg=200;function Vc(o,u,h){var m=-1,S=Au,E=o.length,_=!0,j=[],G=j;if(h)_=!1,S=Mu;else if(E>=xg){var Q=u?null:bg(o);if(Q)return c(Q);_=!1,S=Dl,G=new cl}else G=u?[]:j;t:for(;++m<E;){var yt=o[m],Pt=u?u(yt):yt;if(yt=h||yt!==0?yt:0,_&&Pt===Pt){for(var _t=G.length;_t--;)if(G[_t]===Pt)continue t;u&&G.push(Pt),j.push(yt)}else S(G,Pt,h)||(G!==j&&G.push(Pt),j.push(yt))}return j}var Vl=Vc;function wg(o){return o&&o.length?Vl(o):[]}var Cg=wg,Tu=mo(function(o){return Vl(Le(o,1,tl,!0))}),Uf=Tu,Sg=4294967295,Pg=Sg-1,Eg=Math.floor,Ag=Math.min;function Og(o,u,h,m){var S=0,E=o==null?0:o.length;if(E===0)return 0;u=h(u);for(var _=u!==u,j=u===null,G=pe(u),Q=u===void 0;S<E;){var yt=Eg((S+E)/2),Pt=h(o[yt]),_t=Pt!==void 0,Rt=Pt===null,ee=Pt===Pt,we=pe(Pt);if(_)var fe=m||ee;else Q?fe=ee&&(m||_t):j?fe=ee&&_t&&(m||!Rt):G?fe=ee&&_t&&!Rt&&(m||!we):Rt||we?fe=!1:fe=m?Pt<=u:Pt<u;fe?S=yt+1:E=yt}return Ag(E,Pg)}var Gf=Og,Mg=4294967295,Tg=Mg>>>1;function _g(o,u,h){var m=0,S=o==null?m:o.length;if(typeof u=="number"&&u===u&&S<=Tg){for(;m<S;){var E=m+S>>>1,_=o[E];_!==null&&!pe(_)&&(h?_<=u:_<u)?m=E+1:S=E}return S}return Gf(o,u,yr,h)}var Ig=_g;function Rg(o,u){return Ig(o,u)}var Lg=Rg,ro=1,Ng=2;function Dg(o,u,h,m){var S=h.length,E=S,_=!m;if(o==null)return!E;for(o=Object(o);S--;){var j=h[S];if(_&&j[2]?j[1]!==o[j[0]]:!(j[0]in o))return!1}for(;++S<E;){j=h[S];var G=j[0],Q=o[G],yt=j[1];if(_&&j[2]){if(Q===void 0&&!(G in o))return!1}else{var Pt=new Ys;if(m)var _t=m(Q,yt,G,o,u,Pt);if(!(_t===void 0?Ho(yt,Q,ro|Ng,m,Pt):_t))return!1}}return!0}var Va=Dg;function xn(o){return o===o&&!I(o)}var Kf=xn;function Ji(o){for(var u=ti(o),h=u.length;h--;){var m=u[h],S=o[m];u[h]=[m,S,Kf(S)]}return u}var Zr=Ji;function Fg(o,u){return function(h){return h==null?!1:h[o]===u&&(u!==void 0||o in Object(h))}}var Uo=Fg;function Bg(o){var u=Zr(o);return u.length==1&&u[0][2]?Uo(u[0][0],u[0][1]):function(h){return h===o||Va(h,o,u)}}var jg=Bg;function kg(o,u,h){var m=o==null?void 0:Ci(o,u);return m===void 0?h:m}var Vg=kg,$g=1,_u=2;function zg(o,u){return ai(o)&&Kf(u)?Uo(Os(o),u):function(h){var m=Vg(h,o);return m===void 0&&m===u?Jt(h,o):Ho(u,m,$g|_u)}}var Go=zg;function Xf(o){return function(u){return u==null?void 0:u[o]}}var $c=Xf;function Ir(o){return function(u){return Ci(u,o)}}var jr=Ir;function qf(o){return ai(o)?$c(Os(o)):jr(o)}var Zg=qf;function Hg(o){return typeof o=="function"?o:o==null?yr:typeof o=="object"?Zn(o)?Go(o[0],o[1]):jg(o):Zg(o)}var Iu=Hg;function Wg(o,u,h){return Gf(o,u,Iu(h,2))}var Ug=Wg;function Gg(o,u){return o&&Cl(o,u,ti)}var Yf=Gg;function $l(o,u){return function(h,m){if(h==null)return h;if(!Qr(h))return o(h,m);for(var S=h.length,E=u?S:-1,_=Object(h);(u?E--:++E<S)&&m(_[E],E,_)!==!1;);return h}}var Ru=$l,Kg=Ru(Yf),Lu=Kg;function zc(o,u){var h=-1,m=Qr(o)?Array(o.length):[];return Lu(o,function(S,E,_){m[++h]=u(S,E,_)}),m}var ys=zc;function gl(o,u){var h=o.length;for(o.sort(u);h--;)o[h]=o[h].value;return o}var Xg=gl;function qg(o,u){if(o!==u){var h=o!==void 0,m=o===null,S=o===o,E=pe(o),_=u!==void 0,j=u===null,G=u===u,Q=pe(u);if(!j&&!Q&&!E&&o>u||E&&_&&G&&!j&&!Q||m&&_&&G||!h&&G||!S)return 1;if(!m&&!E&&!Q&&o<u||Q&&h&&S&&!m&&!E||j&&h&&S||!_&&S||!G)return-1}return 0}var Yg=qg;function Jg(o,u,h){for(var m=-1,S=o.criteria,E=u.criteria,_=S.length,j=h.length;++m<_;){var G=Yg(S[m],E[m]);if(G){if(m>=j)return G;var Q=h[m];return G*(Q=="desc"?-1:1)}}return o.index-u.index}var Qg=Jg;function Jf(o,u,h){u.length?u=gn(u,function(E){return Zn(E)?function(_){return Ci(_,E.length===1?E[0]:E)}:E}):u=[yr];var m=-1;u=gn(u,ua(Iu));var S=ys(o,function(E,_,j){var G=gn(u,function(Q){return Q(E)});return{criteria:G,index:++m,value:E}});return Xg(S,function(E,_){return Qg(E,_,h)})}var Ko=Jf,Sn=mo(function(o,u){if(o==null)return[];var h=u.length;return h>1&&Yi(o,u[0],u[1])?u=[]:h>2&&Yi(u[0],u[1],u[2])&&(u=[u[0]]),Ko(o,Le(u,1),[])}),Qf=Sn;function Bs(o,u,h,m){for(var S=-1,E=o==null?0:o.length;++S<E;){var _=o[S];u(m,_,h(_),o)}return m}var th=Bs;function tp(o,u,h,m){return Lu(o,function(S,E,_){u(m,S,h(S),_)}),m}var er=tp;function ep(o,u){return function(h,m){var S=Zn(h)?th:er,E=u?u():{};return S(h,o,Iu(m,2),E)}}var eh=ep,Zc=Object.prototype,np=Zc.hasOwnProperty,rp=eh(function(o,u,h){np.call(o,h)?o[h].push(u):Ca(o,h,[u])}),ip=rp,sp=200;function op(o,u,h,m){var S=-1,E=Au,_=!0,j=o.length,G=[],Q=u.length;if(!j)return G;h&&(u=gn(u,ua(h))),m?(E=Mu,_=!1):u.length>=sp&&(E=Dl,_=!1,u=new cl(u));t:for(;++S<j;){var yt=o[S],Pt=h==null?yt:h(yt);if(yt=m||yt!==0?yt:0,_&&Pt===Pt){for(var _t=Q;_t--;)if(u[_t]===Pt)continue t;G.push(yt)}else E(u,Pt,m)||G.push(yt)}return G}var ap=op,lp=mo(function(o,u){return tl(o)?ap(o,Le(u,1,tl,!0)):[]}),cp=lp;function up(o,u,h){for(var m=-1,S=o.length;++m<S;){var E=o[m],_=u(E);if(_!=null&&(j===void 0?_===_&&!pe(_):h(_,j)))var j=_,G=E}return G}var fp=up;function hp(o,u){return o>u}var dp=hp;function gp(o){return o&&o.length?fp(o,yr,dp):void 0}var Nu=gp,pp=0;function Du(o){var u=++pp;return Pn(o)+u}var mp=Du;function vp(o,u,h,m){var S=-1,E=o==null?0:o.length;for(m&&E&&(h=o[++S]);++S<E;)h=u(h,o[S],S,o);return h}var yp=vp;function vi(o){return function(u){return o==null?void 0:o[u]}}var Qi=vi,bp={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},xp=Qi(bp),wp=xp,nh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cp="\\u0300-\\u036f",Sp="\\ufe20-\\ufe2f",Pp="\\u20d0-\\u20ff",rh=Cp+Sp+Pp,Ep="["+rh+"]",Ap=RegExp(Ep,"g");function Op(o){return o=Pn(o),o&&o.replace(nh,wp).replace(Ap,"")}var ih=Op,sh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Mp(o){return o.match(sh)||[]}var Tp=Mp,_p=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Ip(o){return _p.test(o)}var pl=Ip,oh="\\ud800-\\udfff",Rp="\\u0300-\\u036f",Lp="\\ufe20-\\ufe2f",Np="\\u20d0-\\u20ff",Dp=Rp+Lp+Np,Fu="\\u2700-\\u27bf",Bu="a-z\\xdf-\\xf6\\xf8-\\xff",Fp="\\xac\\xb1\\xd7\\xf7",Bp="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",jp="\\u2000-\\u206f",kp=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ah="A-Z\\xc0-\\xd6\\xd8-\\xde",Vp="\\ufe0e\\ufe0f",lh=Fp+Bp+jp+kp,ch="['\u2019]",uh="["+lh+"]",$p="["+Dp+"]",fh="\\d+",zp="["+Fu+"]",hh="["+Bu+"]",dh="[^"+oh+lh+fh+Fu+Bu+ah+"]",Zp="\\ud83c[\\udffb-\\udfff]",Hp="(?:"+$p+"|"+Zp+")",Wp="[^"+oh+"]",gh="(?:\\ud83c[\\udde6-\\uddff]){2}",ph="[\\ud800-\\udbff][\\udc00-\\udfff]",ml="["+ah+"]",Up="\\u200d",mh="(?:"+hh+"|"+dh+")",Gp="(?:"+ml+"|"+dh+")",vh="(?:"+ch+"(?:d|ll|m|re|s|t|ve))?",yh="(?:"+ch+"(?:D|LL|M|RE|S|T|VE))?",Hc=Hp+"?",ju="["+Vp+"]?",bh="(?:"+Up+"(?:"+[Wp,gh,ph].join("|")+")"+ju+Hc+")*",Kp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qp=ju+Hc+bh,ku="(?:"+[zp,gh,ph].join("|")+")"+qp,Yp=RegExp([ml+"?"+hh+"+"+vh+"(?="+[uh,ml,"$"].join("|")+")",Gp+"+"+yh+"(?="+[uh,ml+mh,"$"].join("|")+")",ml+"?"+mh+"+"+vh,ml+"+"+yh,Xp,Kp,fh,ku].join("|"),"g");function Jp(o){return o.match(Yp)||[]}var Qp=Jp;function ts(o,u,h){return o=Pn(o),u=h?void 0:u,u===void 0?pl(o)?Qp(o):Tp(o):o.match(u)||[]}var Vu=ts,tm="['\u2019]",em=RegExp(tm,"g");function nm(o){return function(u){return yp(Vu(ih(u).replace(em,"")),o,"")}}var Wc=nm;function $u(o,u,h){var m=-1,S=o.length;u<0&&(u=-u>S?0:S+u),h=h>S?S:h,h<0&&(h+=S),S=u>h?0:h-u>>>0,u>>>=0;for(var E=Array(S);++m<S;)E[m]=o[m+u];return E}var rm=$u;function zu(o,u,h){var m=o.length;return h=h===void 0?m:h,!u&&h>=m?o:rm(o,u,h)}var im=zu,sm="\\ud800-\\udfff",om="\\u0300-\\u036f",am="\\ufe20-\\ufe2f",xh="\\u20d0-\\u20ff",lm=om+am+xh,cm="\\ufe0e\\ufe0f",um="\\u200d",Zu=RegExp("["+um+sm+lm+cm+"]");function Hu(o){return Zu.test(o)}var wh=Hu;function fm(o){return o.split("")}var hm=fm,Ch="\\ud800-\\udfff",dm="\\u0300-\\u036f",gm="\\ufe20-\\ufe2f",pm="\\u20d0-\\u20ff",mm=dm+gm+pm,vm="\\ufe0e\\ufe0f",ym="["+Ch+"]",Wu="["+mm+"]",Uu="\\ud83c[\\udffb-\\udfff]",bm="(?:"+Wu+"|"+Uu+")",Sh="[^"+Ch+"]",Ph="(?:\\ud83c[\\udde6-\\uddff]){2}",Eh="[\\ud800-\\udbff][\\udc00-\\udfff]",xm="\\u200d",Ah=bm+"?",Oh="["+vm+"]?",wm="(?:"+xm+"(?:"+[Sh,Ph,Eh].join("|")+")"+Oh+Ah+")*",Cm=Oh+Ah+wm,i="(?:"+[Sh+Wu+"?",Wu,Ph,Eh,ym].join("|")+")",a=RegExp(Uu+"(?="+Uu+")|"+i+Cm,"g");function g(o){return o.match(a)||[]}var P=g;function L(o){return wh(o)?P(o):hm(o)}var W=L;function rt(o){return function(u){u=Pn(u);var h=wh(u)?W(u):void 0,m=h?h[0]:u.charAt(0),S=h?im(h,1).join(""):u.slice(1);return m[o]()+S}}var gt=rt,wt=gt("toUpperCase"),zt=wt,Ht=Wc(function(o,u,h){return o+(h?" ":"")+zt(u)}),Xt=Ht;function xe(o){return zt(Pn(o).toLowerCase())}var Ze=xe,ln=Wc(function(o,u,h){return u=u.toLowerCase(),o+(h?Ze(u):u)}),vn=ln,cn=Wc(function(o,u,h){return o+(h?" ":"")+u.toUpperCase()}),Ln=cn,Bn=Wc(function(o,u,h){return o+(h?" ":"")+u.toLowerCase()}),Hi=Bn,Wi=gt("toLowerCase"),bs=Wi;const hr=o=>{const u=Object.create(null);return h=>u[h]||(u[h]=o(h))},js=hr(o=>o.replace(/\B([A-Z])/g,"-$1").toLowerCase()),Xo=hr(o=>Xt(vn(o)).replace(/ /g,"")),Mh=hr(o=>Ln(o).replace(/ /g,"_")),av=hr(o=>Hi(o).replace(/ /g,".")),lv=hr(o=>Hi(o).replace(/ /g,"/")),cv=hr(o=>zt(Hi(o))),uv=hr(o=>Xt(vn(o)));function fv(o){let u=2166136261,h=!1,m=o;for(let S=0,E=m.length;S<E;S+=1){let _=m.charCodeAt(S);_>127&&!h&&(m=unescape(encodeURIComponent(m)),_=m.charCodeAt(S),h=!0),u^=_,u+=(u<<1)+(u<<4)+(u<<7)+(u<<8)+(u<<24)}return u>>>0}function Qm(){let o="";const u="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";for(let h=0,m=u.length;h<m;h+=1){const S=u[h],E=Math.random()*16|0,_=S==="x"?E:S==="y"?E&3|8:S;o+=_.toString(16)}return o}function hv(o,u,h){const m=Math.min(2,Math.floor(o.length*.34));let S=Math.floor(o.length*.4)+1,E,_=!1;const j=o.toLowerCase();for(const G of u){const Q=h(G);if(Q!==void 0&&Math.abs(Q.length-j.length)<=m){const yt=Q.toLowerCase();if(yt===j){if(Q===o)continue;return G}if(_||Q.length<3)continue;const Pt=dv(j,yt,S-1);if(Pt===void 0)continue;Pt<3?(_=!0,E=G):(S=Pt,E=G)}}return E}function dv(o,u,h){let m=new Array(u.length+1),S=new Array(u.length+1);const E=h+1;for(let j=0;j<=u.length;j+=1)m[j]=j;for(let j=1;j<=o.length;j+=1){const G=o.charCodeAt(j-1),Q=j>h?j-h:1,yt=u.length>h+j?h+j:u.length;S[0]=j;let Pt=j;for(let Rt=1;Rt<Q;Rt+=1)S[Rt]=E;for(let Rt=Q;Rt<=yt;Rt+=1){const ee=G===u.charCodeAt(Rt-1)?m[Rt-1]:Math.min(m[Rt]+1,S[Rt-1]+1,m[Rt-1]+2);S[Rt]=ee,Pt=Math.min(Pt,ee)}for(let Rt=yt+1;Rt<=u.length;Rt+=1)S[Rt]=E;if(Pt>h)return;const _t=m;m=S,S=_t}const _=m[u.length];return _>h?void 0:_}var gv="[object Number]";function pv(o){return typeof o=="number"||qt(o)&&Dn(o)==gv}var mv=pv;function vv(o,u,h){return o===o&&(h!==void 0&&(o=o<=h?o:h),u!==void 0&&(o=o>=u?o:u)),o}var yv=vv;function bv(o,u,h){return h===void 0&&(h=u,u=void 0),h!==void 0&&(h=Fn(h),h=h===h?h:0),u!==void 0&&(u=Fn(u),u=u===u?u:0),yv(Fn(o),u,h)}var vl=bv;function xv(o,u){return(o%u+u)%u}function wv(o,u){if(u==null)u=o==null?1:o,o=0;else if(u<o){const h=o;o=u,u=h}return Math.floor(Math.random()*(u-o+1)+o)}function t0(o){return typeof o=="string"&&o.slice(-1)==="%"}function Cv(o,u){if(o==null)return 0;let h;if(typeof o=="string"){if(h=parseFloat(o),t0(o)&&(h/=100,Number.isFinite(h)))return h*u}else h=o;return Number.isFinite(h)?h>0&&h<1?h*u:h:0}function Sv(o,u){function h(_){const j=new RegExp(`(?:\\d+(?:\\.\\d+)*)(${_})$`).exec(o);return j?j[1]:null}const m=parseFloat(o);if(Number.isNaN(m))return null;let S;if(u==null)S="[A-Za-z]*";else if(Array.isArray(u)){if(u.length===0)return null;S=u.join("|")}else typeof u=="string"&&(S=u);const E=h(S);return E===null?null:{unit:E,value:m}}function Pv(o){if(typeof o=="object"){let h=0,m=0,S=0,E=0;return o.vertical!=null&&Number.isFinite(o.vertical)&&(m=E=o.vertical),o.horizontal!=null&&Number.isFinite(o.horizontal)&&(S=h=o.horizontal),o.left!=null&&Number.isFinite(o.left)&&(h=o.left),o.top!=null&&Number.isFinite(o.top)&&(m=o.top),o.right!=null&&Number.isFinite(o.right)&&(S=o.right),o.bottom!=null&&Number.isFinite(o.bottom)&&(E=o.bottom),{top:m,right:S,bottom:E,left:h}}let u=0;return o!=null&&Number.isFinite(o)&&(u=o),{top:u,right:u,bottom:u,left:u}}let Sm=!1,e0=!1,n0=!1,r0=!1,i0=!1,s0=!1,o0=!1,a0=!1,l0=!1,c0=!1,u0=!1,f0=!1,h0=!1,d0=!1,g0=!1,p0=!1;if(typeof navigator=="object"){const o=navigator.userAgent;Sm=o.indexOf("Macintosh")>=0,e0=!!o.match(/(iPad|iPhone|iPod)/g),n0=o.indexOf("Windows")>=0,r0=o.indexOf("MSIE")>=0,i0=!!o.match(/Trident\/7\./),s0=!!o.match(/Edge\//),o0=o.indexOf("Mozilla/")>=0&&o.indexOf("MSIE")<0&&o.indexOf("Edge/")<0,l0=o.indexOf("Chrome/")>=0&&o.indexOf("Edge/")<0,c0=o.indexOf("Opera/")>=0||o.indexOf("OPR/")>=0,u0=o.indexOf("Firefox/")>=0,f0=o.indexOf("AppleWebKit/")>=0&&o.indexOf("Chrome/")<0&&o.indexOf("Edge/")<0,typeof document=="object"&&(p0=!document.createElementNS||`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`!="[object SVGForeignObjectElement]"||o.indexOf("Opera/")>=0)}if(typeof window=="object"&&(a0=window.chrome!=null&&window.chrome.app!=null&&window.chrome.app.runtime!=null,d0=window.PointerEvent!=null&&!Sm),typeof document=="object"){h0="ontouchstart"in document.documentElement;try{const o=Object.defineProperty({},"passive",{get(){g0=!0}}),u=document.createElement("div");u.addEventListener&&u.addEventListener("click",()=>{},o)}catch(o){}}var zl;(function(o){o.IS_MAC=Sm,o.IS_IOS=e0,o.IS_WINDOWS=n0,o.IS_IE=r0,o.IS_IE11=i0,o.IS_EDGE=s0,o.IS_NETSCAPE=o0,o.IS_CHROME_APP=a0,o.IS_CHROME=l0,o.IS_OPERA=c0,o.IS_FIREFOX=u0,o.IS_SAFARI=f0,o.SUPPORT_TOUCH=h0,o.SUPPORT_POINTER=d0,o.SUPPORT_PASSIVE=g0,o.NO_FOREIGNOBJECT=p0,o.SUPPORT_FOREIGNOBJECT=!o.NO_FOREIGNOBJECT})(zl||(zl={})),function(o){function u(){const E=window.module;return E!=null&&E.hot!=null&&E.hot.status!=null?E.hot.status():"unkonwn"}o.getHMRStatus=u;function h(){return u()==="apply"}o.isApplyingHMR=h;const m={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function S(E){const _=document.createElement(m[E]||"div"),j=`on${E}`;let G=j in _;return G||(_.setAttribute(j,"return;"),G=typeof _[j]=="function"),G}o.isEventSupported=S}(zl||(zl={}));const Pm=/[\t\r\n\f]/g,Em=/\S+/g,Uc=o=>` ${o} `;function Zl(o){return o&&o.getAttribute&&o.getAttribute("class")||""}function Gu(o,u){if(o==null||u==null)return!1;const h=Uc(Zl(o)),m=Uc(u);return o.nodeType===1?h.replace(Pm," ").includes(m):!1}function Ku(o,u){if(!(o==null||u==null)){if(typeof u=="function")return Ku(o,u(Zl(o)));if(typeof u=="string"&&o.nodeType===1){const h=u.match(Em)||[],m=Uc(Zl(o)).replace(Pm," ");let S=h.reduce((E,_)=>E.indexOf(Uc(_))<0?`${E}${_} `:E,m);S=S.trim(),m!==S&&o.setAttribute("class",S)}}}function Xu(o,u){if(o!=null){if(typeof u=="function")return Xu(o,u(Zl(o)));if((!u||typeof u=="string")&&o.nodeType===1){const h=(u||"").match(Em)||[],m=Uc(Zl(o)).replace(Pm," ");let S=h.reduce((E,_)=>{const j=Uc(_);return E.indexOf(j)>-1?E.replace(j," "):E},m);S=u?S.trim():"",m!==S&&o.setAttribute("class",S)}}}function Am(o,u,h){if(!(o==null||u==null)){if(h!=null&&typeof u=="string"){h?Ku(o,u):Xu(o,u);return}if(typeof u=="function")return Am(o,u(Zl(o),h),h);typeof u=="string"&&(u.match(Em)||[]).forEach(S=>{Gu(o,S)?Xu(o,S):Ku(o,S)})}}let m0=0;function v0(){return m0+=1,`v${m0}`}function Ev(o){return(o.id==null||o.id==="")&&(o.id=v0()),o.id}function qu(o){return o==null?!1:typeof o.getScreenCTM=="function"&&o instanceof SVGElement}const da={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},Om="1.1";function Av(o,u=document){return u.createElement(o)}function y0(o,u=da.xhtml,h=document){return h.createElementNS(u,o)}function Gc(o,u=document){return y0(o,da.svg,u)}function Th(o){if(o){const h=`<svg xmlns="${da.svg}" xmlns:xlink="${da.xlink}" version="${Om}">${o}</svg>`,{documentElement:m}=b0(h,{async:!1});return m}const u=document.createElementNS(da.svg,"svg");return u.setAttributeNS(da.xmlns,"xmlns:xlink",da.xlink),u.setAttribute("version",Om),u}function b0(o,u={}){let h;try{const m=new DOMParser;if(u.async!=null){const S=m;S.async=u.async}h=m.parseFromString(o,u.mimeType||"text/xml")}catch(m){h=void 0}if(!h||h.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${o}`);return h}function x0(o,u=!0){const h=o.nodeName;return u?h.toLowerCase():h.toUpperCase()}function w0(o){let u=0,h=o.previousSibling;for(;h;)h.nodeType===1&&(u+=1),h=h.previousSibling;return u}function C0(o,u){return o.querySelectorAll(u)}function S0(o,u){return o.querySelector(u)}function P0(o,u,h){const m=o.ownerSVGElement;let S=o.parentNode;for(;S&&S!==h&&S!==m;){if(Gu(S,u))return S;S=S.parentNode}return null}function E0(o,u){const h=u&&u.parentNode;return o===h||!!(h&&h.nodeType===1&&o.compareDocumentPosition(h)&16)}function A0(o){o&&(Array.isArray(o)?o:[o]).forEach(h=>{h.parentNode&&h.parentNode.removeChild(h)})}function Mm(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Tm(o,u){(Array.isArray(u)?u:[u]).forEach(m=>{m!=null&&o.appendChild(m)})}function O0(o,u){const h=o.firstChild;return h?_m(h,u):Tm(o,u)}function _m(o,u){const h=o.parentNode;h&&(Array.isArray(u)?u:[u]).forEach(S=>{S!=null&&h.insertBefore(S,o)})}function Ov(o,u){const h=o.parentNode;h&&(Array.isArray(u)?u:[u]).forEach(S=>{S!=null&&h.insertBefore(S,o.nextSibling)})}function M0(o,u){u!=null&&u.appendChild(o)}function T0(o){return!!o&&o.nodeType===1}function Mv(o){try{return o instanceof HTMLElement}catch(u){return typeof o=="object"&&o.nodeType===1&&typeof o.style=="object"&&typeof o.ownerDocument=="object"}}function Tv(o,u){const h=[];let m=o.firstChild;for(;m;m=m.nextSibling)m.nodeType===1&&(!u||Gu(m,u))&&h.push(m);return h}const _0=["viewBox","attributeName","attributeType","repeatCount","textLength","lengthAdjust","gradientUnits"];function I0(o,u){return o.getAttribute(u)}function Im(o,u){const h=Lm(u);h.ns?o.hasAttributeNS(h.ns,h.local)&&o.removeAttributeNS(h.ns,h.local):o.hasAttribute(u)&&o.removeAttribute(u)}function _h(o,u,h){if(h==null)return Im(o,u);const m=Lm(u);m.ns&&typeof h=="string"?o.setAttributeNS(m.ns,u,h):u==="id"?o.id=`${h}`:o.setAttribute(u,`${h}`)}function Rm(o,u){Object.keys(u).forEach(h=>{_h(o,h,u[h])})}function ks(o,u,h){if(u==null){const m=o.attributes,S={};for(let E=0;E<m.length;E+=1)S[m[E].name]=m[E].value;return S}if(typeof u=="string"&&h===void 0)return o.getAttribute(u);typeof u=="object"?Rm(o,u):_h(o,u,h)}function Lm(o){if(o.indexOf(":")!==-1){const u=o.split(":");return{ns:da[u[0]],local:u[1]}}return{ns:null,local:o}}function _v(o){const u={};return Object.keys(o).forEach(h=>{const m=_0.includes(h)?h:js(h);u[m]=o[h]}),u}function Yu(o){const u={};return o.split(";").forEach(m=>{const S=m.trim();if(S){const E=S.split("=");E.length&&(u[E[0].trim()]=E[1]?E[1].trim():"")}}),u}function Ih(o,u){return Object.keys(u).forEach(h=>{if(h==="class")o[h]=o[h]?`${o[h]} ${u[h]}`:u[h];else if(h==="style"){const m=typeof o[h]=="object",S=typeof u[h]=="object";let E,_;m&&S?(E=o[h],_=u[h]):m?(E=o[h],_=Yu(u[h])):S?(E=Yu(o[h]),_=u[h]):(E=Yu(o[h]),_=Yu(u[h])),o[h]=Ih(E,_)}else o[h]=u[h]}),o}function Iv(o,u,h={}){const m=h.offset||0,S=[],E=[];let _,j,G=null;for(let Q=0;Q<o.length;Q+=1){_=E[Q]=o[Q];for(let yt=0,Pt=u.length;yt<Pt;yt+=1){const _t=u[yt],Rt=_t.start+m,ee=_t.end+m;Q>=Rt&&Q<ee&&(typeof _=="string"?_=E[Q]={t:o[Q],attrs:_t.attrs}:_.attrs=Ih(Ih({},_.attrs),_t.attrs),h.includeAnnotationIndices&&(_.annotations==null&&(_.annotations=[]),_.annotations.push(yt)))}j=E[Q-1],j?I(_)&&I(j)?(G=G,JSON.stringify(_.attrs)===JSON.stringify(j.attrs)?G.t+=_.t:(S.push(G),G=_)):I(_)||I(j)?(G=G,S.push(G),G=_):G=(G||"")+_:G=_}return G!=null&&S.push(G),S}function fy(o,u){return o?o.filter(h=>h.start<u&&u<=h.end):[]}function hy(o,u,h){return o?o.filter(m=>u>=m.start&&u<m.end||h>m.start&&h<=m.end||m.start>=u&&m.end<h):[]}function dy(o,u,h){return o&&o.forEach(m=>{m.start<u&&m.end>=u?m.end+=h:m.start>=u&&(m.start+=h,m.end+=h)}),o}function Rv(o){return o.replace(/ /g,"\xA0")}var R0;(function(o){function u(Q){const yt="data:";return Q.substr(0,yt.length)===yt}o.isDataUrl=u;function h(Q,yt){if(!Q||u(Q)){setTimeout(()=>yt(null,Q));return}const Pt=()=>{yt(new Error(`Failed to load image: ${Q}`))},_t=window.FileReader?ee=>{if(ee.status===200){const we=new FileReader;we.onload=fe=>{const Ie=fe.target.result;yt(null,Ie)},we.onerror=Pt,we.readAsDataURL(ee.response)}else Pt()}:ee=>{const we=fe=>{const Ne=[];for(let Vt=0;Vt<fe.length;Vt+=32768)Ne.push(String.fromCharCode.apply(null,fe.subarray(Vt,Vt+32768)));return Ne.join("")};if(ee.status===200){let fe=Q.split(".").pop()||"png";fe==="svg"&&(fe="svg+xml");const Ie=`data:image/${fe};base64,`,Ne=new Uint8Array(ee.response),Vt=Ie+btoa(we(Ne));yt(null,Vt)}else Pt()},Rt=new XMLHttpRequest;Rt.responseType=window.FileReader?"blob":"arraybuffer",Rt.open("GET",Q,!0),Rt.addEventListener("error",Pt),Rt.addEventListener("load",()=>_t(Rt)),Rt.send()}o.imageToDataUri=h;function m(Q){let yt=Q.replace(/\s/g,"");yt=decodeURIComponent(yt);const Pt=yt.indexOf(","),_t=yt.slice(0,Pt),Rt=_t.split(":")[1].split(";")[0],ee=yt.slice(Pt+1);let we;_t.indexOf("base64")>=0?we=atob(ee):we=unescape(encodeURIComponent(ee));const fe=new Uint8Array(we.length);for(let Ie=0;Ie<we.length;Ie+=1)fe[Ie]=we.charCodeAt(Ie);return new Blob([fe],{type:Rt})}o.dataUriToBlob=m;function S(Q,yt){const Pt=window.navigator.msSaveBlob;if(Pt)Pt(Q,yt);else{const _t=window.URL.createObjectURL(Q),Rt=document.createElement("a");Rt.href=_t,Rt.download=yt,document.body.appendChild(Rt),Rt.click(),document.body.removeChild(Rt),window.URL.revokeObjectURL(_t)}}o.downloadBlob=S;function E(Q,yt){const Pt=m(Q);S(Pt,yt)}o.downloadDataUri=E;function _(Q){const yt=Q.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return yt&&yt[2]?yt[2].replace(/\s+/," ").split(" "):null}function j(Q){const yt=parseFloat(Q);return Number.isNaN(yt)?null:yt}function G(Q,yt={}){let Pt=null;const _t=Vt=>(Pt==null&&(Pt=_(Q)),Pt!=null?j(Pt[Vt]):null),Rt=Vt=>{const Ce=Q.match(Vt);return Ce&&Ce[2]?j(Ce[2]):null};let ee=yt.width;if(ee==null&&(ee=Rt(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),ee==null&&(ee=_t(2)),ee==null)throw new Error("Can not parse width from svg string");let we=yt.height;if(we==null&&(we=Rt(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),we==null&&(we=_t(3)),we==null)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(Q).replace(/'/g,"%27").replace(/"/g,"%22")}`}o.svgToDataUrl=G})(R0||(R0={}));let Hl;const Lv={px(o){return o},mm(o){return Hl*o},cm(o){return Hl*o*10},in(o){return Hl*o*25.4},pt(o){return Hl*(25.4*o/72)},pc(o){return Hl*(25.4*o/6)}};var L0;(function(o){function u(m,S,E){const _=document.createElement("div"),j=_.style;j.display="inline-block",j.position="absolute",j.left="-15000px",j.top="-15000px",j.width=m+(E||"px"),j.height=S+(E||"px"),document.body.appendChild(_);const G=_.getBoundingClientRect(),Q={width:G.width||0,height:G.height||0};return document.body.removeChild(_),Q}o.measure=u;function h(m,S){Hl==null&&(Hl=u("1","1","mm").width);const E=S?Lv[S]:null;return E?E(m):m}o.toPx=h})(L0||(L0={}));const Nv=/-(.)/g;function Dv(o){return o.replace(Nv,(u,h)=>h.toUpperCase())}const Nm={},N0=["webkit","ms","moz","o"],D0=typeof document!="undefined"?document.createElement("div").style:{};function Fv(o){for(let u=0;u<N0.length;u+=1){const h=N0[u]+o;if(h in D0)return h}return null}function Dm(o){const u=Dv(o);if(Nm[u]==null){const h=u.charAt(0).toUpperCase()+u.slice(1);Nm[u]=u in D0?u:Fv(h)}return Nm[u]}function Bv(o,u,h){const m=Dm(u);m!=null&&(o[m]=h),o[u]=h}function F0(o,u){const h=o.ownerDocument&&o.ownerDocument.defaultView&&o.ownerDocument.defaultView.opener?o.ownerDocument.defaultView.getComputedStyle(o,null):window.getComputedStyle(o,null);return h&&u?h.getPropertyValue(u)||h[u]:h}function jv(o){const u=F0(o);return u!=null&&(u.overflow==="scroll"||u.overflow==="auto")}const kv=function(){if(typeof document=="undefined")return function(){};const o=document;return o.selection?function(){o.selection.empty()}:window.getSelection?function(){const u=window.getSelection();u&&(u.empty?u.empty():u.removeAllRanges&&u.removeAllRanges())}:function(){}}(),Vv={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function B0(o){return/^--/.test(o)}function Ju(o,u,h){const m=window.getComputedStyle(o,null);return h?m.getPropertyValue(u)||void 0:m[u]||o.style[u]}function Qu(o,u){return parseInt(Ju(o,u),10)||0}function $v(o,u){return!Vv[o]&&typeof u=="number"?`${u}px`:u}function j0(o,u,h){if(typeof u=="string"){const m=B0(u);if(m||(u=Dm(u)),h===void 0)return Ju(o,u,m);m||(h=$v(u,h));const S=o.style;m?S.setProperty(u,h):S[u]=h;return}for(const m in u)j0(o,m,u[m])}const Rh=new WeakMap;function Fm(o,u){const h=vn(u),m=Rh.get(o);if(m)return m[h]}function k0(o,u,h){const m=vn(u),S=Rh.get(o);S?S[m]=h:Rh.set(o,{[m]:h})}function V0(o,u,h){if(!u){const m={};return Object.keys(Rh).forEach(S=>{m[S]=Fm(o,S)}),m}if(typeof u=="string"){if(h===void 0)return Fm(o,u);k0(o,u,h);return}for(const m in u)V0(o,m,u[m])}const zv={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};function $0(o,u,h){if(u){if(typeof u=="string"){if(u=zv[u]||u,arguments.length<3)return o[u];o[u]=h;return}for(const m in u)$0(o,m,u[m])}}class Xn{get[Symbol.toStringTag](){return Xn.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(u){this.node.id=u}constructor(u,h,m){if(!u)throw new TypeError("Invalid element to create vector");let S;if(Xn.isVector(u))S=u.node;else if(typeof u=="string")if(u.toLowerCase()==="svg")S=Th();else if(u[0]==="<"){const E=Th(u);S=document.importNode(E.firstChild,!0)}else S=document.createElementNS(da.svg,u);else S=u;this.node=S,h&&this.setAttributes(h),m&&this.append(m)}transform(u,h){return u==null?$m(this.node):($m(this.node,u,h),this)}translate(u,h=0,m={}){return u==null?zm(this.node):(zm(this.node,u,h,m),this)}rotate(u,h,m,S={}){return u==null?Zm(this.node):(Zm(this.node,u,h,m,S),this)}scale(u,h){return u==null?Hm(this.node):(Hm(this.node,u,h),this)}getTransformToElement(u){const h=Xn.toNode(u);return Wm(this.node,h)}removeAttribute(u){return Im(this.node,u),this}getAttribute(u){return I0(this.node,u)}setAttribute(u,h){return _h(this.node,u,h),this}setAttributes(u){return Rm(this.node,u),this}attr(u,h){return u==null?ks(this.node):typeof u=="string"&&h===void 0?ks(this.node,u):(typeof u=="object"?ks(this.node,u):ks(this.node,u,h),this)}svg(){return this.node instanceof SVGSVGElement?this:Xn.create(this.node.ownerSVGElement)}defs(){const u=this.svg()||this,h=u.node.getElementsByTagName("defs")[0];return h?Xn.create(h):Xn.create("defs").appendTo(u)}text(u,h={}){return Z0(this.node,u,h),this}tagName(){return x0(this.node)}clone(){return Xn.create(this.node.cloneNode(!0))}remove(){return A0(this.node),this}empty(){return Mm(this.node),this}append(u){return Tm(this.node,Xn.toNodes(u)),this}appendTo(u){return M0(this.node,Xn.isVector(u)?u.node:u),this}prepend(u){return O0(this.node,Xn.toNodes(u)),this}before(u){return _m(this.node,Xn.toNodes(u)),this}replace(u){return this.node.parentNode&&this.node.parentNode.replaceChild(Xn.toNode(u),this.node),Xn.create(u)}first(){return this.node.firstChild?Xn.create(this.node.firstChild):null}last(){return this.node.lastChild?Xn.create(this.node.lastChild):null}get(u){const h=this.node.childNodes[u];return h?Xn.create(h):null}indexOf(u){return Array.prototype.slice.call(this.node.childNodes).indexOf(Xn.toNode(u))}find(u){const h=[],m=C0(this.node,u);if(m)for(let S=0,E=m.length;S<E;S+=1)h.push(Xn.create(m[S]));return h}findOne(u){const h=S0(this.node,u);return h?Xn.create(h):null}findParentByClass(u,h){const m=P0(this.node,u,h);return m?Xn.create(m):null}matches(u){const h=this.node,m=this.node.matches,S=h.matches||h.matchesSelector||h.msMatchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector||null;return S&&S.call(h,u)}contains(u){return E0(this.node,Xn.isVector(u)?u.node:u)}wrap(u){const h=Xn.create(u),m=this.node.parentNode;return m!=null&&m.insertBefore(h.node,this.node),h.append(this)}parent(u){let h=this;if(h.node.parentNode==null)return null;if(h=Xn.create(h.node.parentNode),u==null)return h;do if(typeof u=="string"?h.matches(u):h instanceof u)return h;while(h=Xn.create(h.node.parentNode));return h}children(){const u=this.node.childNodes,h=[];for(let m=0;m<u.length;m+=1)u[m].nodeType===1&&h.push(Xn.create(u[m]));return h}eachChild(u,h){const m=this.children();for(let S=0,E=m.length;S<E;S+=1)u.call(m[S],m[S],S,m),h&&m[S].eachChild(u,h);return this}index(){return w0(this.node)}hasClass(u){return Gu(this.node,u)}addClass(u){return Ku(this.node,u),this}removeClass(u){return Xu(this.node,u),this}toggleClass(u,h){return Am(this.node,u,h),this}toLocalPoint(u,h){return sv(this.node,u,h)}sample(u=1){return this.node instanceof SVGPathElement?W0(this.node,u):[]}toPath(){return Xn.create(tv(this.node))}toPathData(){return km(this.node)}}(function(o){o.toStringTag=`X6.${o.name}`;function u(_){if(_==null)return!1;if(_ instanceof o)return!0;const j=_[Symbol.toStringTag],G=_;return(j==null||j===o.toStringTag)&&G.node instanceof SVGElement&&typeof G.sample=="function"&&typeof G.toPath=="function"}o.isVector=u;function h(_,j,G){return new o(_,j,G)}o.create=h;function m(_){if(_[0]==="<"){const j=Th(_),G=[];for(let Q=0,yt=j.childNodes.length;Q<yt;Q+=1){const Pt=j.childNodes[Q];G.push(h(document.importNode(Pt,!0)))}return G}return[h(_)]}o.createVectors=m;function S(_){return u(_)?_.node:_}o.toNode=S;function E(_){return Array.isArray(_)?_.map(j=>S(j)):[S(_)]}o.toNodes=E})(Xn||(Xn={}));function Zv(o,u){const h=Xn.create(u),m=Xn.create("textPath"),S=o.d;if(S&&o["xlink:href"]===void 0){const E=Xn.create("path").attr("d",S).appendTo(h.defs());m.attr("xlink:href",`#${E.id}`)}return typeof o=="object"&&m.attr(o),m.node}function Hv(o,u,h){const m=h.eol,S=h.baseSize,E=h.lineHeight;let _=0,j;const G={},Q=u.length-1;for(let yt=0;yt<=Q;yt+=1){let Pt=u[yt],_t=null;if(typeof Pt=="object"){const Rt=Pt.attrs,ee=Xn.create("tspan",Rt);j=ee.node;let we=Pt.t;m&&yt===Q&&(we+=m),j.textContent=we;const fe=Rt.class;fe&&ee.addClass(fe),h.includeAnnotationIndices&&ee.attr("annotations",Pt.annotations.join(",")),_t=parseFloat(Rt["font-size"]),_t===void 0&&(_t=S),_t&&_t>_&&(_=_t)}else m&&yt===Q&&(Pt+=m),j=document.createTextNode(Pt||" "),S&&S>_&&(_=S);o.appendChild(j)}return _&&(G.maxFontSize=_),E?G.lineHeight=E:_&&(G.lineHeight=_*1.2),G}const z0=/em$/;function Lh(o,u){const h=parseFloat(o);return z0.test(o)?h*u:h}function Wv(o,u,h,m){if(!Array.isArray(u))return 0;const S=u.length;if(!S)return 0;let E=u[0];const _=Lh(E.maxFontSize,h)||h;let j=0;const G=Lh(m,h);for(let Pt=1;Pt<S;Pt+=1){E=u[Pt];const _t=Lh(E.lineHeight,h)||G;j+=_t}const Q=Lh(E.maxFontSize,h)||h;let yt;switch(o){case"middle":yt=_/2-.15*Q-j/2;break;case"bottom":yt=-(.25*Q)-j;break;case"top":default:yt=.8*_;break}return yt}function Z0(o,u,h={}){u=Rv(u);const m=h.eol;let S=h.textPath;const E=h.textVerticalAnchor,_=E==="middle"||E==="bottom"||E==="top";let j=h.x;j===void 0&&(j=o.getAttribute("x")||0);const G=h.includeAnnotationIndices;let Q=h.annotations;Q&&!Array.isArray(Q)&&(Q=[Q]);const yt=h.lineHeight,Pt=yt==="auto",_t=Pt?"1.5em":yt||"1em";let Rt=!0;const ee=o.childNodes;if(ee.length===1){const yn=ee[0];yn&&yn.tagName.toUpperCase()==="TITLE"&&(Rt=!1)}Rt&&Mm(o),ks(o,{"xml:space":"preserve",display:u||h.displayEmpty?null:"none"});const we=ks(o,"font-size");let fe=parseFloat(we);fe||(fe=16,(_||Q)&&!we&&ks(o,"font-size",`${fe}`));let Ie;S?(typeof S=="string"&&(S={d:S}),Ie=Zv(S,o)):Ie=document.createDocumentFragment();let Ne,Vt=0,Ce;const Te=u.split(`
`),Ee=[],dn=Te.length-1;for(let yn=0;yn<=dn;yn+=1){Ne=_t;let xs="v-line";const Cr=Gc("tspan");let Hr,qo=Te[yn];if(qo)if(Q){const xo=Iv(qo,Q,{offset:-Vt,includeAnnotationIndices:G});Hr=Hv(Cr,xo,{eol:yn!==dn&&m,baseSize:fe,lineHeight:Pt?null:_t,includeAnnotationIndices:G});const Wt=Hr.lineHeight;Wt&&Pt&&yn!==0&&(Ne=Wt),yn===0&&(Ce=Hr.maxFontSize*.8)}else m&&yn!==dn&&(qo+=m),Cr.textContent=qo;else{Cr.textContent="-",xs+=" v-empty-line";const xo=Cr.style;xo.fillOpacity=0,xo.strokeOpacity=0,Q&&(Hr={})}Hr&&Ee.push(Hr),yn>0&&Cr.setAttribute("dy",Ne),(yn>0||S)&&Cr.setAttribute("x",j),Cr.className.baseVal=xs,Ie.appendChild(Cr),Vt+=qo.length+1}if(_)if(Q)Ne=Wv(E,Ee,fe,_t);else if(E==="top")Ne="0.8em";else{let yn;switch(dn>0?(yn=parseFloat(_t)||1,yn*=dn,z0.test(_t)||(yn/=fe)):yn=0,E){case"middle":Ne=`${.3-yn/2}em`;break;case"bottom":Ne=`${-yn-.3}em`;break;default:break}}else E===0?Ne="0em":E?Ne=E:(Ne=0,o.getAttribute("y")==null&&o.setAttribute("y",`${Ce||"0.8em"}`));Ie.firstChild.setAttribute("dy",Ne),o.appendChild(Ie)}function Kc(o,u={}){const h=document.createElement("canvas").getContext("2d");if(!o)return{width:0};const m=[],S=u["font-size"]?`${parseFloat(u["font-size"])}px`:"14px";return m.push(u["font-style"]||"normal"),m.push(u["font-variant"]||"normal"),m.push(u["font-weight"]||400),m.push(S),m.push(u["font-family"]||"sans-serif"),h.font=m.join(" "),h.measureText(o)}function Bm(o,u,h,m={}){if(u>=h)return[o,""];const S=o.length,E={};let _=Math.round(u/h*S-1);for(_<0&&(_=0);_>=0&&_<S;){const j=o.slice(0,_),G=E[j]||Kc(j,m).width,Q=o.slice(0,_+1),yt=E[Q]||Kc(Q,m).width;if(E[j]=G,E[Q]=yt,G>u)_-=1;else if(yt<=u)_+=1;else break}return[o.slice(0,_),o.slice(_)]}function H0(o,u,h={},m={}){const S=u.width,E=u.height,_=m.eol||`
`,j=h.fontSize||14,G=h.lineHeight?parseFloat(h.lineHeight):Math.ceil(j*1.4),Q=Math.floor(E/G);if(o.indexOf(_)>-1){const fe=Qm(),Ie=[];return o.split(_).map(Ne=>{const Vt=H0(Ne,Object.assign(Object.assign({},u),{height:Number.MAX_SAFE_INTEGER}),h,Object.assign(Object.assign({},m),{eol:fe}));Vt&&Ie.push(...Vt.split(fe))}),Ie.slice(0,Q).join(_)}const{width:yt}=Kc(o,h);if(yt<S)return o;const Pt=[];let _t=o,Rt=yt,ee=m.ellipsis,we=0;ee&&(typeof ee!="string"&&(ee="\u2026"),we=Kc(ee,h).width);for(let fe=0;fe<Q;fe+=1)if(Rt>S)if(fe===Q-1){const[Ne]=Bm(_t,S-we,Rt,h);Pt.push(ee?`${Ne}${ee}`:Ne)}else{const[Ne,Vt]=Bm(_t,S,Rt,h);Pt.push(Ne),_t=Vt,Rt=Kc(_t,h).width}else{Pt.push(_t);break}return Pt.join(_)}const Nh=.551784;function Ui(o,u,h=NaN){const m=o.getAttribute(u);if(m==null)return h;const S=parseFloat(m);return Number.isNaN(S)?h:S}function W0(o,u=1){const h=o.getTotalLength(),m=[];let S=0,E;for(;S<h;)E=o.getPointAtLength(S),m.push({distance:S,x:E.x,y:E.y}),S+=u;return m}function U0(o){return["M",Ui(o,"x1"),Ui(o,"y1"),"L",Ui(o,"x2"),Ui(o,"y2")].join(" ")}function G0(o){const u=jm(o);return u.length===0?null:`${X0(u)} Z`}function K0(o){const u=jm(o);return u.length===0?null:X0(u)}function X0(o){return`M ${o.map(h=>`${h.x} ${h.y}`).join(" L")}`}function jm(o){const u=[],h=o.points;if(h)for(let m=0,S=h.numberOfItems;m<S;m+=1)u.push(h.getItem(m));return u}function q0(o){const u=Ui(o,"cx",0),h=Ui(o,"cy",0),m=Ui(o,"r"),S=m*Nh;return["M",u,h-m,"C",u+S,h-m,u+m,h-S,u+m,h,"C",u+m,h+S,u+S,h+m,u,h+m,"C",u-S,h+m,u-m,h+S,u-m,h,"C",u-m,h-S,u-S,h-m,u,h-m,"Z"].join(" ")}function Y0(o){const u=Ui(o,"cx",0),h=Ui(o,"cy",0),m=Ui(o,"rx"),S=Ui(o,"ry")||m,E=m*Nh,_=S*Nh;return["M",u,h-S,"C",u+E,h-S,u+m,h-_,u+m,h,"C",u+m,h+_,u+E,h+S,u,h+S,"C",u-E,h+S,u-m,h+_,u-m,h,"C",u-m,h-_,u-E,h-S,u,h-S,"Z"].join(" ")}function J0(o){return Q0({x:Ui(o,"x",0),y:Ui(o,"y",0),width:Ui(o,"width",0),height:Ui(o,"height",0),rx:Ui(o,"rx",0),ry:Ui(o,"ry",0)})}function Q0(o){let u;const h=o.x,m=o.y,S=o.width,E=o.height,_=Math.min(o.rx||o["top-rx"]||0,S/2),j=Math.min(o.rx||o["bottom-rx"]||0,S/2),G=Math.min(o.ry||o["top-ry"]||0,E/2),Q=Math.min(o.ry||o["bottom-ry"]||0,E/2);return _||j||G||Q?u=["M",h,m+G,"v",E-G-Q,"a",j,Q,0,0,0,j,Q,"h",S-2*j,"a",j,Q,0,0,0,j,-Q,"v",-(E-Q-G),"a",_,G,0,0,0,-_,-G,"h",-(S-2*_),"a",_,G,0,0,0,-_,G,"Z"]:u=["M",h,m,"H",h+S,"V",m+E,"H",h,"V",m,"Z"],u.join(" ")}function tv(o){const u=Gc("path");ks(u,ks(o));const h=km(o);return h&&u.setAttribute("d",h),u}function km(o){const u=o.tagName.toLowerCase();switch(u){case"path":return o.getAttribute("d");case"line":return U0(o);case"polygon":return G0(o);case"polyline":return K0(o);case"ellipse":return Y0(o);case"circle":return q0(o);case"rect":return J0(o);default:break}throw new Error(`"${u}" cannot be converted to svg path element.`)}function Uv(o,u,h,m){const S=2*Math.PI-1e-6,E=o,_=u;let j=h,G=m;if(G<j){const we=j;j=G,G=we}const Q=G-j,yt=Q<Math.PI?"0":"1",Pt=Math.cos(j),_t=Math.sin(j),Rt=Math.cos(G),ee=Math.sin(G);return Q>=S?E?`M0,${_}A${_},${_} 0 1,1 0,${-_}A${_},${_} 0 1,1 0,${_}M0,${E}A${E},${E} 0 1,0 0,${-E}A${E},${E} 0 1,0 0,${E}Z`:`M0,${_}A${_},${_} 0 1,1 0,${-_}A${_},${_} 0 1,1 0,${_}Z`:E?`M${_*Pt},${_*_t}A${_},${_} 0 ${yt},1 ${_*Rt},${_*ee}L${E*Rt},${E*ee}A${E},${E} 0 ${yt},0 ${E*Pt},${E*_t}Z`:`M${_*Pt},${_*_t}A${_},${_} 0 ${yt},1 ${_*Rt},${_*ee}L0,0Z`}const Gv=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,ev=/[ ,]+/,Kv=/^(\w+)\((.*)\)/;function Xv(o,u){const m=Gc("svg").createSVGPoint();return m.x=o,m.y=u,m}function Xc(o){const h=Gc("svg").createSVGMatrix();if(o!=null){const m=o,S=h;for(const E in m)S[E]=m[E]}return h}function nv(o){const u=Gc("svg");return o!=null?(o instanceof DOMMatrix||(o=Xc(o)),u.createSVGTransformFromMatrix(o)):u.createSVGTransform()}function Dh(o){let u=Xc();const h=o!=null&&o.match(Gv);if(!h)return u;for(let m=0,S=h.length;m<S;m+=1){const _=h[m].match(Kv);if(_){let j,G,Q,yt,Pt,_t=Xc();const Rt=_[2].split(ev);switch(_[1].toLowerCase()){case"scale":j=parseFloat(Rt[0]),G=Rt[1]===void 0?j:parseFloat(Rt[1]),_t=_t.scaleNonUniform(j,G);break;case"translate":Q=parseFloat(Rt[0]),yt=parseFloat(Rt[1]),_t=_t.translate(Q,yt);break;case"rotate":Pt=parseFloat(Rt[0]),Q=parseFloat(Rt[1])||0,yt=parseFloat(Rt[2])||0,Q!==0||yt!==0?_t=_t.translate(Q,yt).rotate(Pt).translate(-Q,-yt):_t=_t.rotate(Pt);break;case"skewx":Pt=parseFloat(Rt[0]),_t=_t.skewX(Pt);break;case"skewy":Pt=parseFloat(Rt[0]),_t=_t.skewY(Pt);break;case"matrix":_t.a=parseFloat(Rt[0]),_t.b=parseFloat(Rt[1]),_t.c=parseFloat(Rt[2]),_t.d=parseFloat(Rt[3]),_t.e=parseFloat(Rt[4]),_t.f=parseFloat(Rt[5]);break;default:continue}u=u.multiply(_t)}}return u}function rv(o){const u=o||{},h=u.a!=null?u.a:1,m=u.b!=null?u.b:0,S=u.c!=null?u.c:0,E=u.d!=null?u.d:1,_=u.e!=null?u.e:0,j=u.f!=null?u.f:0;return`matrix(${h},${m},${S},${E},${_},${j})`}function Fh(o){let u,h,m;if(o){const E=ev;if(o.trim().indexOf("matrix")>=0){const _=Dh(o),j=iv(_);u=[j.translateX,j.translateY],h=[j.rotation],m=[j.scaleX,j.scaleY];const G=[];(u[0]!==0||u[1]!==0)&&G.push(`translate(${u.join(",")})`),(m[0]!==1||m[1]!==1)&&G.push(`scale(${m.join(",")})`),h[0]!==0&&G.push(`rotate(${h[0]})`),o=G.join(" ")}else{const _=o.match(/translate\((.*?)\)/);_&&(u=_[1].split(E));const j=o.match(/rotate\((.*?)\)/);j&&(h=j[1].split(E));const G=o.match(/scale\((.*?)\)/);G&&(m=G[1].split(E))}}const S=m&&m[0]?parseFloat(m[0]):1;return{raw:o||"",translation:{tx:u&&u[0]?parseInt(u[0],10):0,ty:u&&u[1]?parseInt(u[1],10):0},rotation:{angle:h&&h[0]?parseInt(h[0],10):0,cx:h&&h[1]?parseInt(h[1],10):void 0,cy:h&&h[2]?parseInt(h[2],10):void 0},scale:{sx:S,sy:m&&m[1]?parseFloat(m[1]):S}}}function Vm(o,u){const h=u.x*o.a+u.y*o.c+0,m=u.x*o.b+u.y*o.d+0;return{x:h,y:m}}function iv(o){const u=Vm(o,{x:0,y:1}),h=Vm(o,{x:1,y:0}),m=180/Math.PI*Math.atan2(u.y,u.x)-90,S=180/Math.PI*Math.atan2(h.y,h.x);return{skewX:m,skewY:S,translateX:o.e,translateY:o.f,scaleX:Math.sqrt(o.a*o.a+o.b*o.b),scaleY:Math.sqrt(o.c*o.c+o.d*o.d),rotation:m}}function qv(o){let u,h,m,S;return o?(u=o.a==null?1:o.a,S=o.d==null?1:o.d,h=o.b,m=o.c):u=S=1,{sx:h?Math.sqrt(u*u+h*h):u,sy:m?Math.sqrt(m*m+S*S):S}}function Yv(o){let u={x:0,y:1};o&&(u=Vm(o,u));const h=180*Math.atan2(u.y,u.x)/Math.PI%360-90;return{angle:h%360+(h<0?360:0)}}function Jv(o){return{tx:o&&o.e||0,ty:o&&o.f||0}}function $m(o,u,h={}){if(u==null)return Dh(ks(o,"transform"));if(h.absolute){o.setAttribute("transform",rv(u));return}const m=o.transform,S=nv(u);m.baseVal.appendItem(S)}function zm(o,u,h=0,m={}){let S=ks(o,"transform");const E=Fh(S);if(u==null)return E.translation;S=E.raw,S=S.replace(/translate\([^)]*\)/g,"").trim();const _=m.absolute?u:E.translation.tx+u,j=m.absolute?h:E.translation.ty+h,G=`translate(${_},${j})`;o.setAttribute("transform",`${G} ${S}`.trim())}function Zm(o,u,h,m,S={}){let E=ks(o,"transform");const _=Fh(E);if(u==null)return _.rotation;E=_.raw,E=E.replace(/rotate\([^)]*\)/g,"").trim(),u%=360;const j=S.absolute?u:_.rotation.angle+u,G=h!=null&&m!=null?`,${h},${m}`:"",Q=`rotate(${j}${G})`;o.setAttribute("transform",`${E} ${Q}`.trim())}function Hm(o,u,h){let m=ks(o,"transform");const S=Fh(m);if(u==null)return S.scale;h=h==null?u:h,m=S.raw,m=m.replace(/scale\([^)]*\)/g,"").trim();const E=`scale(${u},${h})`;o.setAttribute("transform",`${m} ${E}`.trim())}function Wm(o,u){if(qu(u)&&qu(o)){const h=u.getScreenCTM(),m=o.getScreenCTM();if(h&&m)return h.inverse().multiply(m)}return Xc()}function Qv(o,u){let h=Xc();if(qu(u)&&qu(o)){let m=o;const S=[];for(;m&&m!==u;){const E=m.getAttribute("transform")||null,_=Dh(E);S.push(_),m=m.parentNode}S.reverse().forEach(E=>{h=h.multiply(E)})}return h}function sv(o,u,h){const m=o instanceof SVGSVGElement?o:o.ownerSVGElement,S=m.createSVGPoint();S.x=u,S.y=h;try{const E=m.getScreenCTM(),_=S.matrixTransform(E.inverse()),j=Wm(o,m).inverse();return _.matrixTransform(j)}catch(E){return S}}var io;(function(o){const u={};function h(E){return u[E]||{}}o.get=h;function m(E,_){u[E]=_}o.register=m;function S(E){delete u[E]}o.unregister=S})(io||(io={}));var Wl;(function(o){const u=new WeakMap;function h(E){return u.has(E)||u.set(E,{events:Object.create(null)}),u.get(E)}o.ensure=h;function m(E){return u.get(E)}o.get=m;function S(E){return u.delete(E)}o.remove=S})(Wl||(Wl={}));var wn;(function(o){o.returnTrue=()=>!0,o.returnFalse=()=>!1;function u(S){S.stopPropagation()}o.stopPropagationCallback=u;function h(S,E,_){S.addEventListener!=null&&S.addEventListener(E,_)}o.addEventListener=h;function m(S,E,_){S.removeEventListener!=null&&S.removeEventListener(E,_)}o.removeEventListener=m})(wn||(wn={})),function(o){const u=/[^\x20\t\r\n\f]+/g,h=/^([^.]*)(?:\.(.+)|)/;function m(j){return(j||"").match(u)||[""]}o.splitType=m;function S(j){const G=h.exec(j)||[];return{originType:G[1]?G[1].trim():G[1],namespaces:G[2]?G[2].split(".").map(Q=>Q.trim()).sort():[]}}o.normalizeType=S;function E(j){return j.nodeType===1||j.nodeType===9||!+j.nodeType}o.isValidTarget=E;function _(j,G){if(G){const Q=j;return Q.querySelector!=null&&Q.querySelector(G)!=null}return!0}o.isValidSelector=_}(wn||(wn={})),function(o){let u=0;const h=new WeakMap;function m(j){return h.has(j)||(h.set(j,u),u+=1),h.get(j)}o.ensureHandlerId=m;function S(j){return h.get(j)}o.getHandlerId=S;function E(j){return h.delete(j)}o.removeHandlerId=E;function _(j,G){return h.set(j,G)}o.setHandlerId=_}(wn||(wn={})),function(o){function u(h,m){const S=[],E=Wl.get(h),_=E&&E.events&&E.events[m.type],j=_&&_.handlers||[],G=_?_.delegateCount:0;if(G>0&&!(m.type==="click"&&typeof m.button=="number"&&m.button>=1)){for(let Q=m.target;Q!==h;Q=Q.parentNode||h)if(Q.nodeType===1&&!(m.type==="click"&&Q.disabled===!0)){const yt=[],Pt={};for(let _t=0;_t<G;_t+=1){const Rt=j[_t],ee=Rt.selector;if(ee!=null&&Pt[ee]==null){const we=h,fe=[];we.querySelectorAll(ee).forEach(Ie=>{fe.push(Ie)}),Pt[ee]=fe.includes(Q)}Pt[ee]&&yt.push(Rt)}yt.length&&S.push({elem:Q,handlers:yt})}}return G<j.length&&S.push({elem:h,handlers:j.slice(G)}),S}o.getHandlerQueue=u}(wn||(wn={})),function(o){function u(h){return h!=null&&h===h.window}o.isWindow=u}(wn||(wn={})),function(o){function u(h,m){const S=h.nodeType===9?h.documentElement:h,E=m&&m.parentNode;return h===E||!!(E&&E.nodeType===1&&(S.contains?S.contains(E):h.compareDocumentPosition&&h.compareDocumentPosition(E)&16))}o.contains=u}(wn||(wn={}));class ga{constructor(u,h){this.isDefaultPrevented=wn.returnFalse,this.isPropagationStopped=wn.returnFalse,this.isImmediatePropagationStopped=wn.returnFalse,this.isSimulated=!1,this.preventDefault=()=>{const m=this.originalEvent;this.isDefaultPrevented=wn.returnTrue,m&&!this.isSimulated&&m.preventDefault()},this.stopPropagation=()=>{const m=this.originalEvent;this.isPropagationStopped=wn.returnTrue,m&&!this.isSimulated&&m.stopPropagation()},this.stopImmediatePropagation=()=>{const m=this.originalEvent;this.isImmediatePropagationStopped=wn.returnTrue,m&&!this.isSimulated&&m.stopImmediatePropagation(),this.stopPropagation()},typeof u=="string"?this.type=u:u.type&&(this.originalEvent=u,this.type=u.type,this.isDefaultPrevented=u.defaultPrevented?wn.returnTrue:wn.returnFalse,this.target=u.target,this.currentTarget=u.currentTarget,this.relatedTarget=u.relatedTarget,this.timeStamp=u.timeStamp),h&&Object.assign(this,h),this.timeStamp||(this.timeStamp=Date.now())}}(function(o){function u(h){return h instanceof o?h:new o(h)}o.create=u})(ga||(ga={})),function(o){function u(h,m){Object.defineProperty(o.prototype,h,{enumerable:!0,configurable:!0,get:typeof m=="function"?function(){if(this.originalEvent)return m(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[h]},set(S){Object.defineProperty(this,h,{enumerable:!0,configurable:!0,writable:!0,value:S})}})}o.addProperty=u}(ga||(ga={})),function(o){const u={bubbles:!0,cancelable:!0,eventPhase:!0,detail:!0,view:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pageX:!0,pageY:!0,screenX:!0,screenY:!0,toElement:!0,pointerId:!0,pointerType:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,touches:!0,changedTouches:!0,targetTouches:!0,which:!0,altKey:!0,ctrlKey:!0,metaKey:!0,shiftKey:!0};Object.keys(u).forEach(h=>o.addProperty(h,u[h]))}(ga||(ga={}));var qc;(function(o){io.register("load",{noBubble:!0})})(qc||(qc={})),function(o){io.register("beforeunload",{postDispatch(u,h){h.result!==void 0&&h.originalEvent&&(h.originalEvent.returnValue=h.result)}})}(qc||(qc={})),function(o){io.register("mouseenter",{delegateType:"mouseover",bindType:"mouseover",handle(u,h){let m;const S=h.relatedTarget,E=h.handleObj;return(!S||S!==u&&!wn.contains(u,S))&&(h.type=E.originType,m=E.handler.call(u,h),h.type="mouseover"),m}}),io.register("mouseleave",{delegateType:"mouseout",bindType:"mouseout",handle(u,h){let m;const S=h.relatedTarget,E=h.handleObj;return(!S||S!==u&&!wn.contains(u,S))&&(h.type=E.originType,m=E.handler.call(u,h),h.type="mouseout"),m}})}(qc||(qc={}));var ty=function(o,u){var h={};for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&u.indexOf(m)<0&&(h[m]=o[m]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,m=Object.getOwnPropertySymbols(o);S<m.length;S++)u.indexOf(m[S])<0&&Object.prototype.propertyIsEnumerable.call(o,m[S])&&(h[m[S]]=o[m[S]]);return h},tf;(function(o){let u;function h(_,j,G,Q,yt){if(!wn.isValidTarget(_))return;let Pt;if(typeof G!="function"){const{handler:we,selector:fe}=G,Ie=ty(G,["handler","selector"]);G=we,yt=fe,Pt=Ie}const _t=Wl.ensure(_);let Rt=_t.handler;Rt==null&&(Rt=_t.handler=function(we,...fe){return u!==we.type?S(_,we,...fe):void 0});const ee=wn.ensureHandlerId(G);wn.splitType(j).forEach(we=>{const{originType:fe,namespaces:Ie}=wn.normalizeType(we);if(!fe)return;let Ne=fe,Vt=io.get(Ne);Ne=(yt?Vt.delegateType:Vt.bindType)||Ne,Vt=io.get(Ne);const Ce=Object.assign({type:Ne,originType:fe,data:Q,selector:yt,guid:ee,handler:G,namespace:Ie.join(".")},Pt),Te=_t.events;let Ee=Te[Ne];Ee||(Ee=Te[Ne]={handlers:[],delegateCount:0},(!Vt.setup||Vt.setup(_,Q,Ie,Rt)===!1)&&wn.addEventListener(_,Ne,Rt)),Vt.add&&(wn.removeHandlerId(Ce.handler),Vt.add(_,Ce),wn.setHandlerId(Ce.handler,ee)),yt?(Ee.handlers.splice(Ee.delegateCount,0,Ce),Ee.delegateCount+=1):Ee.handlers.push(Ce)})}o.on=h;function m(_,j,G,Q,yt){const Pt=Wl.get(_);if(!Pt)return;const _t=Pt.events;_t&&(wn.splitType(j).forEach(Rt=>{const{originType:ee,namespaces:we}=wn.normalizeType(Rt);if(!ee){Object.keys(_t).forEach(Te=>{m(_,Te+Rt,G,Q,!0)});return}let fe=ee;const Ie=io.get(fe);fe=(Q?Ie.delegateType:Ie.bindType)||fe;const Ne=_t[fe];if(!Ne)return;const Vt=we.length>0?new RegExp(`(^|\\.)${we.join("\\.(?:.*\\.|)")}(\\.|$)`):null,Ce=Ne.handlers.length;for(let Te=Ne.handlers.length-1;Te>=0;Te-=1){const Ee=Ne.handlers[Te];(yt||ee===Ee.originType)&&(!G||wn.getHandlerId(G)===Ee.guid)&&(Vt==null||Ee.namespace&&Vt.test(Ee.namespace))&&(Q==null||Q===Ee.selector||Q==="**"&&Ee.selector)&&(Ne.handlers.splice(Te,1),Ee.selector&&(Ne.delegateCount-=1),Ie.remove&&Ie.remove(_,Ee))}Ce&&Ne.handlers.length===0&&((!Ie.teardown||Ie.teardown(_,we,Pt.handler)===!1)&&wn.removeEventListener(_,fe,Pt.handler),delete _t[fe])}),Object.keys(_t).length===0&&Wl.remove(_))}o.off=m;function S(_,j,...G){const Q=ga.create(j);Q.delegateTarget=_;const yt=io.get(Q.type);if(yt.preDispatch&&yt.preDispatch(_,Q)===!1)return;const Pt=wn.getHandlerQueue(_,Q);for(let _t=0,Rt=Pt.length;_t<Rt&&!Q.isPropagationStopped();_t+=1){const ee=Pt[_t];Q.currentTarget=ee.elem;for(let we=0,fe=ee.handlers.length;we<fe&&!Q.isImmediatePropagationStopped();we+=1){const Ie=ee.handlers[we];if(Q.rnamespace==null||Ie.namespace&&Q.rnamespace.test(Ie.namespace)){Q.handleObj=Ie,Q.data=Ie.data;const Ne=io.get(Ie.originType).handle,Vt=Ne?Ne(ee.elem,Q,...G):Ie.handler.call(ee.elem,Q,...G);Vt!==void 0&&(Q.result=Vt,Vt===!1&&(Q.preventDefault(),Q.stopPropagation()))}}}return yt.postDispatch&&yt.postDispatch(_,Q),Q.result}o.dispatch=S;function E(_,j,G,Q){let yt=_,Pt=typeof _=="string"?_:_.type,_t=typeof _=="string"||yt.namespace==null?[]:yt.namespace.split(".");const Rt=G;if(Rt.nodeType===3||Rt.nodeType===8)return;Pt.indexOf(".")>-1&&(_t=Pt.split("."),Pt=_t.shift(),_t.sort());const ee=Pt.indexOf(":")<0&&`on${Pt}`;yt=_ instanceof ga?_:new ga(Pt,typeof _=="object"?_:null),yt.namespace=_t.join("."),yt.rnamespace=yt.namespace?new RegExp(`(^|\\.)${_t.join("\\.(?:.*\\.|)")}(\\.|$)`):null,yt.result=void 0,yt.target||(yt.target=Rt);const we=[yt];Array.isArray(j)?we.push(...j):we.push(j);const fe=io.get(Pt);if(!Q&&fe.trigger&&fe.trigger(Rt,yt,j)===!1)return;let Ie;const Ne=[Rt];if(!Q&&!fe.noBubble&&!wn.isWindow(Rt)){Ie=fe.delegateType||Pt;let Ce=Rt,Te=Rt.parentNode;for(;Te!=null;)Ne.push(Te),Ce=Te,Te=Te.parentNode;const Ee=Rt.ownerDocument||document;if(Ce===Ee){const dn=Ce.defaultView||Ce.parentWindow||window;Ne.push(dn)}}let Vt=Rt;for(let Ce=0,Te=Ne.length;Ce<Te&&!yt.isPropagationStopped();Ce+=1){const Ee=Ne[Ce];Vt=Ee,yt.type=Ce>1?Ie:fe.bindType||Pt;const dn=Wl.get(Ee);dn&&dn.events[yt.type]&&dn.handler&&dn.handler.call(Ee,...we);const $n=ee&&Ee[ee]||null;$n&&wn.isValidTarget(Ee)&&(yt.result=$n.call(Ee,...we),yt.result===!1&&yt.preventDefault())}if(yt.type=Pt,!Q&&!yt.isDefaultPrevented()){const Ce=fe.preventDefault;if((Ce==null||Ce(Ne.pop(),yt,j)===!1)&&wn.isValidTarget(Rt)&&ee&&typeof Rt[Pt]=="function"&&!wn.isWindow(Rt)){const Te=Rt[ee];Te&&(Rt[ee]=null),u=Pt,yt.isPropagationStopped()&&Vt.addEventListener(Pt,wn.stopPropagationCallback),Rt[Pt](),yt.isPropagationStopped()&&Vt.removeEventListener(Pt,wn.stopPropagationCallback),u=void 0,Te&&(Rt[ee]=Te)}}return yt.result}o.trigger=E})(tf||(tf={}));var Um;(function(o){function u(E,_,j,G,Q){return ef.on(E,_,j,G,Q),E}o.on=u;function h(E,_,j,G,Q){return ef.on(E,_,j,G,Q,!0),E}o.once=h;function m(E,_,j,G){return ef.off(E,_,j,G),E}o.off=m;function S(E,_,j,G){return tf.trigger(_,j,E,G),E}o.trigger=S})(Um||(Um={}));var ef;(function(o){function u(m,S,E,_,j,G){if(typeof S=="object"){typeof E!="string"&&(_=_||E,E=void 0),Object.keys(S).forEach(Q=>u(m,Q,E,_,S[Q],G));return}if(_==null&&j==null?(j=E,_=E=void 0):j==null&&(typeof E=="string"?(j=_,_=void 0):(j=_,_=E,E=void 0)),j===!1)j=wn.returnFalse;else if(!j)return;if(G){const Q=j;j=function(yt,...Pt){return o.off(m,yt),Q.call(this,yt,...Pt)},wn.setHandlerId(j,wn.ensureHandlerId(Q))}tf.on(m,S,j,_,E)}o.on=u;function h(m,S,E,_){const j=S;if(j&&j.preventDefault!=null&&j.handleObj!=null){const G=j.handleObj;h(j.delegateTarget,G.namespace?`${G.originType}.${G.namespace}`:G.originType,G.selector,G.handler);return}if(typeof S=="object"){const G=S;Object.keys(G).forEach(Q=>h(m,Q,E,G[Q]));return}(E===!1||typeof E=="function")&&(_=E,E=void 0),_===!1&&(_=wn.returnFalse),tf.off(m,S,_,E)}o.off=h})(ef||(ef={}));class ey{constructor(u,h,m){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=zl.isEventSupported("wheel")?"wheel":"mousewheel",this.target=u,this.onWheelCallback=h,this.onWheelGuard=m,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){this.target.addEventListener(this.eventName,this.onWheel,{passive:!1})}disable(){this.target.removeEventListener(this.eventName,this.onWheel)}onWheel(u){if(this.onWheelGuard!=null&&!this.onWheelGuard(u))return;this.deltaX+=u.deltaX,this.deltaY+=u.deltaY,u.preventDefault();let h;(this.deltaX!==0||this.deltaY!==0)&&(u.stopPropagation(),h=!0),h===!0&&this.animationFrameId===0&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(u)}))}didWheel(u){this.animationFrameId=0,this.onWheelCallback(u,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}function Gm(o){const u=o.getBoundingClientRect(),h=o.ownerDocument.defaultView;return{top:u.top+h.pageYOffset,left:u.left+h.pageXOffset}}function ny(o){return o.getBoundingClientRect().width}function ry(o){return o.getBoundingClientRect().height}function iy(o){const u=Ju(o,"position")==="fixed";let h;if(u){const m=o.getBoundingClientRect();h={left:m.left,top:m.top}}else h=Gm(o);if(!u){const m=o.ownerDocument;let S=o.offsetParent||m.documentElement;for(;(S===m.body||S===m.documentElement)&&Ju(S,"position")==="static";)S=S.parentNode;if(S!==o&&T0(S)){const E=Gm(S);h.top-=E.top+Qu(S,"borderTopWidth"),h.left-=E.left+Qu(S,"borderLeftWidth")}}return{top:h.top-Qu(o,"marginTop"),left:h.left-Qu(o,"marginLeft")}}function ov(o,u=60){let h=null;return(...m)=>{h&&clearTimeout(h),h=window.setTimeout(()=>{o.apply(this,m)},u)}}function sy(o){let u=null,h=[];const m=()=>{if(getComputedStyle(o).position==="static"){const Q=o.style;Q.position="relative"}const G=document.createElement("object");return G.onload=()=>{G.contentDocument.defaultView.addEventListener("resize",S),S()},G.style.display="block",G.style.position="absolute",G.style.top="0",G.style.left="0",G.style.height="100%",G.style.width="100%",G.style.overflow="hidden",G.style.pointerEvents="none",G.style.zIndex="-1",G.style.opacity="0",G.setAttribute("tabindex","-1"),G.type="text/html",o.appendChild(G),G.data="about:blank",G},S=ov(()=>{h.forEach(G=>G(o))}),E=G=>{u||(u=m()),h.indexOf(G)===-1&&h.push(G)},_=()=>{u&&u.parentNode&&(u.contentDocument&&u.contentDocument.defaultView.removeEventListener("resize",S),u.parentNode.removeChild(u),u=null,h=[])};return{element:o,bind:E,destroy:_,unbind:G=>{const Q=h.indexOf(G);Q!==-1&&h.splice(Q,1),h.length===0&&u&&_()}}}function oy(o){let u=null,h=[];const m=ov(()=>{h.forEach(G=>{G(o)})}),S=()=>{const G=new ResizeObserver(m);return G.observe(o),m(),G},E=G=>{u||(u=S()),h.indexOf(G)===-1&&h.push(G)},_=()=>{u&&(u.disconnect(),h=[],u=null)};return{element:o,bind:E,destroy:_,unbind:G=>{const Q=h.indexOf(G);Q!==-1&&h.splice(Q,1),h.length===0&&u&&_()}}}const ay=typeof ResizeObserver!="undefined"?oy:sy;var Km;(function(o){const u=new WeakMap;function h(S){let E=u.get(S);return E||(E=ay(S),u.set(S,E),E)}function m(S){S.destroy(),u.delete(S.element)}o.bind=(S,E)=>{const _=h(S);return _.bind(E),()=>_.unbind(E)},o.clear=S=>{const E=h(S);m(E)}})(Km||(Km={}));class nf{constructor(u={}){this.comparator=u.comparator||nf.defaultComparator,this.index={},this.data=u.data||[],this.heapify()}isEmpty(){return this.data.length===0}insert(u,h,m){const S={priority:u,value:h},E=this.data.length;return m&&(S.id=m,this.index[m]=E),this.data.push(S),this.bubbleUp(E),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(u,h){const m=this.index[u];if(typeof m=="undefined")throw new Error(`Node with id '${u}' was not found in the heap.`);const S=this.data,E=S[m].priority,_=this.comparator(h,E);_<0?(S[m].priority=h,this.bubbleUp(m)):_>0&&(S[m].priority=h,this.bubbleDown(m))}remove(){const u=this.data,h=u[0],m=u.pop();return h.id&&delete this.index[h.id],u.length>0&&(u[0]=m,m.id&&(this.index[m.id]=0),this.bubbleDown(0)),h?h.value:null}heapify(){for(let u=0;u<this.data.length;u+=1)this.bubbleUp(u)}bubbleUp(u){const h=this.data;let m,S,E=u;for(;E>0&&(S=E-1>>>1,this.comparator(h[E].priority,h[S].priority)<0);){m=h[S],h[S]=h[E];let _=h[E].id;_!=null&&(this.index[_]=S),h[E]=m,_=h[E].id,_!=null&&(this.index[_]=E),E=S}}bubbleDown(u){const h=this.data,m=h.length-1;let S=u;for(;;){const E=(S<<1)+1,_=E+1;let j=S;if(E<=m&&this.comparator(h[E].priority,h[j].priority)<0&&(j=E),_<=m&&this.comparator(h[_].priority,h[j].priority)<0&&(j=_),j!==S){const G=h[j];h[j]=h[S];let Q=h[S].id;Q!=null&&(this.index[Q]=j),h[S]=G,Q=h[S].id,Q!=null&&(this.index[Q]=S),S=j}else break}}}(function(o){o.defaultComparator=(u,h)=>u-h})(nf||(nf={}));var Xm;(function(o){function u(h,m,S=(E,_)=>1){const E={},_={},j={},G=new nf;for(E[m]=0,Object.keys(h).forEach(Q=>{Q!==m&&(E[Q]=1/0),G.insert(E[Q],Q,Q)});!G.isEmpty();){const Q=G.remove();j[Q]=!0;const yt=h[Q]||[];for(let Pt=0;Pt<yt.length;Pt+=1){const _t=yt[Pt];if(!j[_t]){const Rt=E[Q]+S(Q,_t);Rt<E[_t]&&(E[_t]=Rt,_[_t]=Q,G.updatePriority(_t,Rt))}}}return _}o.run=u})(Xm||(Xm={}));class $a{constructor(u,h,m,S){if(u==null)return this.set(255,255,255,1);if(typeof u=="number")return this.set(u,h,m,S);if(typeof u=="string")return $a.fromString(u)||this;if(Array.isArray(u))return this.set(u);this.set(u.r,u.g,u.b,u.a==null?1:u.a)}blend(u,h,m){this.set(u.r+(h.r-u.r)*m,u.g+(h.g-u.g)*m,u.b+(h.b-u.b)*m,u.a+(h.a-u.a)*m)}lighten(u){const h=$a.lighten(this.toArray(),u);this.r=h[0],this.g=h[1],this.b=h[2],this.a=h[3]}darken(u){this.lighten(-u)}set(u,h,m,S){const E=Array.isArray(u)?u[0]:u,_=Array.isArray(u)?u[1]:h,j=Array.isArray(u)?u[2]:m,G=Array.isArray(u)?u[3]:S;return this.r=Math.round(vl(E,0,255)),this.g=Math.round(vl(_,0,255)),this.b=Math.round(vl(j,0,255)),this.a=G==null?1:vl(G,0,1),this}toHex(){return`#${["r","g","b"].map(h=>{const m=this[h].toString(16);return m.length<2?`0${m}`:m}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return $a.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(u){const h=`${this.r},${this.g},${this.b},`;return u?`rgb(${h})`:`rgba(${h},${this.a})`}toGrey(){return $a.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(o){function u(Vt){return new o(Vt)}o.fromArray=u;function h(Vt){return new o([...ee(Vt),1])}o.fromHex=h;function m(Vt){const Ce=Vt.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(Ce){const Te=Ce[1].split(/\s*,\s*/).map(Ee=>parseInt(Ee,10));return new o(Te)}return null}o.fromRGBA=m;function S(Vt,Ce,Te){Te<0&&++Te,Te>1&&--Te;const Ee=6*Te;return Ee<1?Vt+(Ce-Vt)*Ee:2*Te<1?Ce:3*Te<2?Vt+(Ce-Vt)*(2/3-Te)*6:Vt}function E(Vt){const Ce=Vt.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(Ce){const Te=Ce[2].split(/\s*,\s*/),Ee=(parseFloat(Te[0])%360+360)%360/360,dn=parseFloat(Te[1])/100,$n=parseFloat(Te[2])/100,yn=Te[3]==null?1:parseInt(Te[3],10);return new o(Q(Ee,dn,$n,yn))}return null}o.fromHSLA=E;function _(Vt){if(Vt.startsWith("#"))return h(Vt);if(Vt.startsWith("rgb"))return m(Vt);const Ce=o.named[Vt];return Ce?h(Ce):E(Vt)}o.fromString=_;function j(Vt,Ce){return o.fromArray([Vt,Vt,Vt,Ce])}o.makeGrey=j;function G(Vt,Ce,Te,Ee){const dn=Array.isArray(Vt)?Vt[0]:Vt,$n=Array.isArray(Vt)?Vt[1]:Ce,yn=Array.isArray(Vt)?Vt[2]:Te,xs=Array.isArray(Vt)?Vt[3]:Ee,Cr=Math.max(dn,$n,yn),Hr=Math.min(dn,$n,yn),qo=(Cr+Hr)/2;let xo=0,Wt=0;if(Hr!==Cr){const De=Cr-Hr;switch(Wt=qo>.5?De/(2-Cr-Hr):De/(Cr+Hr),Cr){case dn:xo=($n-yn)/De+($n<yn?6:0);break;case $n:xo=(yn-dn)/De+2;break;case yn:xo=(dn-$n)/De+4;break;default:break}xo/=6}return[xo,Wt,qo,xs==null?1:xs]}o.rgba2hsla=G;function Q(Vt,Ce,Te,Ee){const dn=Array.isArray(Vt)?Vt[0]:Vt,$n=Array.isArray(Vt)?Vt[1]:Ce,yn=Array.isArray(Vt)?Vt[2]:Te,xs=Array.isArray(Vt)?Vt[3]:Ee,Cr=yn<=.5?yn*($n+1):yn+$n-yn*$n,Hr=2*yn-Cr;return[S(Hr,Cr,dn+1/3)*256,S(Hr,Cr,dn)*256,S(Hr,Cr,dn-1/3)*256,xs==null?1:xs]}o.hsla2rgba=Q;function yt(Vt){return new o(Math.round(Math.random()*256),Math.round(Math.random()*256),Math.round(Math.random()*256),Vt?void 0:parseFloat(Math.random().toFixed(2)))}o.random=yt;function Pt(){const Vt="0123456789ABCDEF";let Ce="#";for(let Te=0;Te<6;Te+=1)Ce+=Vt[Math.floor(Math.random()*16)];return Ce}o.randomHex=Pt;function _t(Vt){return yt(Vt).toString()}o.randomRGBA=_t;function Rt(Vt,Ce){if(typeof Vt=="string"){const yn=Vt[0]==="#",[xs,Cr,Hr]=ee(Vt);return Ce?xs*.299+Cr*.587+Hr*.114>186?"#000000":"#ffffff":`${yn?"#":""}${we(255-xs,255-Cr,255-Hr)}`}const Te=Vt[0],Ee=Vt[1],dn=Vt[2],$n=Vt[3];return Ce?Te*.299+Ee*.587+dn*.114>186?[0,0,0,$n]:[255,255,255,$n]:[255-Te,255-Ee,255-dn,$n]}o.invert=Rt;function ee(Vt){const Ce=Vt.indexOf("#")===0?Vt:`#${Vt}`;let Te=+`0x${Ce.substr(1)}`;if(!(Ce.length===4||Ce.length===7)||Number.isNaN(Te))throw new Error("Invalid hex color.");const Ee=Ce.length===4?4:8,dn=(1<<Ee)-1,$n=["b","g","r"].map(()=>{const yn=Te&dn;return Te>>=Ee,Ee===4?17*yn:yn});return[$n[2],$n[1],$n[0]]}function we(Vt,Ce,Te){const Ee=dn=>dn.length<2?`0${dn}`:dn;return`${Ee(Vt.toString(16))}${Ee(Ce.toString(16))}${Ee(Te.toString(16))}`}function fe(Vt,Ce){return Ne(Vt,Ce)}o.lighten=fe;function Ie(Vt,Ce){return Ne(Vt,-Ce)}o.darken=Ie;function Ne(Vt,Ce){if(typeof Vt=="string"){const dn=Vt[0]==="#",$n=parseInt(dn?Vt.substr(1):Vt,16),yn=vl(($n>>16)+Ce,0,255),xs=vl(($n>>8&255)+Ce,0,255),Cr=vl(($n&255)+Ce,0,255);return`${dn?"#":""}${(Cr|xs<<8|yn<<16).toString(16)}`}const Te=we(Vt[0],Vt[1],Vt[2]),Ee=ee(Ne(Te,Ce));return[Ee[0],Ee[1],Ee[2],Vt[3]]}})($a||($a={})),function(o){o.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}($a||($a={}));class ly{constructor(){this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(u){return this.map.has(u)}get(u){return this.map.get(u)}set(u,h){this.map.set(u,h),this.arr.push(u)}delete(u){const h=this.arr.indexOf(u);h>=0&&this.arr.splice(h,1);const m=this.map.get(u);return this.map.delete(u),m}each(u){this.arr.forEach(h=>{const m=this.map.get(h);u(m,h)})}dispose(){this.clear()}}var qm;(function(o){function u(S){const E=[],_=[];return Array.isArray(S)?E.push(...S):S.split("|").forEach(j=>{j.indexOf("&")===-1?E.push(j):_.push(...j.split("&"))}),{or:E,and:_}}o.parse=u;function h(S,E){if(S!=null&&E!=null){const _=u(S),j=u(E),G=_.or.sort(),Q=j.or.sort(),yt=_.and.sort(),Pt=j.and.sort(),_t=(Rt,ee)=>Rt.length===ee.length&&(Rt.length===0||Rt.every((we,fe)=>we===ee[fe]));return _t(G,Q)&&_t(yt,Pt)}return S==null&&E==null}o.equals=h;function m(S,E,_){if(E==null||Array.isArray(E)&&E.length===0)return _?S.altKey!==!0&&S.ctrlKey!==!0&&S.metaKey!==!0&&S.shiftKey!==!0:!0;const{or:j,and:G}=u(E),Q=yt=>{const Pt=`${yt.toLowerCase()}Key`;return S[Pt]===!0};return j.some(yt=>Q(yt))&&G.every(yt=>Q(yt))}o.isMatch=m})(qm||(qm={}));var Ul;(function(o){o.linear=u=>u,o.quad=u=>u*u,o.cubic=u=>u*u*u,o.inout=u=>{if(u<=0)return 0;if(u>=1)return 1;const h=u*u,m=h*u;return 4*(u<.5?m:3*(u-h)+m-.75)},o.exponential=u=>Math.pow(2,10*(u-1)),o.bounce=u=>{for(let h=0,m=1;;h+=m,m/=2)if(u>=(7-4*h)/11){const S=(11-6*h-11*u)/4;return-S*S+m*m}}})(Ul||(Ul={})),function(o){o.decorators={reverse(u){return h=>1-u(1-h)},reflect(u){return h=>.5*(h<.5?u(2*h):2-u(2-2*h))},clamp(u,h=0,m=1){return S=>{const E=u(S);return E<h?h:E>m?m:E}},back(u=1.70158){return h=>h*h*((u+1)*h-u)},elastic(u=1.5){return h=>Math.pow(2,10*(h-1))*Math.cos(20*Math.PI*u/3*h)}}}(Ul||(Ul={})),function(o){function u(Wt){return-1*Math.cos(Wt*(Math.PI/2))+1}o.easeInSine=u;function h(Wt){return Math.sin(Wt*(Math.PI/2))}o.easeOutSine=h;function m(Wt){return-.5*(Math.cos(Math.PI*Wt)-1)}o.easeInOutSine=m;function S(Wt){return Wt*Wt}o.easeInQuad=S;function E(Wt){return Wt*(2-Wt)}o.easeOutQuad=E;function _(Wt){return Wt<.5?2*Wt*Wt:-1+(4-2*Wt)*Wt}o.easeInOutQuad=_;function j(Wt){return Wt*Wt*Wt}o.easeInCubic=j;function G(Wt){const De=Wt-1;return De*De*De+1}o.easeOutCubic=G;function Q(Wt){return Wt<.5?4*Wt*Wt*Wt:(Wt-1)*(2*Wt-2)*(2*Wt-2)+1}o.easeInOutCubic=Q;function yt(Wt){return Wt*Wt*Wt*Wt}o.easeInQuart=yt;function Pt(Wt){const De=Wt-1;return 1-De*De*De*De}o.easeOutQuart=Pt;function _t(Wt){const De=Wt-1;return Wt<.5?8*Wt*Wt*Wt*Wt:1-8*De*De*De*De}o.easeInOutQuart=_t;function Rt(Wt){return Wt*Wt*Wt*Wt*Wt}o.easeInQuint=Rt;function ee(Wt){const De=Wt-1;return 1+De*De*De*De*De}o.easeOutQuint=ee;function we(Wt){const De=Wt-1;return Wt<.5?16*Wt*Wt*Wt*Wt*Wt:1+16*De*De*De*De*De}o.easeInOutQuint=we;function fe(Wt){return Wt===0?0:Math.pow(2,10*(Wt-1))}o.easeInExpo=fe;function Ie(Wt){return Wt===1?1:-Math.pow(2,-10*Wt)+1}o.easeOutExpo=Ie;function Ne(Wt){if(Wt===0||Wt===1)return Wt;const De=Wt*2,nr=De-1;return De<1?.5*Math.pow(2,10*nr):.5*(-Math.pow(2,-10*nr)+2)}o.easeInOutExpo=Ne;function Vt(Wt){const De=Wt/1;return-1*(Math.sqrt(1-De*Wt)-1)}o.easeInCirc=Vt;function Ce(Wt){const De=Wt-1;return Math.sqrt(1-De*De)}o.easeOutCirc=Ce;function Te(Wt){const De=Wt*2,nr=De-2;return De<1?-.5*(Math.sqrt(1-De*De)-1):.5*(Math.sqrt(1-nr*nr)+1)}o.easeInOutCirc=Te;function Ee(Wt,De=1.70158){return Wt*Wt*((De+1)*Wt-De)}o.easeInBack=Ee;function dn(Wt,De=1.70158){const nr=Wt/1-1;return nr*nr*((De+1)*nr+De)+1}o.easeOutBack=dn;function $n(Wt,De=1.70158){const nr=Wt*2,wo=nr-2,Vs=De*1.525;return nr<1?.5*nr*nr*((Vs+1)*nr-Vs):.5*(wo*wo*((Vs+1)*wo+Vs)+2)}o.easeInOutBack=$n;function yn(Wt,De=.7){if(Wt===0||Wt===1)return Wt;const wo=Wt/1-1,Vs=1-De,Bh=Vs/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*wo)*Math.sin((wo-Bh)*(2*Math.PI)/Vs))}o.easeInElastic=yn;function xs(Wt,De=.7){const nr=1-De,wo=Wt*2;if(Wt===0||Wt===1)return Wt;const Vs=nr/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*wo)*Math.sin((wo-Vs)*(2*Math.PI)/nr)+1}o.easeOutElastic=xs;function Cr(Wt,De=.65){const nr=1-De;if(Wt===0||Wt===1)return Wt;const wo=Wt*2,Vs=wo-1,Bh=nr/(2*Math.PI)*Math.asin(1);return wo<1?-.5*(Math.pow(2,10*Vs)*Math.sin((Vs-Bh)*(2*Math.PI)/nr)):Math.pow(2,-10*Vs)*Math.sin((Vs-Bh)*(2*Math.PI)/nr)*.5+1}o.easeInOutElastic=Cr;function Hr(Wt){const De=Wt/1;if(De<1/2.75)return 7.5625*De*De;if(De<2/2.75){const nr=De-.5454545454545454;return 7.5625*nr*nr+.75}if(De<2.5/2.75){const nr=De-.8181818181818182;return 7.5625*nr*nr+.9375}{const nr=De-.9545454545454546;return 7.5625*nr*nr+.984375}}o.easeOutBounce=Hr;function qo(Wt){return 1-Hr(1-Wt)}o.easeInBounce=qo;function xo(Wt){return Wt<.5?qo(Wt*2)*.5:Hr(Wt*2-1)*.5+.5}o.easeInOutBounce=xo}(Ul||(Ul={}));var Ym;(function(o){o.number=(u,h)=>{const m=h-u;return S=>u+m*S},o.object=(u,h)=>{const m=Object.keys(u);return S=>{const E={};for(let _=m.length-1;_!==-1;_-=1){const j=m[_];E[j]=u[j]+(h[j]-u[j])*S}return E}},o.unit=(u,h)=>{const m=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,S=m.exec(u),E=m.exec(h),_=E?E[1]:"",j=S?+S[1]:0,G=E?+E[1]:0,Q=_.indexOf("."),yt=Q>0?_[1].length-Q-1:0,Pt=G-j,_t=S?S[2]:"";return Rt=>(j+Pt*Rt).toFixed(yt)+_t},o.color=(u,h)=>{const m=parseInt(u.slice(1),16),S=parseInt(h.slice(1),16),E=m&255,_=(S&255)-E,j=m&65280,G=(S&65280)-j,Q=m&16711680,yt=(S&16711680)-Q;return Pt=>{const _t=E+_*Pt&255,Rt=j+G*Pt&65280,ee=Q+yt*Pt&16711680;return`#${(1<<24|_t|Rt|ee).toString(16).slice(1)}`}}})(Ym||(Ym={}));const rf=[];function cy(o,u){const h=rf.find(m=>m.name===o);if(!(h&&(h.loadTimes+=1,h.loadTimes>1))&&!zl.isApplyingHMR()){const m=document.createElement("style");m.setAttribute("type","text/css"),m.textContent=u;const S=document.querySelector("head");S&&S.insertBefore(m,S.firstChild),rf.push({name:o,loadTimes:1,styleElement:m})}}function uy(o){const u=rf.findIndex(h=>h.name===o);if(u>-1){const h=rf[u];if(h.loadTimes-=1,h.loadTimes>0)return;let m=h.styleElement;m&&m.parentNode&&m.parentNode.removeChild(m),m=null,rf.splice(u,1)}}},35609:function(){typeof window=="object"&&window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),typeof window!="undefined"&&function(At){At.forEach(Et=>{Object.prototype.hasOwnProperty.call(Et,"append")||Object.defineProperty(Et,"append",{configurable:!0,enumerable:!0,writable:!0,value(...V){const R=document.createDocumentFragment();V.forEach(M=>{const nt=M instanceof Node;R.appendChild(nt?M:document.createTextNode(String(M)))}),this.appendChild(R)}})})}([Element.prototype,Document.prototype,DocumentFragment.prototype])},90541:function(At,Et,V){"use strict";V.r(Et),V.d(Et,{Selection:function(){return K}});var R=V(81412),M=function(T,x,w,N){var k=arguments.length,I=k<3?x:N===null?N=Object.getOwnPropertyDescriptor(x,w):N,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(T,x,w,N);else for(var dt=T.length-1;dt>=0;dt--)(Y=T[dt])&&(I=(k<3?Y(I):k>3?Y(x,w,I):Y(x,w))||I);return k>3&&I&&Object.defineProperty(x,w,I),I};class nt extends R.G7{get graph(){return this.options.graph}get boxClassName(){return this.prefixClassName(J.classNames.box)}get $boxes(){return R.is.children(this.container,this.boxClassName)}get handleOptions(){return this.options}constructor(x){super(),this.options=x,this.options.model&&(this.options.collection=this.options.model.collection),this.options.collection?this.collection=this.options.collection:(this.collection=new R.FE([],{comparator:J.depthComparator}),this.options.collection=this.collection),this.boxCount=0,this.createContainer(),this.startListening()}startListening(){const x=this.graph,w=this.collection;this.delegateEvents({[`mousedown .${this.boxClassName}`]:"onSelectionBoxMouseDown",[`touchstart .${this.boxClassName}`]:"onSelectionBoxMouseDown"},!0),x.on("scale",this.onGraphTransformed,this),x.on("translate",this.onGraphTransformed,this),x.model.on("updated",this.onModelUpdated,this),w.on("added",this.onCellAdded,this),w.on("removed",this.onCellRemoved,this),w.on("reseted",this.onReseted,this),w.on("updated",this.onCollectionUpdated,this),w.on("node:change:position",this.onNodePositionChanged,this),w.on("cell:changed",this.onCellChanged,this)}stopListening(){const x=this.graph,w=this.collection;this.undelegateEvents(),x.off("scale",this.onGraphTransformed,this),x.off("translate",this.onGraphTransformed,this),x.model.off("updated",this.onModelUpdated,this),w.off("added",this.onCellAdded,this),w.off("removed",this.onCellRemoved,this),w.off("reseted",this.onReseted,this),w.off("updated",this.onCollectionUpdated,this),w.off("node:change:position",this.onNodePositionChanged,this),w.off("cell:changed",this.onCellChanged,this)}onRemove(){this.stopListening()}onGraphTransformed(){this.updateSelectionBoxes()}onCellChanged(){this.updateSelectionBoxes()}onNodePositionChanged({node:x,options:w}){const{showNodeSelectionBox:N,pointerEvents:k}=this.options,{ui:I,selection:Y,translateBy:dt,snapped:b}=w,ot=(N!==!0||k&&this.getPointerEventsValue(k)==="none")&&!this.translating&&!Y,it=I&&dt&&x.id===dt;if(ot&&(it||b)){this.translating=!0;const jt=x.position(),z=x.previous("position"),Ot=jt.x-z.x,Ft=jt.y-z.y;(Ot!==0||Ft!==0)&&this.translateSelectedNodes(Ot,Ft,x,w),this.translating=!1}}onModelUpdated({removed:x}){x&&x.length&&this.unselect(x)}isEmpty(){return this.length<=0}isSelected(x){return this.collection.has(x)}get length(){return this.collection.length}get cells(){return this.collection.toArray()}select(x,w={}){w.dryrun=!0;const N=this.filter(Array.isArray(x)?x:[x]);return this.collection.add(N,w),this}unselect(x,w={}){return w.dryrun=!0,this.collection.remove(Array.isArray(x)?x:[x],w),this}reset(x,w={}){if(x){if(w.batch){const ot=this.filter(Array.isArray(x)?x:[x]);return this.collection.reset(ot,Object.assign(Object.assign({},w),{ui:!0})),this}const N=this.cells,k=this.filter(Array.isArray(x)?x:[x]),I={},Y={};N.forEach(ot=>I[ot.id]=ot),k.forEach(ot=>Y[ot.id]=ot);const dt=[],b=[];return k.forEach(ot=>{I[ot.id]||dt.push(ot)}),N.forEach(ot=>{Y[ot.id]||b.push(ot)}),b.length&&this.unselect(b,Object.assign(Object.assign({},w),{ui:!0})),dt.length&&this.select(dt,Object.assign(Object.assign({},w),{ui:!0})),b.length===0&&dt.length===0&&this.updateContainer(),this}return this.clean(w)}clean(x={}){return this.length&&(x.batch===!1?this.unselect(this.cells,x):this.collection.reset([],Object.assign(Object.assign({},x),{ui:!0}))),this}setFilter(x){this.options.filter=x}setContent(x){this.options.content=x}startSelecting(x){x=this.normalizeEvent(x),this.clean();let w,N;const k=this.graph.container;if(x.offsetX!=null&&x.offsetY!=null&&k.contains(x.target))w=x.offsetX,N=x.offsetY;else{const I=R.is.offset(k),Y=k.scrollLeft,dt=k.scrollTop;w=x.clientX-I.left+window.pageXOffset+Y,N=x.clientY-I.top+window.pageYOffset+dt}R.is.css(this.container,{top:N,left:w,width:1,height:1}),this.setEventData(x,{action:"selecting",clientX:x.clientX,clientY:x.clientY,offsetX:w,offsetY:N,scrollerX:0,scrollerY:0,moving:!1}),this.delegateDocumentEvents(J.documentEvents,x.data)}filter(x){const w=this.options.filter;return x.filter(N=>Array.isArray(w)?w.some(k=>typeof k=="string"?N.shape===k:N.id===k.id):typeof w=="function"?R.Iw.call(w,this.graph,N):!0)}stopSelecting(x){const w=this.graph,N=this.getEventData(x);switch(N.action){case"selecting":{let I=R.is.width(this.container),Y=R.is.height(this.container);const dt=R.is.offset(this.container),b=w.pageToLocal(dt.left,dt.top),ot=w.transform.getScale();I/=ot.sx,Y/=ot.sy;const it=new R.Ae(b.x,b.y,I,Y),jt=this.getCellViewsInArea(it).map(z=>z.cell);this.reset(jt,{batch:!0}),this.hideRubberband();break}case"translating":{const I=w.snapToGrid(x.clientX,x.clientY);if(!this.options.following){const Y=N;this.updateSelectedNodesPosition({dx:Y.clientX-Y.originX,dy:Y.clientY-Y.originY})}this.graph.model.stopBatch("move-selection"),this.notifyBoxEvent("box:mouseup",x,I.x,I.y);break}default:{this.clean();break}}}onMouseUp(x){this.getEventData(x).action&&(this.stopSelecting(x),this.undelegateDocumentEvents())}onSelectionBoxMouseDown(x){this.options.following||x.stopPropagation();const w=this.normalizeEvent(x);this.options.movable&&this.startTranslating(w);const N=this.getCellViewFromElem(w.target);this.setEventData(w,{activeView:N});const k=this.graph.snapToGrid(w.clientX,w.clientY);this.notifyBoxEvent("box:mousedown",w,k.x,k.y),this.delegateDocumentEvents(J.documentEvents,w.data)}startTranslating(x){this.graph.model.startBatch("move-selection");const w=this.graph.snapToGrid(x.clientX,x.clientY);this.setEventData(x,{action:"translating",clientX:w.x,clientY:w.y,originX:w.x,originY:w.y})}getRestrictArea(){const x=this.graph.options.translating.restrict,w=typeof x=="function"?R.Iw.call(x,this.graph,null):x;return typeof w=="number"?this.graph.transform.getGraphArea().inflate(w):w===!0?this.graph.transform.getGraphArea():w||null}getSelectionOffset(x,w){let N=x.x-w.clientX,k=x.y-w.clientY;const I=this.getRestrictArea();if(I){const Y=this.collection.toArray(),dt=R.bL.getCellsBBox(Y,{deep:!0})||R.Ae.create(),b=I.x-dt.x,ot=I.y-dt.y,it=I.x+I.width-(dt.x+dt.width),jt=I.y+I.height-(dt.y+dt.height);if(N<b&&(N=b),k<ot&&(k=ot),it<N&&(N=it),jt<k&&(k=jt),!this.options.following){const z=x.x-w.originX,Ot=x.y-w.originY;N=z<=b||z>=it?0:N,k=Ot<=ot||Ot>=jt?0:k}}return{dx:N,dy:k}}updateElementPosition(x,w,N){const k=R.is.css(x,"left"),I=R.is.css(x,"top"),Y=k?parseFloat(k):0,dt=I?parseFloat(I):0;R.is.css(x,"left",Y+w),R.is.css(x,"top",dt+N)}updateSelectedNodesPosition(x){const{dx:w,dy:N}=x;if(w||N)if(this.translateSelectedNodes(w,N),this.boxesUpdated)this.collection.length>1&&this.updateSelectionBoxes();else{const k=this.graph.transform.getScale();for(let I=0,Y=this.$boxes,dt=Y.length;I<dt;I+=1)this.updateElementPosition(Y[I],w*k.sx,N*k.sy);this.updateElementPosition(this.selectionContainer,w*k.sx,N*k.sy)}}autoScrollGraph(x,w){const N=this.graph.getPlugin("scroller");return N?N.autoScroll(x,w):{scrollerX:0,scrollerY:0}}adjustSelection(x){const w=this.normalizeEvent(x),N=this.getEventData(w);switch(N.action){case"selecting":{const I=N;I.moving!==!0&&(R.is.appendTo(this.container,this.graph.container),this.showRubberband(),I.moving=!0);const{scrollerX:Y,scrollerY:dt}=this.autoScrollGraph(w.clientX,w.clientY);I.scrollerX+=Y,I.scrollerY+=dt;const b=w.clientX-I.clientX+I.scrollerX,ot=w.clientY-I.clientY+I.scrollerY,it=parseInt(R.is.css(this.container,"left")||"0",10),jt=parseInt(R.is.css(this.container,"top")||"0",10);R.is.css(this.container,{left:b<0?I.offsetX+b:it,top:ot<0?I.offsetY+ot:jt,width:Math.abs(b),height:Math.abs(ot)});break}case"translating":{const I=this.graph.snapToGrid(w.clientX,w.clientY),Y=N,dt=this.getSelectionOffset(I,Y);this.options.following?this.updateSelectedNodesPosition(dt):this.updateContainerPosition(dt),dt.dx&&(Y.clientX=I.x),dt.dy&&(Y.clientY=I.y),this.notifyBoxEvent("box:mousemove",x,I.x,I.y);break}default:break}this.boxesUpdated=!1}translateSelectedNodes(x,w,N,k){const I={},Y=[];if(N&&(I[N.id]=!0),this.collection.toArray().forEach(dt=>{dt.getDescendants({deep:!0}).forEach(b=>{I[b.id]=!0})}),k&&k.translateBy){const dt=this.graph.getCellById(k.translateBy);dt&&(I[dt.id]=!0,dt.getDescendants({deep:!0}).forEach(b=>{I[b.id]=!0}),Y.push(dt))}this.collection.toArray().forEach(dt=>{if(!I[dt.id]){const b=Object.assign(Object.assign({},k),{selection:this.cid,exclude:Y});dt.translate(x,w,b),this.graph.model.getConnectedEdges(dt).forEach(ot=>{I[ot.id]||(ot.translate(x,w,b),I[ot.id]=!0)})}})}getCellViewsInArea(x){const w=this.graph,N={strict:this.options.strict};let k=[];return this.options.rubberNode&&(k=k.concat(w.model.getNodesInArea(x,N).map(I=>w.renderer.findViewByCell(I)).filter(I=>I!=null))),this.options.rubberEdge&&(k=k.concat(w.model.getEdgesInArea(x,N).map(I=>w.renderer.findViewByCell(I)).filter(I=>I!=null))),k}notifyBoxEvent(x,w,N,k){const Y=this.getEventData(w).activeView;this.trigger(x,{e:w,view:Y,x:N,y:k,cell:Y.cell})}getSelectedClassName(x){return this.prefixClassName(`${x.isNode()?"node":"edge"}-selected`)}addCellSelectedClassName(x){const w=this.graph.renderer.findViewByCell(x);w&&w.addClass(this.getSelectedClassName(x))}removeCellUnSelectedClassName(x){const w=this.graph.renderer.findViewByCell(x);w&&w.removeClass(this.getSelectedClassName(x))}destroySelectionBox(x){this.removeCellUnSelectedClassName(x),this.canShowSelectionBox(x)&&(R.is.remove(this.container.querySelector(`[data-cell-id="${x.id}"]`)),this.$boxes.length===0&&this.hide(),this.boxCount=Math.max(0,this.boxCount-1))}destroyAllSelectionBoxes(x){x.forEach(w=>this.removeCellUnSelectedClassName(w)),this.hide(),R.is.remove(this.$boxes),this.boxCount=0}hide(){R.is.removeClass(this.container,this.prefixClassName(J.classNames.rubberband)),R.is.removeClass(this.container,this.prefixClassName(J.classNames.selected))}showRubberband(){R.is.addClass(this.container,this.prefixClassName(J.classNames.rubberband))}hideRubberband(){R.is.removeClass(this.container,this.prefixClassName(J.classNames.rubberband))}showSelected(){R.is.removeAttribute(this.container,"style"),R.is.addClass(this.container,this.prefixClassName(J.classNames.selected))}createContainer(){this.container=document.createElement("div"),R.is.addClass(this.container,this.prefixClassName(J.classNames.root)),this.options.className&&R.is.addClass(this.container,this.options.className),this.selectionContainer=document.createElement("div"),R.is.addClass(this.selectionContainer,this.prefixClassName(J.classNames.inner)),this.selectionContent=document.createElement("div"),R.is.addClass(this.selectionContent,this.prefixClassName(J.classNames.content)),R.is.append(this.selectionContainer,this.selectionContent),R.is.attr(this.selectionContainer,"data-selection-length",this.collection.length),R.is.prepend(this.container,this.selectionContainer)}updateContainerPosition(x){(x.dx||x.dy)&&this.updateElementPosition(this.selectionContainer,x.dx,x.dy)}updateContainer(){const x={x:1/0,y:1/0},w={x:0,y:0};this.collection.toArray().filter(I=>this.canShowSelectionBox(I)).forEach(I=>{const Y=this.graph.renderer.findViewByCell(I);if(Y){const dt=Y.getBBox({useCellGeometry:!0});x.x=Math.min(x.x,dt.x),x.y=Math.min(x.y,dt.y),w.x=Math.max(w.x,dt.x+dt.width),w.y=Math.max(w.y,dt.y+dt.height)}}),R.is.css(this.selectionContainer,{position:"absolute",pointerEvents:"none",left:x.x,top:x.y,width:w.x-x.x,height:w.y-x.y}),R.is.attr(this.selectionContainer,"data-selection-length",this.collection.length);const k=this.options.content;if(k)if(typeof k=="function"){const I=R.Iw.call(k,this.graph,this,this.selectionContent);I&&(this.selectionContent.innerHTML=I)}else this.selectionContent.innerHTML=k;this.collection.length>0&&!this.container.parentNode?R.is.appendTo(this.container,this.graph.container):this.collection.length<=0&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}canShowSelectionBox(x){return x.isNode()&&this.options.showNodeSelectionBox===!0||x.isEdge()&&this.options.showEdgeSelectionBox===!0}getPointerEventsValue(x){return typeof x=="string"?x:x(this.cells)}createSelectionBox(x){if(this.addCellSelectedClassName(x),this.canShowSelectionBox(x)){const w=this.graph.renderer.findViewByCell(x);if(w){const N=w.getBBox({useCellGeometry:!0}),k=this.boxClassName,I=document.createElement("div"),Y=this.options.pointerEvents;R.is.addClass(I,k),R.is.addClass(I,`${k}-${x.isNode()?"node":"edge"}`),R.is.attr(I,"data-cell-id",x.id),R.is.css(I,{position:"absolute",left:N.x,top:N.y,width:N.width,height:N.height,pointerEvents:Y?this.getPointerEventsValue(Y):"auto"}),R.is.appendTo(I,this.container),this.showSelected(),this.boxCount+=1}}}updateSelectionBoxes(){this.collection.length>0&&(this.boxesUpdated=!0,this.confirmUpdate())}confirmUpdate(){if(this.boxCount){this.hide();for(let x=0,w=this.$boxes,N=w.length;x<N;x+=1){const k=w[x],I=R.is.attr(k,"data-cell-id");R.is.remove(k),this.boxCount-=1;const Y=this.collection.get(I);Y&&this.createSelectionBox(Y)}this.updateContainer()}return 0}getCellViewFromElem(x){const w=x.getAttribute("data-cell-id");if(w){const N=this.collection.get(w);if(N)return this.graph.renderer.findViewByCell(N)}return null}onCellRemoved({cell:x}){this.destroySelectionBox(x),this.updateContainer()}onReseted({previous:x,current:w}){this.destroyAllSelectionBoxes(x),w.forEach(N=>{this.listenCellRemoveEvent(N),this.createSelectionBox(N)}),this.updateContainer()}onCellAdded({cell:x}){this.listenCellRemoveEvent(x),this.createSelectionBox(x),this.updateContainer()}listenCellRemoveEvent(x){x.off("removed",this.onCellRemoved,this),x.on("removed",this.onCellRemoved,this)}onCollectionUpdated({added:x,removed:w,options:N}){x.forEach(I=>{this.trigger("cell:selected",{cell:I,options:N}),I.isNode()?this.trigger("node:selected",{cell:I,options:N,node:I}):I.isEdge()&&this.trigger("edge:selected",{cell:I,options:N,edge:I})}),w.forEach(I=>{this.trigger("cell:unselected",{cell:I,options:N}),I.isNode()?this.trigger("node:unselected",{cell:I,options:N,node:I}):I.isEdge()&&this.trigger("edge:unselected",{cell:I,options:N,edge:I})});const k={added:x,removed:w,options:N,selected:this.cells.filter(I=>!!this.graph.getCellById(I.id))};this.trigger("selection:changed",k)}dispose(){this.clean(),this.remove(),this.off()}}M([R.G7.dispose()],nt.prototype,"dispose",null);var J;(function(T){const x="widget-selection";T.classNames={root:x,inner:`${x}-inner`,box:`${x}-box`,content:`${x}-content`,rubberband:`${x}-rubberband`,selected:`${x}-selected`},T.documentEvents={mousemove:"adjustSelection",touchmove:"adjustSelection",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"};function w(N){return N.getAncestors().length}T.depthComparator=w})(J||(J={}));const vt=`.x6-widget-selection {
  position: absolute;
  top: 0;
  left: 0;
  display: none;
  width: 0;
  height: 0;
  touch-action: none;
}
.x6-widget-selection-rubberband {
  display: block;
  overflow: visible;
  opacity: 0.3;
}
.x6-widget-selection-selected {
  display: block;
}
.x6-widget-selection-box {
  cursor: move;
}
.x6-widget-selection-inner[data-selection-length='0'],
.x6-widget-selection-inner[data-selection-length='1'] {
  display: none;
}
.x6-widget-selection-content {
  position: absolute;
  top: 100%;
  right: -20px;
  left: -20px;
  margin-top: 30px;
  padding: 6px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-selection-content:empty {
  display: none;
}
.x6-widget-selection-rubberband {
  background-color: #3498db;
  border: 2px solid #2980b9;
}
.x6-widget-selection-box {
  box-sizing: content-box !important;
  margin-top: -4px;
  margin-left: -4px;
  padding-right: 4px;
  padding-bottom: 4px;
  border: 2px dashed #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-inner {
  box-sizing: content-box !important;
  margin-top: -8px;
  margin-left: -8px;
  padding-right: 12px;
  padding-bottom: 12px;
  border: 2px solid #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-content {
  color: #fff;
  font-size: 10px;
  background-color: #6a6b8a;
}
`;R.kJ.prototype.isSelectionEnabled=function(){const T=this.getPlugin("selection");return T?T.isEnabled():!1},R.kJ.prototype.enableSelection=function(){const T=this.getPlugin("selection");return T&&T.enable(),this},R.kJ.prototype.disableSelection=function(){const T=this.getPlugin("selection");return T&&T.disable(),this},R.kJ.prototype.toggleSelection=function(T){const x=this.getPlugin("selection");return x&&x.toggleEnabled(T),this},R.kJ.prototype.isMultipleSelection=function(){const T=this.getPlugin("selection");return T?T.isMultipleSelection():!1},R.kJ.prototype.enableMultipleSelection=function(){const T=this.getPlugin("selection");return T&&T.enableMultipleSelection(),this},R.kJ.prototype.disableMultipleSelection=function(){const T=this.getPlugin("selection");return T&&T.disableMultipleSelection(),this},R.kJ.prototype.toggleMultipleSelection=function(T){const x=this.getPlugin("selection");return x&&x.toggleMultipleSelection(T),this},R.kJ.prototype.isSelectionMovable=function(){const T=this.getPlugin("selection");return T?T.isSelectionMovable():!1},R.kJ.prototype.enableSelectionMovable=function(){const T=this.getPlugin("selection");return T&&T.enableSelectionMovable(),this},R.kJ.prototype.disableSelectionMovable=function(){const T=this.getPlugin("selection");return T&&T.disableSelectionMovable(),this},R.kJ.prototype.toggleSelectionMovable=function(T){const x=this.getPlugin("selection");return x&&x.toggleSelectionMovable(T),this},R.kJ.prototype.isRubberbandEnabled=function(){const T=this.getPlugin("selection");return T?T.isRubberbandEnabled():!1},R.kJ.prototype.enableRubberband=function(){const T=this.getPlugin("selection");return T&&T.enableRubberband(),this},R.kJ.prototype.disableRubberband=function(){const T=this.getPlugin("selection");return T&&T.disableRubberband(),this},R.kJ.prototype.toggleRubberband=function(T){const x=this.getPlugin("selection");return x&&x.toggleRubberband(T),this},R.kJ.prototype.isStrictRubberband=function(){const T=this.getPlugin("selection");return T?T.isStrictRubberband():!1},R.kJ.prototype.enableStrictRubberband=function(){const T=this.getPlugin("selection");return T&&T.enableStrictRubberband(),this},R.kJ.prototype.disableStrictRubberband=function(){const T=this.getPlugin("selection");return T&&T.disableStrictRubberband(),this},R.kJ.prototype.toggleStrictRubberband=function(T){const x=this.getPlugin("selection");return x&&x.toggleStrictRubberband(T),this},R.kJ.prototype.setRubberbandModifiers=function(T){const x=this.getPlugin("selection");return x&&x.setRubberbandModifiers(T),this},R.kJ.prototype.setSelectionFilter=function(T){const x=this.getPlugin("selection");return x&&x.setSelectionFilter(T),this},R.kJ.prototype.setSelectionDisplayContent=function(T){const x=this.getPlugin("selection");return x&&x.setSelectionDisplayContent(T),this},R.kJ.prototype.isSelectionEmpty=function(){const T=this.getPlugin("selection");return T?T.isEmpty():!0},R.kJ.prototype.cleanSelection=function(T){const x=this.getPlugin("selection");return x&&x.clean(T),this},R.kJ.prototype.resetSelection=function(T,x){const w=this.getPlugin("selection");return w&&w.reset(T,x),this},R.kJ.prototype.getSelectedCells=function(){const T=this.getPlugin("selection");return T?T.getSelectedCells():[]},R.kJ.prototype.getSelectedCellCount=function(){const T=this.getPlugin("selection");return T?T.getSelectedCellCount():0},R.kJ.prototype.isSelected=function(T){const x=this.getPlugin("selection");return x?x.isSelected(T):!1},R.kJ.prototype.select=function(T,x){const w=this.getPlugin("selection");return w&&w.select(T,x),this},R.kJ.prototype.unselect=function(T,x){const w=this.getPlugin("selection");return w&&w.unselect(T,x),this};var q=function(T,x,w,N){var k=arguments.length,I=k<3?x:N===null?N=Object.getOwnPropertyDescriptor(x,w):N,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(T,x,w,N);else for(var dt=T.length-1;dt>=0;dt--)(Y=T[dt])&&(I=(k<3?Y(I):k>3?Y(x,w,I):Y(x,w))||I);return k>3&&I&&Object.defineProperty(x,w,I),I};class K extends R.ew{get rubberbandDisabled(){return this.options.enabled!==!0||this.options.rubberband!==!0}get disabled(){return this.options.enabled!==!0}get length(){return this.selectionImpl.length}get cells(){return this.selectionImpl.cells}constructor(x={}){super(),this.name="selection",this.movedMap=new WeakMap,this.unselectMap=new WeakMap,this.options=Object.assign(Object.assign({enabled:!0},K.defaultOptions),x),R.mf.ensure(this.name,vt)}init(x){this.graph=x,this.selectionImpl=new nt(Object.assign(Object.assign({},this.options),{graph:x})),this.setup(),this.startListening()}isEnabled(){return!this.disabled}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}toggleEnabled(x){return x!=null?x!==this.isEnabled()&&(x?this.enable():this.disable()):this.isEnabled()?this.disable():this.enable(),this}isMultipleSelection(){return this.isMultiple()}enableMultipleSelection(){return this.enableMultiple(),this}disableMultipleSelection(){return this.disableMultiple(),this}toggleMultipleSelection(x){return x!=null?x!==this.isMultipleSelection()&&(x?this.enableMultipleSelection():this.disableMultipleSelection()):this.isMultipleSelection()?this.disableMultipleSelection():this.enableMultipleSelection(),this}isSelectionMovable(){return this.options.movable!==!1}enableSelectionMovable(){return this.selectionImpl.options.movable=!0,this}disableSelectionMovable(){return this.selectionImpl.options.movable=!1,this}toggleSelectionMovable(x){return x!=null?x!==this.isSelectionMovable()&&(x?this.enableSelectionMovable():this.disableSelectionMovable()):this.isSelectionMovable()?this.disableSelectionMovable():this.enableSelectionMovable(),this}isRubberbandEnabled(){return!this.rubberbandDisabled}enableRubberband(){return this.rubberbandDisabled&&(this.options.rubberband=!0),this}disableRubberband(){return this.rubberbandDisabled||(this.options.rubberband=!1),this}toggleRubberband(x){return x!=null?x!==this.isRubberbandEnabled()&&(x?this.enableRubberband():this.disableRubberband()):this.isRubberbandEnabled()?this.disableRubberband():this.enableRubberband(),this}isStrictRubberband(){return this.selectionImpl.options.strict===!0}enableStrictRubberband(){return this.selectionImpl.options.strict=!0,this}disableStrictRubberband(){return this.selectionImpl.options.strict=!1,this}toggleStrictRubberband(x){return x!=null?x!==this.isStrictRubberband()&&(x?this.enableStrictRubberband():this.disableStrictRubberband()):this.isStrictRubberband()?this.disableStrictRubberband():this.enableStrictRubberband(),this}setRubberbandModifiers(x){this.setModifiers(x)}setSelectionFilter(x){return this.setFilter(x),this}setSelectionDisplayContent(x){return this.setContent(x),this}isEmpty(){return this.length<=0}clean(x={}){return this.selectionImpl.clean(x),this}reset(x,w={}){return this.selectionImpl.reset(x?this.getCells(x):[],w),this}getSelectedCells(){return this.cells}getSelectedCellCount(){return this.length}isSelected(x){return this.selectionImpl.isSelected(x)}select(x,w={}){const N=this.getCells(x);return N.length&&(this.isMultiple()?this.selectionImpl.select(N,w):this.reset(N.slice(0,1),w)),this}unselect(x,w={}){return this.selectionImpl.unselect(this.getCells(x),w),this}setup(){this.selectionImpl.on("*",(x,w)=>{this.trigger(x,w),this.graph.trigger(x,w)})}startListening(){this.graph.on("blank:mousedown",this.onBlankMouseDown,this),this.graph.on("blank:click",this.onBlankClick,this),this.graph.on("cell:mousemove",this.onCellMouseMove,this),this.graph.on("cell:mouseup",this.onCellMouseUp,this),this.selectionImpl.on("box:mousedown",this.onBoxMouseDown,this)}stopListening(){this.graph.off("blank:mousedown",this.onBlankMouseDown,this),this.graph.off("blank:click",this.onBlankClick,this),this.graph.off("cell:mousemove",this.onCellMouseMove,this),this.graph.off("cell:mouseup",this.onCellMouseUp,this),this.selectionImpl.off("box:mousedown",this.onBoxMouseDown,this)}onBlankMouseDown({e:x}){if(!this.allowBlankMouseDown(x))return;const w=this.graph.panning.allowPanning(x,!0),N=this.graph.getPlugin("scroller"),k=N&&N.allowPanning(x,!0);(this.allowRubberband(x,!0)||this.allowRubberband(x)&&!k&&!w)&&this.startRubberband(x)}allowBlankMouseDown(x){const w=this.options.eventTypes;return(w==null?void 0:w.includes("leftMouseDown"))&&x.button===0||(w==null?void 0:w.includes("mouseWheelDown"))&&x.button===1}onBlankClick(){this.clean()}allowRubberband(x,w){return!this.rubberbandDisabled&&R.tx.isMatch(x,this.options.modifiers,w)}allowMultipleSelection(x){return this.isMultiple()&&R.tx.isMatch(x,this.options.multipleSelectionModifiers)}onCellMouseMove({cell:x}){this.movedMap.set(x,!0)}onCellMouseUp({e:x,cell:w}){const N=this.options;let k=this.disabled;!k&&this.movedMap.has(w)&&(k=N.selectCellOnMoved===!1,k||(k=N.selectNodeOnMoved===!1&&w.isNode()),k||(k=N.selectEdgeOnMoved===!1&&w.isEdge())),k||(this.allowMultipleSelection(x)?this.unselectMap.has(w)?this.unselectMap.delete(w):this.isSelected(w)?this.unselect(w):this.select(w):this.reset(w)),this.movedMap.delete(w)}onBoxMouseDown({e:x,cell:w}){this.disabled||this.allowMultipleSelection(x)&&(this.unselect(w),this.unselectMap.set(w,!0))}getCells(x){return(Array.isArray(x)?x:[x]).map(w=>typeof w=="string"?this.graph.getCellById(w):w).filter(w=>w!=null)}startRubberband(x){return this.rubberbandDisabled||this.selectionImpl.startSelecting(x),this}isMultiple(){return this.options.multiple!==!1}enableMultiple(){return this.options.multiple=!0,this}disableMultiple(){return this.options.multiple=!1,this}setModifiers(x){return this.options.modifiers=x,this}setContent(x){return this.selectionImpl.setContent(x),this}setFilter(x){return this.selectionImpl.setFilter(x),this}dispose(){this.stopListening(),this.off(),this.selectionImpl.dispose(),R.mf.clean(this.name)}}q([R.ew.dispose()],K.prototype,"dispose",null),function(T){T.defaultOptions={rubberband:!1,rubberNode:!0,rubberEdge:!1,pointerEvents:"auto",multiple:!0,multipleSelectionModifiers:["ctrl","meta"],movable:!0,strict:!1,selectCellOnMoved:!1,selectNodeOnMoved:!1,selectEdgeOnMoved:!1,following:!0,content:null,eventTypes:["leftMouseDown","mouseWheelDown"]}}(K||(K={}))},81412:function(At,Et,V){"use strict";V.d(Et,{ew:function(){return b.ew},bL:function(){return En},FE:function(){return sl},mf:function(){return b.mf},is:function(){return b.is},kS:function(){return Yn},Iw:function(){return b.Iw},kJ:function(){return mi},Lu:function(){return Vn},tx:function(){return b.tx},NB:function(){return Er},DK:function(){return $r},QK:function(){return b.QK},Ae:function(){return Ot},bn:function(){return dt},G7:function(){return Kn}});var R={};V.r(R),V.d(R,{dot:function(){return on},doubleMesh:function(){return ne},fixedDot:function(){return pe},mesh:function(){return Fe}});var M={};V.r(M),V.d(M,{flipX:function(){return Zt},flipXY:function(){return zn},flipY:function(){return He},watermark:function(){return Fn}});var nt={};V.r(nt),V.d(nt,{blur:function(){return kr},brightness:function(){return ze},contrast:function(){return dr},dropShadow:function(){return qn},grayScale:function(){return An},highlight:function(){return Gn},hueRotate:function(){return sr},invert:function(){return Lr},outline:function(){return Rr},saturate:function(){return Ar},sepia:function(){return ir}});var J={};V.r(J),V.d(J,{async:function(){return yi},block:function(){return Eo},circle:function(){return Fi},circlePlus:function(){return Gr},classic:function(){return Ur},cross:function(){return Us},diamond:function(){return ao},ellipse:function(){return as},path:function(){return Ws}});var vt={};V.r(vt),V.d(vt,{annotations:function(){return Ni},atConnectionLength:function(){return As},atConnectionLengthIgnoreGradient:function(){return lo},atConnectionLengthKeepGradient:function(){return cs},atConnectionRatio:function(){return ba},atConnectionRatioIgnoreGradient:function(){return Za},atConnectionRatioKeepGradient:function(){return Es},connection:function(){return ls},displayEmpty:function(){return Zs},eol:function(){return So},fill:function(){return ar},filter:function(){return Ps},html:function(){return Qo},lineHeight:function(){return pa},port:function(){return oo},ref:function(){return lr},refCx:function(){return rs},refCy:function(){return Dr},refD:function(){return is},refDKeepOffset:function(){return Cs},refDResetOffset:function(){return ws},refDx:function(){return Wr},refDy:function(){return cr},refHeight:function(){return Pr},refHeight2:function(){return zs},refPoints:function(){return Ai},refPointsKeepOffset:function(){return ei},refPointsResetOffset:function(){return li},refR:function(){return Fr},refRCircumscribed:function(){return ns},refRInscribed:function(){return ai},refRx:function(){return Vr},refRy:function(){return es},refWidth:function(){return Zn},refWidth2:function(){return Gi},refX:function(){return or},refX2:function(){return $s},refY:function(){return Nr},refY2:function(){return Ss},resetOffset:function(){return Jo},sourceMarker:function(){return Ao},stroke:function(){return ui},style:function(){return rr},targetMarker:function(){return ea},text:function(){return pr},textPath:function(){return ma},textVerticalAnchor:function(){return Co},textWrap:function(){return Yo},title:function(){return va},vertexMarker:function(){return di},xAlign:function(){return Po},yAlign:function(){return ya}});var q={};V.r(q),V.d(q,{className:function(){return B},opacity:function(){return lt},stroke:function(){return Nt}});var K={};V.r(K),V.d(K,{absolute:function(){return he},bottom:function(){return Ge},ellipse:function(){return le},ellipseSpread:function(){return Dt},left:function(){return en},line:function(){return _e},right:function(){return Ue},top:function(){return gn}});var T={};V.r(T),V.d(T,{bottom:function(){return ur},inside:function(){return us},insideOriented:function(){return na},left:function(){return Pn},manual:function(){return In},outside:function(){return ii},outsideOriented:function(){return co},radial:function(){return Kr},radialOriented:function(){return si},right:function(){return Nn},top:function(){return bn}});var x={};V.r(x),V.d(x,{noop:function(){return Ci},pinAbsolute:function(){return bl},pinRelative:function(){return Sa}});var w={};V.r(w),V.d(w,{bottom:function(){return xt},bottomLeft:function(){return Oe},bottomRight:function(){return Ke},center:function(){return fn},left:function(){return bt},midSide:function(){return Ti},nodeCenter:function(){return Or},orth:function(){return ji},right:function(){return Ut},top:function(){return ct},topLeft:function(){return de},topRight:function(){return Ae}});var N={};V.r(N),V.d(N,{closest:function(){return uo},length:function(){return gi},orth:function(){return Xs},ratio:function(){return Ts}});var k={};V.r(k),V.d(k,{anchor:function(){return Yl},bbox:function(){return Pa},boundary:function(){return ql},rect:function(){return Xl}});var I={};V.r(I),V.d(I,{er:function(){return Qc},loop:function(){return rc},manhattan:function(){return On},metro:function(){return Jc},normal:function(){return Ro},oneSide:function(){return qs},orth:function(){return Cl}});var Y={};V.r(Y),V.d(Y,{jumpover:function(){return ru},loop:function(){return tu},normal:function(){return ic},rounded:function(){return eu},smooth:function(){return Ii}});var dt={};V.r(dt),V.d(dt,{kS:function(){return ko},UL:function(){return ua}});var b=V(65852),ot;(function(l){function t(n){return 180*n/Math.PI%360}l.toDeg=t,l.toRad=function(n,r=!1){return(r?n:n%360)*Math.PI/180};function e(n){return n%360+(n<0?360:0)}l.normalize=e})(ot||(ot={}));var it;(function(l){function t(f,d=0){return Number.isInteger(f)?f:+f.toFixed(d)}l.round=t;function e(f,d){let p,v;if(d==null?(v=f==null?1:f,p=0):(v=d,p=f==null?0:f),v<p){const C=p;p=v,v=C}return Math.floor(Math.random()*(v-p+1)+p)}l.random=e;function n(f,d,p){return Number.isNaN(f)?NaN:Number.isNaN(d)||Number.isNaN(p)?0:d<p?f<d?d:f>p?p:f:f<p?p:f>d?d:f}l.clamp=n;function r(f,d){return d*Math.round(f/d)}l.snapToGrid=r;function s(f,d){return d!=null&&f!=null&&d.x>=f.x&&d.x<=f.x+f.width&&d.y>=f.y&&d.y<=f.y+f.height}l.containsPoint=s;function c(f,d){const p=f.x-d.x,v=f.y-d.y;return p*p+v*v}l.squaredLength=c})(it||(it={}));class jt{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class z extends jt{constructor(t,e){super(),this.x=t==null?0:t,this.y=e==null?0:e}round(t=0){return this.x=it.round(this.x,t),this.y=it.round(this.y,t),this}add(t,e){const n=z.create(t,e);return this.x+=n.x,this.y+=n.y,this}update(t,e){const n=z.create(t,e);return this.x=n.x,this.y=n.y,this}translate(t,e){const n=z.create(t,e);return this.x+=n.x,this.y+=n.y,this}rotate(t,e){const n=z.rotate(this,t,e);return this.x=n.x,this.y=n.y,this}scale(t,e,n=new z){const r=z.create(n);return this.x=r.x+t*(this.x-r.x),this.y=r.y+e*(this.y-r.y),this}closest(t){if(t.length===1)return z.create(t[0]);let e=null,n=1/0;return t.forEach(r=>{const s=this.squaredDistance(r);s<n&&(e=r,n=s)}),e?z.create(e):null}distance(t){return Math.sqrt(this.squaredDistance(t))}squaredDistance(t){const e=z.create(t),n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistance(t){const e=z.create(t);return Math.abs(e.x-this.x)+Math.abs(e.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(t=new z){const e=z.create(t),n=-(e.y-this.y),r=e.x-this.x;let s=Math.atan2(n,r);return s<0&&(s=2*Math.PI+s),180*s/Math.PI}angleBetween(t,e){if(this.equals(t)||this.equals(e))return NaN;let n=this.theta(e)-this.theta(t);return n<0&&(n+=360),n}vectorAngle(t){return new z(0,0).angleBetween(this,t)}toPolar(t){return this.update(z.toPolar(this,t)),this}changeInAngle(t,e,n=new z){return this.clone().translate(-t,-e).theta(n)-this.theta(n)}adhereToRect(t){return it.containsPoint(t,this)||(this.x=Math.min(Math.max(this.x,t.x),t.x+t.width),this.y=Math.min(Math.max(this.y,t.y),t.y+t.height)),this}bearing(t){const e=z.create(t),n=ot.toRad(this.y),r=ot.toRad(e.y),s=this.x,c=e.x,f=ot.toRad(c-s),d=Math.sin(f)*Math.cos(r),p=Math.cos(n)*Math.sin(r)-Math.sin(n)*Math.cos(r)*Math.cos(f),v=ot.toDeg(Math.atan2(d,p)),C=["NE","E","SE","S","SW","W","NW","N"];let y=v-22.5;return y<0&&(y+=360),y=parseInt(y/45,10),C[y]}cross(t,e){if(t!=null&&e!=null){const n=z.create(t),r=z.create(e);return(r.x-this.x)*(n.y-this.y)-(r.y-this.y)*(n.x-this.x)}return NaN}dot(t){const e=z.create(t);return this.x*e.x+this.y*e.y}diff(t,e){if(typeof t=="number")return new z(this.x-t,this.y-e);const n=z.create(t);return new z(this.x-n.x,this.y-n.y)}lerp(t,e){const n=z.create(t);return new z((1-e)*this.x+e*n.x,(1-e)*this.y+e*n.y)}normalize(t=1){const e=t/this.magnitude();return this.scale(e,e)}move(t,e){const n=z.create(t),r=ot.toRad(n.theta(this));return this.translate(Math.cos(r)*e,-Math.sin(r)*e)}reflection(t){return z.create(t).move(this,this.distance(t))}snapToGrid(t,e){return this.x=it.snapToGrid(this.x,t),this.y=it.snapToGrid(this.y,e==null?t:e),this}equals(t){const e=z.create(t);return e!=null&&e.x===this.x&&e.y===this.y}clone(){return z.clone(this)}toJSON(){return z.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(l){function t(e){return e!=null&&e instanceof l}l.isPoint=t})(z||(z={})),function(l){function t(n){return n!=null&&typeof n=="object"&&typeof n.x=="number"&&typeof n.y=="number"}l.isPointLike=t;function e(n){return n!=null&&Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"}l.isPointData=e}(z||(z={})),function(l){function t(C,y){return C==null||typeof C=="number"?new l(C,y):e(C)}l.create=t;function e(C){return l.isPoint(C)?new l(C.x,C.y):Array.isArray(C)?new l(C[0],C[1]):new l(C.x,C.y)}l.clone=e;function n(C){return l.isPoint(C)?{x:C.x,y:C.y}:Array.isArray(C)?{x:C[0],y:C[1]}:{x:C.x,y:C.y}}l.toJSON=n;function r(C,y,O=new l){let F=Math.abs(C*Math.cos(y)),Z=Math.abs(C*Math.sin(y));const X=e(O),tt=ot.normalize(ot.toDeg(y));return tt<90?Z=-Z:tt<180?(F=-F,Z=-Z):tt<270&&(F=-F),new l(X.x+F,X.y+Z)}l.fromPolar=r;function s(C,y=new l){const O=e(C),F=e(y),Z=O.x-F.x,X=O.y-F.y;return new l(Math.sqrt(Z*Z+X*X),ot.toRad(F.theta(O)))}l.toPolar=s;function c(C,y){return C===y?!0:C!=null&&y!=null?C.x===y.x&&C.y===y.y:!1}l.equals=c;function f(C,y){if(C==null&&y!=null||C!=null&&y==null||C!=null&&y!=null&&C.length!==y.length)return!1;if(C!=null&&y!=null){for(let O=0,F=C.length;O<F;O+=1)if(!c(C[O],y[O]))return!1}return!0}l.equalPoints=f;function d(C,y,O,F){return new l(it.random(C,y),it.random(O,F))}l.random=d;function p(C,y,O){const F=ot.toRad(ot.normalize(-y)),Z=Math.sin(F),X=Math.cos(F);return v(C,X,Z,O)}l.rotate=p;function v(C,y,O,F=new l){const Z=e(C),X=e(F),tt=Z.x-X.x,ht=Z.y-X.y,mt=tt*y-ht*O,Tt=ht*y+tt*O;return new l(mt+X.x,Tt+X.y)}l.rotateEx=v}(z||(z={}));class Ot extends jt{get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new z(this.x,this.y)}get topLeft(){return new z(this.x,this.y)}get topCenter(){return new z(this.x+this.width/2,this.y)}get topRight(){return new z(this.x+this.width,this.y)}get center(){return new z(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new z(this.x,this.y+this.height)}get bottomCenter(){return new z(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new z(this.x+this.width,this.y+this.height)}get corner(){return new z(this.x+this.width,this.y+this.height)}get rightMiddle(){return new z(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new z(this.x,this.y+this.height/2)}get topLine(){return new Ft(this.topLeft,this.topRight)}get rightLine(){return new Ft(this.topRight,this.bottomRight)}get bottomLine(){return new Ft(this.bottomLeft,this.bottomRight)}get leftLine(){return new Ft(this.topLeft,this.bottomLeft)}constructor(t,e,n,r){super(),this.x=t==null?0:t,this.y=e==null?0:e,this.width=n==null?0:n,this.height=r==null?0:r}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(t){if(!t)return this.clone();const e=ot.toRad(t),n=Math.abs(Math.sin(e)),r=Math.abs(Math.cos(e)),s=this.width*r+this.height*n,c=this.width*n+this.height*r;return new Ot(this.x+(this.width-s)/2,this.y+(this.height-c)/2,s,c)}round(t=0){return this.x=it.round(this.x,t),this.y=it.round(this.y,t),this.width=it.round(this.width,t),this.height=it.round(this.height,t),this}add(t,e,n,r){const s=Ot.create(t,e,n,r),c=Math.min(this.x,s.x),f=Math.min(this.y,s.y),d=Math.max(this.x+this.width,s.x+s.width),p=Math.max(this.y+this.height,s.y+s.height);return this.x=c,this.y=f,this.width=d-c,this.height=p-f,this}update(t,e,n,r){const s=Ot.create(t,e,n,r);return this.x=s.x,this.y=s.y,this.width=s.width,this.height=s.height,this}inflate(t,e){const n=t,r=e!=null?e:t;return this.x-=n,this.y-=r,this.width+=2*n,this.height+=2*r,this}snapToGrid(t,e){const n=this.origin.snapToGrid(t,e),r=this.corner.snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this}translate(t,e){const n=z.create(t,e);return this.x+=n.x,this.y+=n.y,this}scale(t,e,n=new z){const r=this.origin.scale(t,e,n);return this.x=r.x,this.y=r.y,this.width*=t,this.height*=e,this}rotate(t,e=this.getCenter()){if(t!==0){const n=ot.toRad(t),r=Math.cos(n),s=Math.sin(n);let c=this.getOrigin(),f=this.getTopRight(),d=this.getBottomRight(),p=this.getBottomLeft();c=z.rotateEx(c,r,s,e),f=z.rotateEx(f,r,s,e),d=z.rotateEx(d,r,s,e),p=z.rotateEx(p,r,s,e);const v=new Ot(c.x,c.y,0,0);v.add(f.x,f.y,0,0),v.add(d.x,d.y,0,0),v.add(p.x,p.y,0,0),this.update(v)}return this}rotate90(){const t=(this.width-this.height)/2;this.x+=t,this.y-=t;const e=this.width;return this.width=this.height,this.height=e,this}moveAndExpand(t){const e=Ot.clone(t);return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this}getMaxScaleToFit(t,e=this.center){const n=Ot.clone(t),r=e.x,s=e.y;let c=1/0,f=1/0,d=1/0,p=1/0,v=1/0,C=1/0,y=1/0,O=1/0;const F=n.topLeft;F.x<r&&(c=(this.x-r)/(F.x-r)),F.y<s&&(v=(this.y-s)/(F.y-s));const Z=n.bottomRight;Z.x>r&&(f=(this.x+this.width-r)/(Z.x-r)),Z.y>s&&(C=(this.y+this.height-s)/(Z.y-s));const X=n.topRight;X.x>r&&(d=(this.x+this.width-r)/(X.x-r)),X.y<s&&(y=(this.y-s)/(X.y-s));const tt=n.bottomLeft;return tt.x<r&&(p=(this.x-r)/(tt.x-r)),tt.y>s&&(O=(this.y+this.height-s)/(tt.y-s)),{sx:Math.min(c,f,d,p),sy:Math.min(v,C,y,O)}}getMaxUniformScaleToFit(t,e=this.center){const n=this.getMaxScaleToFit(t,e);return Math.min(n.sx,n.sy)}containsPoint(t,e){return it.containsPoint(this,z.create(t,e))}containsRect(t,e,n,r){const s=Ot.create(t,e,n,r),c=this.x,f=this.y,d=this.width,p=this.height,v=s.x,C=s.y,y=s.width,O=s.height;return d===0||p===0||y===0||O===0?!1:v>=c&&C>=f&&v+y<=c+d&&C+O<=f+p}intersectsWithLine(t){const e=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],n=[],r=[];return e.forEach(s=>{const c=t.intersectsWithLine(s);c!==null&&r.indexOf(c.toString())<0&&(n.push(c),r.push(c.toString()))}),n.length>0?n:null}intersectsWithLineFromCenterToPoint(t,e){const n=z.clone(t),r=this.center;let s=null;e!=null&&e!==0&&n.rotate(e,r);const c=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],f=new Ft(r,n);for(let d=c.length-1;d>=0;d-=1){const p=c[d].intersectsWithLine(f);if(p!==null){s=p;break}}return s&&e!=null&&e!==0&&s.rotate(-e,r),s}intersectsWithRect(t,e,n,r){const s=Ot.create(t,e,n,r);if(!this.isIntersectWithRect(s))return null;const c=this.origin,f=this.corner,d=s.origin,p=s.corner,v=Math.max(c.x,d.x),C=Math.max(c.y,d.y);return new Ot(v,C,Math.min(f.x,p.x)-v,Math.min(f.y,p.y)-C)}isIntersectWithRect(t,e,n,r){const s=Ot.create(t,e,n,r),c=this.origin,f=this.corner,d=s.origin,p=s.corner;return!(p.x<=c.x||p.y<=c.y||d.x>=f.x||d.y>=f.y)}normalize(){let t=this.x,e=this.y,n=this.width,r=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,r=-this.height),this.x=t,this.y=e,this.width=n,this.height=r,this}union(t){const e=Ot.clone(t),n=this.origin,r=this.corner,s=e.origin,c=e.corner,f=Math.min(n.x,s.x),d=Math.min(n.y,s.y),p=Math.max(r.x,c.x),v=Math.max(r.y,c.y);return new Ot(f,d,p-f,v-d)}getNearestSideToPoint(t){const e=z.clone(t),n=e.x-this.x,r=this.x+this.width-e.x,s=e.y-this.y,c=this.y+this.height-e.y;let f=n,d="left";return r<f&&(f=r,d="right"),s<f&&(f=s,d="top"),c<f&&(d="bottom"),d}getNearestPointToPoint(t){const e=z.clone(t);if(this.containsPoint(e)){const n=this.getNearestSideToPoint(e);if(n==="left")return new z(this.x,e.y);if(n==="top")return new z(e.x,this.y);if(n==="right")return new z(this.x+this.width,e.y);if(n==="bottom")return new z(e.x,this.y+this.height)}return e.adhereToRect(this)}equals(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.width===this.width&&t.height===this.height}clone(){return new Ot(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(l){function t(e){return e!=null&&e instanceof l}l.isRectangle=t})(Ot||(Ot={})),function(l){function t(e){return e!=null&&typeof e=="object"&&typeof e.x=="number"&&typeof e.y=="number"&&typeof e.width=="number"&&typeof e.height=="number"}l.isRectangleLike=t}(Ot||(Ot={})),function(l){function t(c,f,d,p){return c==null||typeof c=="number"?new l(c,f,d,p):e(c)}l.create=t;function e(c){return l.isRectangle(c)?c.clone():Array.isArray(c)?new l(c[0],c[1],c[2],c[3]):new l(c.x,c.y,c.width,c.height)}l.clone=e;function n(c){return new l(c.x-c.a,c.y-c.b,2*c.a,2*c.b)}l.fromEllipse=n;function r(c){return new l(0,0,c.width,c.height)}l.fromSize=r;function s(c,f){return new l(c.x,c.y,f.width,f.height)}l.fromPositionAndSize=s}(Ot||(Ot={}));class Ft extends jt{get center(){return new z((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}constructor(t,e,n,r){super(),typeof t=="number"&&typeof e=="number"?(this.start=new z(t,e),this.end=new z(n,r)):(this.start=z.create(t),this.end=z.create(e))}getCenter(){return this.center}round(t=0){return this.start.round(t),this.end.round(t),this}translate(t,e){return typeof t=="number"?(this.start.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.end.translate(t)),this}rotate(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this}scale(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const t=this.start.x-this.end.x,e=this.start.y-this.end.y;return t*t+e*e}setLength(t){const e=this.length();if(!e)return this;const n=t/e;return this.scale(n,n,this.start)}parallel(t){const e=this.clone();if(!e.isDifferentiable())return e;const{start:n,end:r}=e,s=n.clone().rotate(270,r),c=r.clone().rotate(90,n);return n.move(c,t),r.move(s,t),e}vector(){return new z(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const t=new z(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)}bbox(){const t=Math.min(this.start.x,this.end.x),e=Math.min(this.start.y,this.end.y),n=Math.max(this.start.x,this.end.x),r=Math.max(this.start.y,this.end.y);return new Ot(t,e,n-t,r-e)}bearing(){return this.start.bearing(this.end)}closestPoint(t){return this.pointAt(this.closestPointNormalizedLength(t))}closestPointLength(t){return this.closestPointNormalizedLength(t)*this.length()}closestPointTangent(t){return this.tangentAt(this.closestPointNormalizedLength(t))}closestPointNormalizedLength(t){const e=this.vector().dot(new Ft(this.start,t).vector()),n=Math.min(1,Math.max(0,e/this.squaredLength()));return Number.isNaN(n)?0:n}pointAt(t){const e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)}pointAtLength(t){const e=this.start,n=this.end;let r=!0;t<0&&(r=!1,t=-t);const s=this.length();if(t>=s)return r?n.clone():e.clone();const c=(r?t:s-t)/s;return this.pointAt(c)}divideAt(t){const e=this.pointAt(t);return[new Ft(this.start,e),new Ft(e,this.end)]}divideAtLength(t){const e=this.pointAtLength(t);return[new Ft(this.start,e),new Ft(e,this.end)]}containsPoint(t){const e=this.start,n=this.end;if(e.cross(t,n)!==0)return!1;const r=this.length();return!(new Ft(e,t).length()>r||new Ft(t,n).length()>r)}intersect(t,e){const n=t.intersectsWithLine(this,e);return n?Array.isArray(n)?n:[n]:null}intersectsWithLine(t){const e=new z(this.end.x-this.start.x,this.end.y-this.start.y),n=new z(t.end.x-t.start.x,t.end.y-t.start.y),r=e.x*n.y-e.y*n.x,s=new z(t.start.x-this.start.x,t.start.y-this.start.y),c=s.x*n.y-s.y*n.x,f=s.x*e.y-s.y*e.x;if(r===0||c*r<0||f*r<0)return null;if(r>0){if(c>r||f>r)return null}else if(c<r||f<r)return null;return new z(this.start.x+c*e.x/r,this.start.y+c*e.y/r)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(t){const e=z.clone(t),n=this.start,r=this.end;return((r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x))/this.length()}pointSquaredDistance(t,e){const n=z.create(t,e);return this.closestPoint(n).squaredDistance(n)}pointDistance(t,e){const n=z.create(t,e);return this.closestPoint(n).distance(n)}tangentAt(t){if(!this.isDifferentiable())return null;const e=this.start,n=this.end,r=this.pointAt(t),s=new Ft(e,n);return s.translate(r.x-e.x,r.y-e.y),s}tangentAtLength(t){if(!this.isDifferentiable())return null;const e=this.start,n=this.end,r=this.pointAtLength(t),s=new Ft(e,n);return s.translate(r.x-e.x,r.y-e.y),s}relativeCcw(t,e){const n=z.create(t,e);let r=n.x-this.start.x,s=n.y-this.start.y;const c=this.end.x-this.start.x,f=this.end.y-this.start.y;let d=r*f-s*c;return d===0&&(d=r*c+s*f,d>0&&(r-=c,s-=f,d=r*c+s*f,d<0&&(d=0))),d<0?-1:d>0?1:0}equals(t){return t!=null&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y}clone(){return new Ft(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}(function(l){function t(e){return e!=null&&e instanceof l}l.isLine=t})(Ft||(Ft={}));class ke extends jt{get center(){return new z(this.x,this.y)}constructor(t,e,n,r){super(),this.x=t==null?0:t,this.y=e==null?0:e,this.a=n==null?0:n,this.b=r==null?0:r}bbox(){return Ot.fromEllipse(this)}getCenter(){return this.center}inflate(t,e){const n=t,r=e!=null?e:t;return this.a+=2*n,this.b+=2*r,this}normalizedDistance(t,e){const n=z.create(t,e),r=n.x-this.x,s=n.y-this.y,c=this.a,f=this.b;return r*r/(c*c)+s*s/(f*f)}containsPoint(t,e){return this.normalizedDistance(t,e)<=1}intersectsWithLine(t){const e=[],n=this.a,r=this.b,s=t.start,c=t.end,f=t.vector(),d=s.diff(new z(this.x,this.y)),p=new z(f.x/(n*n),f.y/(r*r)),v=new z(d.x/(n*n),d.y/(r*r)),C=f.dot(p),y=f.dot(v),O=d.dot(v)-1,F=y*y-C*O;if(F<0)return null;if(F>0){const Z=Math.sqrt(F),X=(-y-Z)/C,tt=(-y+Z)/C;if((X<0||X>1)&&(tt<0||tt>1))return null;X>=0&&X<=1&&e.push(s.lerp(c,X)),tt>=0&&tt<=1&&e.push(s.lerp(c,tt))}else{const Z=-y/C;if(Z>=0&&Z<=1)e.push(s.lerp(c,Z));else return null}return e}intersectsWithLineFromCenterToPoint(t,e=0){const n=z.clone(t);e&&n.rotate(e,this.getCenter());const r=n.x-this.x,s=n.y-this.y;let c;if(r===0)return c=this.bbox().getNearestPointToPoint(n),e?c.rotate(-e,this.getCenter()):c;const f=s/r,d=f*f,p=this.a*this.a,v=this.b*this.b;let C=Math.sqrt(1/(1/p+d/v));C=r<0?-C:C;const y=f*C;return c=new z(this.x+C,this.y+y),e?c.rotate(-e,this.getCenter()):c}tangentTheta(t){const e=z.clone(t),n=e.x,r=e.y,s=this.a,c=this.b,f=this.bbox().center,d=f.x,p=f.y,v=30,C=n>f.x+s/2,y=n<f.x-s/2;let O,F;return C||y?(F=n>f.x?r-v:r+v,O=s*s/(n-d)-s*s*(r-p)*(F-p)/(c*c*(n-d))+d):(O=r>f.y?n+v:n-v,F=c*c/(r-p)-c*c*(n-d)*(O-d)/(s*s*(r-p))+p),new z(O,F).theta(e)}scale(t,e){return this.a*=t,this.b*=e,this}rotate(t,e){const n=Ot.fromEllipse(this);n.rotate(t,e);const r=ke.fromRect(n);return this.a=r.a,this.b=r.b,this.x=r.x,this.y=r.y,this}translate(t,e){const n=z.create(t,e);return this.x+=n.x,this.y+=n.y,this}equals(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b}clone(){return new ke(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(l){function t(e){return e!=null&&e instanceof l}l.isEllipse=t})(ke||(ke={})),function(l){function t(r,s,c,f){return r==null||typeof r=="number"?new l(r,s,c,f):e(r)}l.create=t;function e(r){return l.isEllipse(r)?r.clone():Array.isArray(r)?new l(r[0],r[1],r[2],r[3]):new l(r.x,r.y,r.a,r.b)}l.parse=e;function n(r){const s=r.center;return new l(s.x,s.y,r.width/2,r.height/2)}l.fromRect=n}(ke||(ke={}));const _n=new RegExp("^[\\s\\dLMCZz,.]*$");function It(l){return typeof l!="string"?!1:_n.test(l)}function ge(l,t){return(l%t+t)%t}function Me(l,t,e,n,r){const s=[],c=l[l.length-1],f=t!=null&&t>0,d=t||0;if(n&&f){l=l.slice();const C=l[0],y=new z(c.x+(C.x-c.x)/2,c.y+(C.y-c.y)/2);l.splice(0,0,y)}let p=l[0],v=1;for(e?s.push("M",p.x,p.y):s.push("L",p.x,p.y);v<(n?l.length:l.length-1);){let C=l[ge(v,l.length)],y=p.x-C.x,O=p.y-C.y;if(f&&(y!==0||O!==0)&&(r==null||r.indexOf(v-1)<0)){let F=Math.sqrt(y*y+O*O);const Z=y*Math.min(d,F/2)/F,X=O*Math.min(d,F/2)/F,tt=C.x+Z,ht=C.y+X;s.push("L",tt,ht);let mt=l[ge(v+1,l.length)];for(;v<l.length-2&&Math.round(mt.x-C.x)===0&&Math.round(mt.y-C.y)===0;)mt=l[ge(v+2,l.length)],v+=1;y=mt.x-C.x,O=mt.y-C.y,F=Math.max(1,Math.sqrt(y*y+O*O));const Tt=y*Math.min(d,F/2)/F,Lt=O*Math.min(d,F/2)/F,ie=C.x+Tt,je=C.y+Lt;s.push("Q",C.x,C.y,ie,je),C=new z(ie,je)}else s.push("L",C.x,C.y);p=C,v+=1}return n?s.push("Z"):s.push("L",c.x,c.y),s.map(C=>typeof C=="string"?C:+C.toFixed(3)).join(" ")}function Se(l,t={}){const e=[];return l&&l.length&&l.forEach(n=>{Array.isArray(n)?e.push({x:n[0],y:n[1]}):e.push({x:n.x,y:n.y})}),Me(e,t.round,t.initialMove==null||t.initialMove,t.close,t.exclude)}function Kt(l,t,e,n,r=0,s=0,c=0,f,d){if(e===0||n===0)return[];f-=l,d-=t,e=Math.abs(e),n=Math.abs(n);const p=-f/2,v=-d/2,C=Math.cos(r*Math.PI/180),y=Math.sin(r*Math.PI/180),O=C*p+y*v,F=-1*y*p+C*v,Z=O*O,X=F*F,tt=e*e,ht=n*n,mt=Z/tt+X/ht;let Tt;if(mt>1)e=Math.sqrt(mt)*e,n=Math.sqrt(mt)*n,Tt=0;else{let Ds=1;s===c&&(Ds=-1),Tt=Ds*Math.sqrt((tt*ht-tt*X-ht*Z)/(tt*X+ht*Z))}const Lt=Tt*e*F/n,ie=-1*Tt*n*O/e,je=C*Lt-y*ie+f/2,nn=y*Lt+C*ie+d/2;let an=Math.atan2((F-ie)/n,(O-Lt)/e)-Math.atan2(0,1),Ye=an>=0?an:2*Math.PI+an;an=Math.atan2((-F-ie)/n,(-O-Lt)/e)-Math.atan2((F-ie)/n,(O-Lt)/e);let tn=an>=0?an:2*Math.PI+an;c===0&&tn>0?tn-=2*Math.PI:c!==0&&tn<0&&(tn+=2*Math.PI);const mn=tn*2/Math.PI,Pi=Math.ceil(mn<0?-1*mn:mn),br=tn/Pi,_r=8/3*Math.sin(br/4)*Math.sin(br/4)/Math.sin(br/2),Wn=C*e,Vi=C*n,$i=y*e,Ns=y*n;let Ei=Math.cos(Ye),Jn=Math.sin(Ye),zi=-_r*(Wn*Jn+Ns*Ei),ul=-_r*($i*Jn-Vi*Ei),no=0,yo=0;const ti=[];for(let Ds=0;Ds<Pi;Ds+=1){Ye+=br,Ei=Math.cos(Ye),Jn=Math.sin(Ye),no=Wn*Ei-Ns*Jn+je,yo=$i*Ei+Vi*Jn+nn;const Fa=-_r*(Wn*Jn+Ns*Ei),wc=-_r*($i*Jn-Vi*Ei),$o=Ds*6;ti[$o]=Number(zi+l),ti[$o+1]=Number(ul+t),ti[$o+2]=Number(no-Fa+l),ti[$o+3]=Number(yo-wc+t),ti[$o+4]=Number(no+l),ti[$o+5]=Number(yo+t),zi=no+Fa,ul=yo+wc}return ti.map(Ds=>+Ds.toFixed(2))}function Bt(l,t,e,n,r=0,s=0,c=0,f,d){const p=[],v=Kt(l,t,e,n,r,s,c,f,d);if(v!=null)for(let C=0,y=v.length;C<y;C+=6)p.push("C",v[C],v[C+1],v[C+2],v[C+3],v[C+4],v[C+5]);return p.join(" ")}class te extends jt{get start(){return this.points[0]||null}get end(){return this.points[this.points.length-1]||null}constructor(t){if(super(),t!=null){if(typeof t=="string")return te.parse(t);this.points=t.map(e=>z.create(e))}else this.points=[]}scale(t,e,n=new z){return this.points.forEach(r=>r.scale(t,e,n)),this}rotate(t,e){return this.points.forEach(n=>n.rotate(t,e)),this}translate(t,e){const n=z.create(t,e);return this.points.forEach(r=>r.translate(n.x,n.y)),this}round(t=0){return this.points.forEach(e=>e.round(t)),this}bbox(){if(this.points.length===0)return new Ot;let t=1/0,e=-1/0,n=1/0,r=-1/0;const s=this.points;for(let c=0,f=s.length;c<f;c+=1){const d=s[c],p=d.x,v=d.y;p<t&&(t=p),p>e&&(e=p),v<n&&(n=v),v>r&&(r=v)}return new Ot(t,n,e-t,r-n)}closestPoint(t){const e=this.closestPointLength(t);return this.pointAtLength(e)}closestPointLength(t){const e=this.points,n=e.length;if(n===0||n===1)return 0;let r=0,s=0,c=1/0;for(let f=0,d=n-1;f<d;f+=1){const p=new Ft(e[f],e[f+1]),v=p.length(),C=p.closestPointNormalizedLength(t),O=p.pointAt(C).squaredDistance(t);O<c&&(c=O,s=r+C*v),r+=v}return s}closestPointNormalizedLength(t){const e=this.length();return e===0?0:this.closestPointLength(t)/e}closestPointTangent(t){const e=this.closestPointLength(t);return this.tangentAtLength(e)}containsPoint(t){if(this.points.length===0)return!1;const e=z.clone(t),n=e.x,r=e.y,s=this.points,c=s.length;let f=c-1,d=0;for(let p=0;p<c;p+=1){const v=s[f],C=s[p];if(e.equals(v))return!0;const y=new Ft(v,C);if(y.containsPoint(t))return!0;if(r<=v.y&&r>C.y||r>v.y&&r<=C.y){const O=v.x-n>C.x-n?v.x-n:C.x-n;if(O>=0){const F=new z(n+O,r),Z=new Ft(t,F);y.intersectsWithLine(Z)&&(d+=1)}}f=p}return d%2===1}intersectsWithLine(t){const e=[];for(let n=0,r=this.points.length-1;n<r;n+=1){const s=this.points[n],c=this.points[n+1],f=t.intersectsWithLine(new Ft(s,c));f&&e.push(f)}return e.length>0?e:null}isDifferentiable(){for(let t=0,e=this.points.length-1;t<e;t+=1){const n=this.points[t],r=this.points[t+1];if(new Ft(n,r).isDifferentiable())return!0}return!1}length(){let t=0;for(let e=0,n=this.points.length-1;e<n;e+=1){const r=this.points[e],s=this.points[e+1];t+=r.distance(s)}return t}pointAt(t){const e=this.points,n=e.length;if(n===0)return null;if(n===1||t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();const s=this.length()*t;return this.pointAtLength(s)}pointAtLength(t){const e=this.points,n=e.length;if(n===0)return null;if(n===1)return e[0].clone();let r=!0;t<0&&(r=!1,t=-t);let s=0;for(let f=0,d=n-1;f<d;f+=1){const p=r?f:d-1-f,v=e[p],C=e[p+1],y=new Ft(v,C),O=v.distance(C);if(t<=s+O)return y.pointAtLength((r?1:-1)*(t-s));s+=O}return(r?e[n-1]:e[0]).clone()}tangentAt(t){const n=this.points.length;if(n===0||n===1)return null;t<0&&(t=0),t>1&&(t=1);const s=this.length()*t;return this.tangentAtLength(s)}tangentAtLength(t){const e=this.points,n=e.length;if(n===0||n===1)return null;let r=!0;t<0&&(r=!1,t=-t);let s,c=0;for(let f=0,d=n-1;f<d;f+=1){const p=r?f:d-1-f,v=e[p],C=e[p+1],y=new Ft(v,C),O=v.distance(C);if(y.isDifferentiable()){if(t<=c+O)return y.tangentAtLength((r?1:-1)*(t-c));s=y}c+=O}if(s){const f=r?1:0;return s.tangentAt(f)}return null}simplify(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||0;let r=0;for(;e[r+2];){const s=r,c=r+1,f=r+2,d=e[s],p=e[c],v=e[f];new Ft(d,v).closestPoint(p).distance(p)<=n?e.splice(c,1):r+=1}return this}toHull(){const t=this.points,e=t.length;if(e===0)return new te;let n=t[0];for(let y=1;y<e;y+=1)(t[y].y<n.y||t[y].y===n.y&&t[y].x>n.x)&&(n=t[y]);const r=[];for(let y=0;y<e;y+=1){let O=n.theta(t[y]);O===0&&(O=360),r.push([t[y],y,O])}if(r.sort((y,O)=>{let F=y[2]-O[2];return F===0&&(F=O[1]-y[1]),F}),r.length>2){const y=r[r.length-1];r.unshift(y)}const s={},c=[],f=y=>`${y[0].toString()}@${y[1]}`;for(;r.length!==0;){const y=r.pop(),O=y[0];if(s[f(y)])continue;let F=!1;for(;!F;)if(c.length<2)c.push(y),F=!0;else{const Z=c.pop(),X=Z[0],tt=c.pop(),ht=tt[0],mt=ht.cross(X,O);if(mt<0)c.push(tt),c.push(Z),c.push(y),F=!0;else if(mt===0){const Lt=X.angleBetween(ht,O);Math.abs(Lt-180)<1e-10||X.equals(O)||ht.equals(X)?(s[f(Z)]=X,c.push(tt)):Math.abs((Lt+1)%360-1)<1e-10&&(c.push(tt),r.push(Z))}else s[f(Z)]=X,c.push(tt)}}c.length>2&&c.pop();let d,p=-1;for(let y=0,O=c.length;y<O;y+=1){const F=c[y][1];(d===void 0||F<d)&&(d=F,p=y)}let v=[];if(p>0){const y=c.slice(p),O=c.slice(0,p);v=y.concat(O)}else v=c;const C=[];for(let y=0,O=v.length;y<O;y+=1)C.push(v[y][0]);return new te(C)}equals(t){return t==null||t.points.length!==this.points.length?!1:t.points.every((e,n)=>e.equals(this.points[n]))}clone(){return new te(this.points.map(t=>t.clone()))}toJSON(){return this.points.map(t=>t.toJSON())}serialize(){return this.points.map(t=>`${t.serialize()}`).join(" ")}}(function(l){function t(e){return e!=null&&e instanceof l}l.isPolyline=t})(te||(te={})),function(l){function t(e){const n=e.trim();if(n==="")return new l;const r=[],s=n.split(/\s*,\s*|\s+/);for(let c=0,f=s.length;c<f;c+=2)r.push({x:+s[c],y:+s[c+1]});return new l(r)}l.parse=t}(te||(te={}));class oe extends jt{constructor(t,e,n,r){super(),this.PRECISION=3,this.start=z.create(t),this.controlPoint1=z.create(e),this.controlPoint2=z.create(n),this.end=z.create(r)}bbox(){const t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end,s=t.x,c=t.y,f=e.x,d=e.y,p=n.x,v=n.y,C=r.x,y=r.y,O=[],F=[],Z=[[],[]];let X,tt,ht,mt,Tt,Lt,ie,je;for(let Vi=0;Vi<2;Vi+=1){if(Vi===0?(tt=6*s-12*f+6*p,X=-3*s+9*f-9*p+3*C,ht=3*f-3*s):(tt=6*c-12*d+6*v,X=-3*c+9*d-9*v+3*y,ht=3*d-3*c),Math.abs(X)<1e-12){if(Math.abs(tt)<1e-12)continue;mt=-ht/tt,mt>0&&mt<1&&F.push(mt);continue}ie=tt*tt-4*ht*X,je=Math.sqrt(ie),!(ie<0)&&(Tt=(-tt+je)/(2*X),Tt>0&&Tt<1&&F.push(Tt),Lt=(-tt-je)/(2*X),Lt>0&&Lt<1&&F.push(Lt))}let nn,an,Ye,tn=F.length;const mn=tn;for(;tn;)tn-=1,mt=F[tn],Ye=1-mt,nn=Ye*Ye*Ye*s+3*Ye*Ye*mt*f+3*Ye*mt*mt*p+mt*mt*mt*C,Z[0][tn]=nn,an=Ye*Ye*Ye*c+3*Ye*Ye*mt*d+3*Ye*mt*mt*v+mt*mt*mt*y,Z[1][tn]=an,O[tn]={X:nn,Y:an};F[mn]=0,F[mn+1]=1,O[mn]={X:s,Y:c},O[mn+1]={X:C,Y:y},Z[0][mn]=s,Z[1][mn]=c,Z[0][mn+1]=C,Z[1][mn+1]=y,F.length=mn+2,Z[0].length=mn+2,Z[1].length=mn+2,O.length=mn+2;const Pi=Math.min.apply(null,Z[0]),br=Math.min.apply(null,Z[1]),_r=Math.max.apply(null,Z[0]),Wn=Math.max.apply(null,Z[1]);return new Ot(Pi,br,_r-Pi,Wn-br)}closestPoint(t,e={}){return this.pointAtT(this.closestPointT(t,e))}closestPointLength(t,e={}){const n=this.getOptions(e);return this.lengthAtT(this.closestPointT(t,n),n)}closestPointNormalizedLength(t,e={}){const n=this.getOptions(e),r=this.closestPointLength(t,n);if(!r)return 0;const s=this.length(n);return s===0?0:r/s}closestPointT(t,e={}){const n=this.getPrecision(e),r=this.getDivisions(e),s=Math.pow(10,-n);let c=null,f=0,d=0,p=0,v=0,C=0,y=null;const O=r.length;let F=O>0?1/O:0;for(r.forEach((Z,X)=>{const tt=Z.start.distance(t),ht=Z.end.distance(t),mt=tt+ht;(y==null||mt<y)&&(c=Z,f=X*F,d=(X+1)*F,p=tt,v=ht,y=mt,C=Z.endpointDistance())});;){const Z=p?Math.abs(p-v)/p:0,X=v!=null?Math.abs(p-v)/v:0,tt=Z<s||X<s,ht=p?p<C*s:!0,mt=v?v<C*s:!0;if(tt||(ht||mt))return p<=v?f:d;const Lt=c.divide(.5);F/=2;const ie=Lt[0].start.distance(t),je=Lt[0].end.distance(t),nn=ie+je,an=Lt[1].start.distance(t),Ye=Lt[1].end.distance(t),tn=an+Ye;nn<=tn?(c=Lt[0],d-=F,p=ie,v=je):(c=Lt[1],f+=F,p=an,v=Ye)}}closestPointTangent(t,e={}){return this.tangentAtT(this.closestPointT(t,e))}containsPoint(t,e={}){return this.toPolyline(e).containsPoint(t)}divideAt(t,e={}){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);const n=this.tAt(t,e);return this.divideAtT(n)}divideAtLength(t,e={}){const n=this.tAtLength(t,e);return this.divideAtT(n)}divide(t){return this.divideAtT(t)}divideAtT(t){const e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return[new oe(e,e,e,e),new oe(e,n,r,s)];if(t>=1)return[new oe(e,n,r,s),new oe(s,s,s,s)];const c=this.getSkeletonPoints(t),f=c.startControlPoint1,d=c.startControlPoint2,p=c.divider,v=c.dividerControlPoint1,C=c.dividerControlPoint2;return[new oe(e,f,d,p),new oe(p,v,C,s)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(t){const e=this.start,n=this.controlPoint1,r=this.controlPoint2,s=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:s.clone(),dividerControlPoint1:s.clone(),dividerControlPoint2:s.clone()};const c=new Ft(e,n).pointAt(t),f=new Ft(n,r).pointAt(t),d=new Ft(r,s).pointAt(t),p=new Ft(c,f).pointAt(t),v=new Ft(f,d).pointAt(t),C=new Ft(p,v).pointAt(t);return{startControlPoint1:c,startControlPoint2:p,divider:C,dividerControlPoint1:v,dividerControlPoint2:d}}getSubdivisions(t={}){const e=this.getPrecision(t);let n=[new oe(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(e===0)return n;let r=this.endpointDistance();const s=Math.pow(10,-e);let c=0;for(;;){c+=1;const f=[];n.forEach(v=>{const C=v.divide(.5);f.push(C[0],C[1])});const d=f.reduce((v,C)=>v+C.endpointDistance(),0),p=d!==0?(d-r)/d:0;if(c>1&&p<s)return f;n=f,r=d}}length(t={}){return this.getDivisions(t).reduce((n,r)=>n+r.endpointDistance(),0)}lengthAtT(t,e={}){if(t<=0)return 0;const n=e.precision===void 0?this.PRECISION:e.precision;return this.divide(t)[0].length({precision:n})}pointAt(t,e={}){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const n=this.tAt(t,e);return this.pointAtT(n)}pointAtLength(t,e={}){const n=this.tAtLength(t,e);return this.pointAtT(n)}pointAtT(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider}isDifferentiable(){const t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))}tangentAt(t,e={}){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);const n=this.tAt(t,e);return this.tangentAtT(n)}tangentAtLength(t,e={}){if(!this.isDifferentiable())return null;const n=this.tAtLength(t,e);return this.tangentAtT(n)}tangentAtT(t){if(!this.isDifferentiable())return null;t<0&&(t=0),t>1&&(t=1);const e=this.getSkeletonPoints(t),n=e.startControlPoint2,r=e.dividerControlPoint1,s=e.divider,c=new Ft(n,r);return c.translate(s.x-n.x,s.y-n.y),c}getPrecision(t={}){return t.precision==null?this.PRECISION:t.precision}getDivisions(t={}){if(t.subdivisions!=null)return t.subdivisions;const e=this.getPrecision(t);return this.getSubdivisions({precision:e})}getOptions(t={}){const e=this.getPrecision(t),n=this.getDivisions(t);return{precision:e,subdivisions:n}}tAt(t,e={}){if(t<=0)return 0;if(t>=1)return 1;const n=this.getOptions(e),s=this.length(n)*t;return this.tAtLength(s,n)}tAtLength(t,e={}){let n=!0;t<0&&(n=!1,t=-t);const r=this.getPrecision(e),s=this.getDivisions(e),c={precision:r,subdivisions:s};let f=null,d,p,v=0,C=0,y=0;const O=s.length;let F=O>0?1/O:0;for(let tt=0;tt<O;tt+=1){const ht=n?tt:O-1-tt,mt=s[tt],Tt=mt.endpointDistance();if(t<=y+Tt){f=mt,d=ht*F,p=(ht+1)*F,v=n?t-y:Tt+y-t,C=n?Tt+y-t:t-y;break}y+=Tt}if(f==null)return n?1:0;const Z=this.length(c),X=Math.pow(10,-r);for(;;){let tt;if(tt=Z!==0?v/Z:0,tt<X)return d;if(tt=Z!==0?C/Z:0,tt<X)return p;let ht,mt;const Tt=f.divide(.5);F/=2;const Lt=Tt[0].endpointDistance(),ie=Tt[1].endpointDistance();v<=Lt?(f=Tt[0],p-=F,ht=v,mt=Lt-ht):(f=Tt[1],d+=F,ht=v-Lt,mt=ie-ht),v=ht,C=mt}}toPoints(t={}){const e=this.getDivisions(t),n=[e[0].start.clone()];return e.forEach(r=>n.push(r.end.clone())),n}toPolyline(t={}){return new te(this.toPoints(t))}scale(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this}rotate(t,e){return this.start.rotate(t,e),this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?(this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return t!=null&&this.start.equals(t.start)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)&&this.end.equals(t.end)}clone(){return new oe(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(l){function t(e){return e!=null&&e instanceof l}l.isCurve=t})(oe||(oe={})),function(l){function t(r){const s=r.length,c=[],f=[];let d=2;c[0]=r[0]/d;for(let p=1;p<s;p+=1)f[p]=1/d,d=(p<s-1?4:3.5)-f[p],c[p]=(r[p]-c[p-1])/d;for(let p=1;p<s;p+=1)c[s-p-1]-=f[s-p]*c[s-p];return c}function e(r){const s=r.map(y=>z.clone(y)),c=[],f=[],d=s.length-1;if(d===1)return c[0]=new z((2*s[0].x+s[1].x)/3,(2*s[0].y+s[1].y)/3),f[0]=new z(2*c[0].x-s[0].x,2*c[0].y-s[0].y),[c,f];const p=[];for(let y=1;y<d-1;y+=1)p[y]=4*s[y].x+2*s[y+1].x;p[0]=s[0].x+2*s[1].x,p[d-1]=(8*s[d-1].x+s[d].x)/2;const v=t(p);for(let y=1;y<d-1;y+=1)p[y]=4*s[y].y+2*s[y+1].y;p[0]=s[0].y+2*s[1].y,p[d-1]=(8*s[d-1].y+s[d].y)/2;const C=t(p);for(let y=0;y<d;y+=1)c.push(new z(v[y],C[y])),y<d-1?f.push(new z(2*s[y+1].x-v[y+1],2*s[y+1].y-C[y+1])):f.push(new z((s[d].x+v[d-1])/2,(s[d].y+C[d-1])/2));return[c,f]}function n(r){if(r==null||Array.isArray(r)&&r.length<2)throw new Error("At least 2 points are required");const s=e(r),c=[];for(let f=0,d=s[0].length;f<d;f+=1){const p=new z(s[0][f].x,s[0][f].y),v=new z(s[1][f].x,s[1][f].y);c.push(new l(r[f],p,v,r[f+1]))}return c}l.throughPoints=n}(oe||(oe={}));class ye extends jt{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(this.previousSegment==null)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(t,e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(t,e){if(t<=0)return 0;const n=this.length();return t>=1?n:n*t}divideAtT(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class $t extends ye{constructor(t,e){super(),Ft.isLine(t)?this.endPoint=t.end.clone().round(2):this.endPoint=z.create(t,e).round(2)}get type(){return"L"}get line(){return new Ft(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[new $t(e[0]),new $t(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[new $t(e[0]),new $t(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return this.previousSegment==null?!1:!this.start.equals(this.end)}clone(){return new $t(this.end)}scale(t,e,n){return this.end.scale(t,e,n),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(function(l){function t(...e){const n=e.length,r=e[0];if(Ft.isLine(r))return new l(r);if(z.isPointLike(r))return n===1?new l(r):e.map(c=>new l(c));if(n===2)return new l(+e[0],+e[1]);const s=[];for(let c=0;c<n;c+=2){const f=+e[c],d=+e[c+1];s.push(new l(f,d))}return s}l.create=t})($t||($t={}));class Ve extends ye{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new Ft(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[e[1].isDifferentiable()?new $t(e[0]):this.clone(),new $t(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[e[1].isDifferentiable()?new $t(e[0]):this.clone(),new $t(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)}scale(){return this}rotate(){return this}translate(){return this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}clone(){return new Ve}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}(function(l){function t(){return new l}l.create=t})(Ve||(Ve={}));class $e extends ye{constructor(t,e){super(),this.isVisible=!1,this.isSubpathStart=!0,Ft.isLine(t)||oe.isCurve(t)?this.endPoint=t.end.clone().round(2):this.endPoint=z.create(t,e).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(t,e,n){return this.end.scale(t,e,n),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this}clone(){return new $e(this.end)}equals(t){return this.type===t.type&&this.end.equals(t.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(function(l){function t(...e){const n=e.length,r=e[0];if(Ft.isLine(r))return new l(r);if(oe.isCurve(r))return new l(r);if(z.isPointLike(r)){if(n===1)return new l(r);const c=[];for(let f=0;f<n;f+=1)f===0?c.push(new l(e[f])):c.push(new $t(e[f]));return c}if(n===2)return new l(+e[0],+e[1]);const s=[];for(let c=0;c<n;c+=2){const f=+e[c],d=+e[c+1];c===0?s.push(new l(f,d)):s.push(new $t(f,d))}return s}l.create=t})($e||($e={}));class ae extends ye{constructor(t,e,n,r,s,c){super(),oe.isCurve(t)?(this.controlPoint1=t.controlPoint1.clone().round(2),this.controlPoint2=t.controlPoint2.clone().round(2),this.endPoint=t.end.clone().round(2)):typeof t=="number"?(this.controlPoint1=new z(t,e).round(2),this.controlPoint2=new z(n,r).round(2),this.endPoint=new z(s,c).round(2)):(this.controlPoint1=z.create(t).round(2),this.controlPoint2=z.create(e).round(2),this.endPoint=z.create(n).round(2))}get type(){return"C"}get curve(){return new oe(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(t){return this.curve.closestPoint(t)}closestPointLength(t){return this.curve.closestPointLength(t)}closestPointNormalizedLength(t){return this.curve.closestPointNormalizedLength(t)}closestPointTangent(t){return this.curve.closestPointTangent(t)}length(){return this.curve.length()}divideAt(t,e={}){const n=this.curve.divideAt(t,e);return[new ae(n[0]),new ae(n[1])]}divideAtLength(t,e={}){const n=this.curve.divideAtLength(t,e);return[new ae(n[0]),new ae(n[1])]}divideAtT(t){const e=this.curve.divideAtT(t);return[new ae(e[0]),new ae(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.curve.pointAt(t)}pointAtLength(t){return this.curve.pointAtLength(t)}tangentAt(t){return this.curve.tangentAt(t)}tangentAtLength(t){return this.curve.tangentAtLength(t)}isDifferentiable(){if(!this.previousSegment)return!1;const t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))}scale(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this}rotate(t,e){return this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?(this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return this.start.equals(t.start)&&this.end.equals(t.end)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)}clone(){return new ae(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.controlPoint1,e=this.controlPoint2,n=this.end;return[this.type,t.x,t.y,e.x,e.y,n.x,n.y].join(" ")}}(function(l){function t(...e){const n=e.length,r=e[0];if(oe.isCurve(r))return new l(r);if(z.isPointLike(r)){if(n===3)return new l(e[0],e[1],e[2]);const c=[];for(let f=0;f<n;f+=3)c.push(new l(e[f],e[f+1],e[f+2]));return c}if(n===6)return new l(e[0],e[1],e[2],e[3],e[4],e[5]);const s=[];for(let c=0;c<n;c+=6)s.push(new l(e[c],e[c+1],e[c+2],e[c+3],e[c+4],e[c+5]));return s}l.create=t})(ae||(ae={}));function Be(l,t,e){return{x:l*Math.cos(e)-t*Math.sin(e),y:l*Math.sin(e)+t*Math.cos(e)}}function Mn(l,t,e,n,r,s){const c=.3333333333333333,f=2/3;return[c*l+f*e,c*t+f*n,c*r+f*e,c*s+f*n,r,s]}function Xe(l,t,e,n,r,s,c,f,d,p){const v=Math.PI*120/180,C=Math.PI/180*(+r||0);let y=[],O,F,Z,X,tt;if(p)F=p[0],Z=p[1],X=p[2],tt=p[3];else{O=Be(l,t,-C),l=O.x,t=O.y,O=Be(f,d,-C),f=O.x,d=O.y;const br=(l-f)/2,_r=(t-d)/2;let Wn=br*br/(e*e)+_r*_r/(n*n);Wn>1&&(Wn=Math.sqrt(Wn),e=Wn*e,n=Wn*n);const Vi=e*e,$i=n*n,Ns=(s===c?-1:1)*Math.sqrt(Math.abs((Vi*$i-Vi*_r*_r-$i*br*br)/(Vi*_r*_r+$i*br*br)));X=Ns*e*_r/n+(l+f)/2,tt=Ns*-n*br/e+(t+d)/2,F=Math.asin((t-tt)/n),Z=Math.asin((d-tt)/n),F=l<X?Math.PI-F:F,Z=f<X?Math.PI-Z:Z,F<0&&(F=Math.PI*2+F),Z<0&&(Z=Math.PI*2+Z),c&&F>Z&&(F-=Math.PI*2),!c&&Z>F&&(Z-=Math.PI*2)}let ht=Z-F;if(Math.abs(ht)>v){const br=Z,_r=f,Wn=d;Z=F+v*(c&&Z>F?1:-1),f=X+e*Math.cos(Z),d=tt+n*Math.sin(Z),y=Xe(f,d,e,n,r,0,c,_r,Wn,[Z,br,X,tt])}ht=Z-F;const mt=Math.cos(F),Tt=Math.sin(F),Lt=Math.cos(Z),ie=Math.sin(Z),je=Math.tan(ht/4),nn=4/3*(e*je),an=4/3*(n*je),Ye=[l,t],tn=[l+nn*Tt,t-an*mt],mn=[f+nn*ie,d-an*Lt],Pi=[f,d];if(tn[0]=2*Ye[0]-tn[0],tn[1]=2*Ye[1]-tn[1],p)return[tn,mn,Pi].concat(y);{y=[tn,mn,Pi].concat(y).join().split(",");const br=[],_r=y.length;for(let Wn=0;Wn<_r;Wn+=1)br[Wn]=Wn%2?Be(+y[Wn-1],+y[Wn],C).y:Be(+y[Wn],+y[Wn+1],C).x;return br}}function Qn(l){if(!l)return null;const t=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,e=new RegExp(`([a-z])[${t},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${t}]*,?[${t}]*)+)`,"ig"),n=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${t}]*,?[${t}]*`,"ig"),r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=[];return l.replace(e,(c,f,d)=>{const p=[];let v=f.toLowerCase();d.replace(n,(y,O)=>(O&&p.push(+O),y)),v==="m"&&p.length>2&&(s.push([f,...p.splice(0,2)]),v="l",f=f==="m"?"l":"L");const C=r[v];for(;p.length>=C&&(s.push([f,...p.splice(0,C)]),!!C););return c}),s}function Un(l){const t=Qn(l);if(!t||!t.length)return[["M",0,0]];let e=0,n=0,r=0,s=0;const c=[];for(let f=0,d=t.length;f<d;f+=1){const p=[];c.push(p);const v=t[f],C=v[0];if(C!==C.toUpperCase())switch(p[0]=C.toUpperCase(),p[0]){case"A":p[1]=v[1],p[2]=v[2],p[3]=v[3],p[4]=v[4],p[5]=v[5],p[6]=+v[6]+e,p[7]=+v[7]+n;break;case"V":p[1]=+v[1]+n;break;case"H":p[1]=+v[1]+e;break;case"M":r=+v[1]+e,s=+v[2]+n;for(let y=1,O=v.length;y<O;y+=1)p[y]=+v[y]+(y%2?e:n);break;default:for(let y=1,O=v.length;y<O;y+=1)p[y]=+v[y]+(y%2?e:n);break}else for(let y=0,O=v.length;y<O;y+=1)p[y]=v[y];switch(p[0]){case"Z":e=+r,n=+s;break;case"H":e=p[1];break;case"V":n=p[1];break;case"M":r=p[p.length-2],s=p[p.length-1],e=p[p.length-2],n=p[p.length-1];break;default:e=p[p.length-2],n=p[p.length-1];break}}return c}function Dn(l){const t=Un(l),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function n(d,p,v){let C,y;if(!d)return["C",p.x,p.y,p.x,p.y,p.x,p.y];switch(d[0]in{T:1,Q:1}||(p.qx=null,p.qy=null),d[0]){case"M":p.X=d[1],p.Y=d[2];break;case"A":return parseFloat(d[1])===0||parseFloat(d[2])===0?["L",d[6],d[7]]:["C"].concat(Xe.apply(0,[p.x,p.y].concat(d.slice(1))));case"S":return v==="C"||v==="S"?(C=p.x*2-p.bx,y=p.y*2-p.by):(C=p.x,y=p.y),["C",C,y].concat(d.slice(1));case"T":return v==="Q"||v==="T"?(p.qx=p.x*2-p.qx,p.qy=p.y*2-p.qy):(p.qx=p.x,p.qy=p.y),["C"].concat(Mn(p.x,p.y,p.qx,p.qy,d[1],d[2]));case"Q":return p.qx=d[1],p.qy=d[2],["C"].concat(Mn(p.x,p.y,d[1],d[2],d[3],d[4]));case"H":return["L"].concat(d[1],p.y);case"V":return["L"].concat(p.x,d[1]);case"L":break;case"Z":break;default:break}return d}function r(d,p){if(d[p].length>7){d[p].shift();const v=d[p];for(;v.length;)s[p]="A",p+=1,d.splice(p,0,["C"].concat(v.splice(0,6)));d.splice(p,1),f=t.length}}const s=[];let c="",f=t.length;for(let d=0;d<f;d+=1){let p="";t[d]&&(p=t[d][0]),p!=="C"&&(s[d]=p,d>0&&(c=s[d-1])),t[d]=n(t[d],e,c),s[d]!=="A"&&p==="C"&&(s[d]="C"),r(t,d);const v=t[d],C=v.length;e.x=v[C-2],e.y=v[C-1],e.bx=parseFloat(v[C-4])||e.x,e.by=parseFloat(v[C-3])||e.y}return(!t[0][0]||t[0][0]!=="M")&&t.unshift(["M",0,0]),t}function Cn(l){return Dn(l).map(t=>t.map(e=>typeof e=="string"?e:it.round(e,2))).join(",").split(",").join(" ")}class qt extends jt{constructor(t){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(t))if(Ft.isLine(t[0])||oe.isCurve(t[0])){let e=null;t.forEach((r,s)=>{s===0&&this.appendSegment(qt.createSegment("M",r.start)),e!=null&&!e.end.equals(r.start)&&this.appendSegment(qt.createSegment("M",r.start)),Ft.isLine(r)?this.appendSegment(qt.createSegment("L",r.end)):oe.isCurve(r)&&this.appendSegment(qt.createSegment("C",r.controlPoint1,r.controlPoint2,r.end)),e=r})}else t.forEach(n=>{n.isSegment&&this.appendSegment(n)});else t!=null&&(Ft.isLine(t)?(this.appendSegment(qt.createSegment("M",t.start)),this.appendSegment(qt.createSegment("L",t.end))):oe.isCurve(t)?(this.appendSegment(qt.createSegment("M",t.start)),this.appendSegment(qt.createSegment("C",t.controlPoint1,t.controlPoint2,t.end))):te.isPolyline(t)?t.points&&t.points.length&&t.points.forEach((e,n)=>{const r=n===0?qt.createSegment("M",e):qt.createSegment("L",e);this.appendSegment(r)}):t.isSegment&&this.appendSegment(t))}get start(){const t=this.segments,e=t.length;if(e===0)return null;for(let n=0;n<e;n+=1){const r=t[n];if(r.isVisible)return r.start}return t[e-1].end}get end(){const t=this.segments,e=t.length;if(e===0)return null;for(let n=e-1;n>=0;n-=1){const r=t[n];if(r.isVisible)return r.end}return t[e-1].end}moveTo(...t){return this.appendSegment($e.create.call(null,...t))}lineTo(...t){return this.appendSegment($t.create.call(null,...t))}curveTo(...t){return this.appendSegment(ae.create.call(null,...t))}arcTo(t,e,n,r,s,c,f){const d=this.end||new z,p=typeof c=="number"?Kt(d.x,d.y,t,e,n,r,s,c,f):Kt(d.x,d.y,t,e,n,r,s,c.x,c.y);if(p!=null)for(let v=0,C=p.length;v<C;v+=6)this.curveTo(p[v],p[v+1],p[v+2],p[v+3],p[v+4],p[v+5]);return this}quadTo(t,e,n,r){const s=this.end||new z,c=["M",s.x,s.y];if(typeof t=="number")c.push("Q",t,e,n,r);else{const d=e;c.push("Q",t.x,t.y,d.x,d.y)}const f=qt.parse(c.join(" "));return this.appendSegment(f.segments.slice(1)),this}close(){return this.appendSegment(Ve.create())}drawPoints(t,e={}){const n=Se(t,e),r=qt.parse(n);r&&r.segments&&this.appendSegment(r.segments)}bbox(){const t=this.segments,e=t.length;if(e===0)return null;let n;for(let s=0;s<e;s+=1){const c=t[s];if(c.isVisible){const f=c.bbox();f!=null&&(n=n?n.union(f):f)}}if(n!=null)return n;const r=t[e-1];return new Ot(r.end.x,r.end.y,0,0)}appendSegment(t){const e=this.segments.length;let n=e!==0?this.segments[e-1]:null,r;const s=null;if(Array.isArray(t))for(let c=0,f=t.length;c<f;c+=1){const d=t[c];r=this.prepareSegment(d,n,s),this.segments.push(r),n=r}else t!=null&&t.isSegment&&(r=this.prepareSegment(t,n,s),this.segments.push(r));return this}insertSegment(t,e){const n=this.segments.length;if(t<0&&(t=n+t+1),t>n||t<0)throw new Error("Index out of range.");let r,s=null,c=null;if(n!==0&&(t>=1?(s=this.segments[t-1],c=s.nextSegment):(s=null,c=this.segments[0])),!Array.isArray(e))r=this.prepareSegment(e,s,c),this.segments.splice(t,0,r);else for(let f=0,d=e.length;f<d;f+=1){const p=e[f];r=this.prepareSegment(p,s,c),this.segments.splice(t+f,0,r),s=r}return this}removeSegment(t){const e=this.fixIndex(t),n=this.segments.splice(e,1)[0],r=n.previousSegment,s=n.nextSegment;return r&&(r.nextSegment=s),s&&(s.previousSegment=r),n.isSubpathStart&&s&&this.updateSubpathStartSegment(s),n}replaceSegment(t,e){const n=this.fixIndex(t);let r;const s=this.segments[n];let c=s.previousSegment;const f=s.nextSegment;let d=s.isSubpathStart;if(!Array.isArray(e))r=this.prepareSegment(e,c,f),this.segments.splice(n,1,r),d&&r.isSubpathStart&&(d=!1);else{this.segments.splice(t,1);for(let p=0,v=e.length;p<v;p+=1){const C=e[p];r=this.prepareSegment(C,c,f),this.segments.splice(t+p,0,r),c=r,d&&r.isSubpathStart&&(d=!1)}}d&&f&&this.updateSubpathStartSegment(f)}getSegment(t){const e=this.fixIndex(t);return this.segments[e]}fixIndex(t){const e=this.segments.length;if(e===0)throw new Error("Path has no segments.");let n=t;for(;n<0;)n=e+n;if(n>=e||n<0)throw new Error("Index out of range.");return n}segmentAt(t,e={}){const n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null}segmentAtLength(t,e={}){const n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null}segmentIndexAt(t,e={}){if(this.segments.length===0)return null;const n=it.clamp(t,0,1),r=this.getOptions(e),c=this.length(r)*n;return this.segmentIndexAtLength(c,r)}segmentIndexAtLength(t,e={}){const n=this.segments.length;if(n===0)return null;let r=!0;t<0&&(r=!1,t=-t);const s=this.getPrecision(e),c=this.getSubdivisions(e);let f=0,d=null;for(let p=0;p<n;p+=1){const v=r?p:n-1-p,C=this.segments[v],y=c[v],O=C.length({precision:s,subdivisions:y});if(C.isVisible){if(t<=f+O)return v;d=v}f+=O}return d}getSegmentSubdivisions(t={}){const e=this.getPrecision(t),n=[];for(let r=0,s=this.segments.length;r<s;r+=1){const f=this.segments[r].getSubdivisions({precision:e});n.push(f)}return n}updateSubpathStartSegment(t){let e=t.previousSegment,n=t;for(;n&&!n.isSubpathStart;)e!=null?n.subpathStartSegment=e.subpathStartSegment:n.subpathStartSegment=null,e=n,n=n.nextSegment}prepareSegment(t,e,n){t.previousSegment=e,t.nextSegment=n,e!=null&&(e.nextSegment=t),n!=null&&(n.previousSegment=t);let r=t;return t.isSubpathStart&&(t.subpathStartSegment=t,r=n),r!=null&&this.updateSubpathStartSegment(r),t}closestPoint(t,e={}){const n=this.closestPointT(t,e);return n?this.pointAtT(n):null}closestPointLength(t,e={}){const n=this.getOptions(e),r=this.closestPointT(t,n);return r?this.lengthAtT(r,n):0}closestPointNormalizedLength(t,e={}){const n=this.getOptions(e),r=this.closestPointLength(t,n);if(r===0)return 0;const s=this.length(n);return s===0?0:r/s}closestPointT(t,e={}){if(this.segments.length===0)return null;const n=this.getPrecision(e),r=this.getSubdivisions(e);let s,c=1/0;for(let f=0,d=this.segments.length;f<d;f+=1){const p=this.segments[f],v=r[f];if(p.isVisible){const C=p.closestPointT(t,{precision:n,subdivisions:v}),y=p.pointAtT(C),O=it.squaredLength(y,t);O<c&&(s={segmentIndex:f,value:C},c=O)}}return s||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(t,e={}){if(this.segments.length===0)return null;const n=this.getPrecision(e),r=this.getSubdivisions(e);let s,c=1/0;for(let f=0,d=this.segments.length;f<d;f+=1){const p=this.segments[f],v=r[f];if(p.isDifferentiable()){const C=p.closestPointT(t,{precision:n,subdivisions:v}),y=p.pointAtT(C),O=it.squaredLength(y,t);O<c&&(s=p.tangentAtT(C),c=O)}}return s||null}containsPoint(t,e={}){const n=this.toPolylines(e);if(!n)return!1;let r=0;for(let s=0,c=n.length;s<c;s+=1)n[s].containsPoint(t)&&(r+=1);return r%2===1}pointAt(t,e={}){if(this.segments.length===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const n=this.getOptions(e),s=this.length(n)*t;return this.pointAtLength(s,n)}pointAtLength(t,e={}){if(this.segments.length===0)return null;if(t===0)return this.start.clone();let n=!0;t<0&&(n=!1,t=-t);const r=this.getPrecision(e),s=this.getSubdivisions(e);let c,f=0;for(let p=0,v=this.segments.length;p<v;p+=1){const C=n?p:v-1-p,y=this.segments[C],O=s[C],F=y.length({precision:r,subdivisions:O});if(y.isVisible){if(t<=f+F)return y.pointAtLength((n?1:-1)*(t-f),{precision:r,subdivisions:O});c=y}f+=F}return c?n?c.end:c.start:this.segments[this.segments.length-1].end.clone()}pointAtT(t){const e=this.segments,n=e.length;if(n===0)return null;const r=t.segmentIndex;if(r<0)return e[0].pointAtT(0);if(r>=n)return e[n-1].pointAtT(1);const s=it.clamp(t.value,0,1);return e[r].pointAtT(s)}divideAt(t,e={}){if(this.segments.length===0)return null;const n=it.clamp(t,0,1),r=this.getOptions(e),c=this.length(r)*n;return this.divideAtLength(c,r)}divideAtLength(t,e={}){if(this.segments.length===0)return null;let n=!0;t<0&&(n=!1,t=-t);const r=this.getPrecision(e),s=this.getSubdivisions(e);let c=0,f,d,p,v,C;for(let Lt=0,ie=this.segments.length;Lt<ie;Lt+=1){const je=n?Lt:ie-1-Lt,nn=this.getSegment(je),an=s[je],Ye={precision:r,subdivisions:an},tn=nn.length(Ye);if(nn.isDifferentiable()&&(p=nn,v=je,t<=c+tn)){d=je,f=nn.divideAtLength((n?1:-1)*(t-c),Ye);break}c+=tn}if(!p)return null;f||(d=v,C=n?1:0,f=p.divideAtT(C));const y=this.clone(),O=d;y.replaceSegment(O,f);const F=O;let Z=O+1,X=O+2;f[0].isDifferentiable()||(y.removeSegment(F),Z-=1,X-=1);const tt=y.getSegment(Z).start;y.insertSegment(Z,qt.createSegment("M",tt)),X+=1,f[1].isDifferentiable()||(y.removeSegment(X-1),X-=1);const ht=X-F-1;for(let Lt=X,ie=y.segments.length;Lt<ie;Lt+=1){const je=this.getSegment(Lt-ht),nn=y.getSegment(Lt);if(nn.type==="Z"&&!je.subpathStartSegment.end.equals(nn.subpathStartSegment.end)){const an=qt.createSegment("L",je.end);y.replaceSegment(Lt,an)}}const mt=new qt(y.segments.slice(0,Z)),Tt=new qt(y.segments.slice(Z));return[mt,Tt]}intersectsWithLine(t,e={}){const n=this.toPolylines(e);if(n==null)return null;let r=null;for(let s=0,c=n.length;s<c;s+=1){const f=n[s],d=t.intersect(f);d&&(r==null&&(r=[]),Array.isArray(d)?r.push(...d):r.push(d))}return r}isDifferentiable(){for(let t=0,e=this.segments.length;t<e;t+=1)if(this.segments[t].isDifferentiable())return!0;return!1}isValid(){const t=this.segments;return t.length===0||t[0].type==="M"}length(t={}){if(this.segments.length===0)return 0;const e=this.getSubdivisions(t);let n=0;for(let r=0,s=this.segments.length;r<s;r+=1){const c=this.segments[r],f=e[r];n+=c.length({subdivisions:f})}return n}lengthAtT(t,e={}){const n=this.segments.length;if(n===0)return 0;let r=t.segmentIndex;if(r<0)return 0;let s=it.clamp(t.value,0,1);r>=n&&(r=n-1,s=1);const c=this.getPrecision(e),f=this.getSubdivisions(e);let d=0;for(let C=0;C<r;C+=1){const y=this.segments[C],O=f[C];d+=y.length({precision:c,subdivisions:O})}const p=this.segments[r],v=f[r];return d+=p.lengthAtT(s,{precision:c,subdivisions:v}),d}tangentAt(t,e={}){if(this.segments.length===0)return null;const n=it.clamp(t,0,1),r=this.getOptions(e),c=this.length(r)*n;return this.tangentAtLength(c,r)}tangentAtLength(t,e={}){if(this.segments.length===0)return null;let n=!0;t<0&&(n=!1,t=-t);const r=this.getPrecision(e),s=this.getSubdivisions(e);let c,f=0;for(let d=0,p=this.segments.length;d<p;d+=1){const v=n?d:p-1-d,C=this.segments[v],y=s[v],O=C.length({precision:r,subdivisions:y});if(C.isDifferentiable()){if(t<=f+O)return C.tangentAtLength((n?1:-1)*(t-f),{precision:r,subdivisions:y});c=C}f+=O}if(c){const d=n?1:0;return c.tangentAtT(d)}return null}tangentAtT(t){const e=this.segments.length;if(e===0)return null;const n=t.segmentIndex;if(n<0)return this.segments[0].tangentAtT(0);if(n>=e)return this.segments[e-1].tangentAtT(1);const r=it.clamp(t.value,0,1);return this.segments[n].tangentAtT(r)}getPrecision(t={}){return t.precision==null?this.PRECISION:t.precision}getSubdivisions(t={}){if(t.segmentSubdivisions==null){const e=this.getPrecision(t);return this.getSegmentSubdivisions({precision:e})}return t.segmentSubdivisions}getOptions(t={}){const e=this.getPrecision(t),n=this.getSubdivisions(t);return{precision:e,segmentSubdivisions:n}}toPoints(t={}){const e=this.segments,n=e.length;if(n===0)return null;const r=this.getSubdivisions(t),s=[];let c=[];for(let f=0;f<n;f+=1){const d=e[f];if(d.isVisible){const p=r[f];p.length>0?p.forEach(v=>c.push(v.start)):c.push(d.start)}else c.length>0&&(c.push(e[f-1].end),s.push(c),c=[])}return c.length>0&&(c.push(this.end),s.push(c)),s}toPolylines(t={}){const e=this.toPoints(t);return e?e.map(n=>new te(n)):null}scale(t,e,n){return this.segments.forEach(r=>r.scale(t,e,n)),this}rotate(t,e){return this.segments.forEach(n=>n.rotate(t,e)),this}translate(t,e){return typeof t=="number"?this.segments.forEach(n=>n.translate(t,e)):this.segments.forEach(n=>n.translate(t)),this}clone(){const t=new qt;return this.segments.forEach(e=>t.appendSegment(e.clone())),t}equals(t){if(t==null)return!1;const e=this.segments,n=t.segments,r=e.length;if(n.length!==r)return!1;for(let s=0;s<r;s+=1){const c=e[s],f=n[s];if(c.type!==f.type||!c.equals(f))return!1}return!0}toJSON(){return this.segments.map(t=>t.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(t=>t.serialize()).join(" ")}toString(){return this.serialize()}}(function(l){function t(e){return e!=null&&e instanceof l}l.isPath=t})(qt||(qt={})),function(l){function t(n){if(!n)return new l;const r=new l,s=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,c=l.normalize(n).match(s);if(c!=null)for(let f=0,d=c.length;f<d;f+=1){const p=c[f],v=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,C=p.match(v);if(C!=null){const y=C[0],O=C.slice(1).map(Z=>+Z),F=e.call(null,y,...O);r.appendSegment(F)}}return r}l.parse=t;function e(n,...r){if(n==="M")return $e.create.call(null,...r);if(n==="L")return $t.create.call(null,...r);if(n==="C")return ae.create.call(null,...r);if(n==="z"||n==="Z")return Ve.create();throw new Error(`Invalid path segment type "${n}"`)}l.createSegment=e}(qt||(qt={})),function(l){l.normalize=Cn,l.isValid=It,l.drawArc=Bt,l.drawPoints=Se,l.arcToCurves=Kt}(qt||(qt={}));class qe{constructor(t){this.options=Object.assign({},t),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(t,e,n=!1){if(typeof t=="object"){Object.entries(t).forEach(([c,f])=>{this.register(c,f,e)});return}this.exist(t)&&!n&&!b.t4.isApplyingHMR()&&this.onDuplicated(t);const r=this.options.process,s=r?b.Iw.call(r,this,t,e):e;return this.data[t]=s,s}unregister(t){const e=t?this.data[t]:null;return delete this.data[t],e}get(t){return t?this.data[t]:null}exist(t){return t?this.data[t]!=null:!1}onDuplicated(t){try{throw this.options.onConflict&&b.Iw.call(this.options.onConflict,this,t),new Error(`${b.kf.upperFirst(this.options.type)} with name '${t}' already registered.`)}catch(e){throw e}}onNotFound(t,e){throw new Error(this.getSpellingSuggestion(t,e))}getSpellingSuggestion(t,e){const n=this.getSpellingSuggestionForName(t),r=e?`${e} ${b.kf.lowerFirst(this.options.type)}`:this.options.type;return`${b.kf.upperFirst(r)} with name '${t}' does not exist.${n?` Did you mean '${n}'?`:""}`}getSpellingSuggestionForName(t){return b.kf.getSpellingSuggestion(t,Object.keys(this.data),e=>e)}}(function(l){function t(e){return new l(e)}l.create=t})(qe||(qe={}));const on={color:"#aaaaaa",thickness:1,markup:"rect",update(l,t){const e=t.thickness*t.sx,n=t.thickness*t.sy;b.is.attr(l,{width:e,height:n,rx:e,ry:n,fill:t.color})}},pe={color:"#aaaaaa",thickness:1,markup:"rect",update(l,t){const e=t.sx<=1?t.thickness*t.sx:t.thickness;b.is.attr(l,{width:e,height:e,rx:e,ry:e,fill:t.color})}},Fe={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(l,t){let e;const n=t.width,r=t.height,s=t.thickness;n-s>=0&&r-s>=0?e=["M",n,0,"H0 M0 0 V0",r].join(" "):e="M 0 0 0 0",b.is.attr(l,{d:e,stroke:t.color,"stroke-width":t.thickness})}},ne=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(l,t){let e;const n=t.width,r=t.height,s=t.thickness;n-s>=0&&r-s>=0?e=["M",n,0,"H0 M0 0 V0",r].join(" "):e="M 0 0 0 0",b.is.attr(l,{d:e,stroke:t.color,"stroke-width":t.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(l,t){let e;const n=t.factor||1,r=t.width*n,s=t.height*n,c=t.thickness;r-c>=0&&s-c>=0?e=["M",r,0,"H0 M0 0 V0",s].join(" "):e="M 0 0 0 0",t.width=r,t.height=s,b.is.attr(l,{d:e,stroke:t.color,"stroke-width":t.thickness})}}];class Yt{constructor(){this.patterns={},this.root=b.OW.create(b.is.createSvgDocument(),{width:"100%",height:"100%"},[b.is.createSvgElement("defs")]).node}add(t,e){const n=this.root.childNodes[0];n&&n.appendChild(e),this.patterns[t]=e,b.OW.create("rect",{width:"100%",height:"100%",fill:`url(#${t})`}).appendTo(this.root)}get(t){return this.patterns[t]}has(t){return this.patterns[t]!=null}}(function(l){l.presets=R,l.registry=qe.create({type:"grid"}),l.registry.register(l.presets,!0)})(Yt||(Yt={}));const Zt=function(l){const t=document.createElement("canvas"),e=l.width,n=l.height;t.width=e*2,t.height=n;const r=t.getContext("2d");return r.drawImage(l,0,0,e,n),r.translate(2*e,0),r.scale(-1,1),r.drawImage(l,0,0,e,n),t},He=function(l){const t=document.createElement("canvas"),e=l.width,n=l.height;t.width=e,t.height=n*2;const r=t.getContext("2d");return r.drawImage(l,0,0,e,n),r.translate(0,2*n),r.scale(1,-1),r.drawImage(l,0,0,e,n),t},zn=function(l){const t=document.createElement("canvas"),e=l.width,n=l.height;t.width=2*e,t.height=2*n;const r=t.getContext("2d");return r.drawImage(l,0,0,e,n),r.setTransform(-1,0,0,-1,t.width,t.height),r.drawImage(l,0,0,e,n),r.setTransform(-1,0,0,1,t.width,0),r.drawImage(l,0,0,e,n),r.setTransform(1,0,0,-1,0,t.height),r.drawImage(l,0,0,e,n),t},Fn=function(l,t){const e=l.width,n=l.height,r=document.createElement("canvas");r.width=e*3,r.height=n*3;const s=r.getContext("2d"),c=t.angle!=null?-t.angle:-20,f=ot.toRad(c),d=r.width/4,p=r.height/4;for(let v=0;v<4;v+=1)for(let C=0;C<4;C+=1)(v+C)%2>0&&(s.setTransform(1,0,0,1,(2*v-1)*d,(2*C-1)*p),s.rotate(f),s.drawImage(l,-e/2,-n/2,e,n));return r};var jn;(function(l){l.presets=Object.assign({},M),l.presets["flip-x"]=Zt,l.presets["flip-y"]=He,l.presets["flip-xy"]=zn,l.registry=qe.create({type:"background pattern"}),l.registry.register(l.presets,!0)})(jn||(jn={}));function tr(l,t){return l!=null?l:t}function Tn(l,t){return l!=null&&Number.isFinite(l)?l:t}function Rr(l={}){const t=tr(l.color,"blue"),e=Tn(l.width,1),n=Tn(l.margin,2),r=Tn(l.opacity,1),s=n,c=n+e;return`
    <filter>
      <feFlood flood-color="${t}" flood-opacity="${r}" result="colored"/>
      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${c}" />
      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${s}" />
      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>
      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>
      <feMerge>
        <feMergeNode in="outline"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  `.trim()}function Gn(l={}){const t=tr(l.color,"red"),e=Tn(l.blur,0),n=Tn(l.width,1),r=Tn(l.opacity,1);return`
      <filter>
        <feFlood flood-color="${t}" flood-opacity="${r}" result="colored"/>
        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${n}"/>
        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>
        <feGaussianBlur result="blured" in="composed" stdDeviation="${e}"/>
        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>
      </filter>
    `.trim()}function kr(l={}){const t=Tn(l.x,2);return`
    <filter>
      <feGaussianBlur stdDeviation="${l.y!=null&&Number.isFinite(l.y)?[t,l.y]:t}"/>
    </filter>
  `.trim()}function qn(l={}){const t=Tn(l.dx,0),e=Tn(l.dy,0),n=tr(l.color,"black"),r=Tn(l.blur,4),s=Tn(l.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>
         <feDropShadow stdDeviation="${r}" dx="${t}" dy="${e}" flood-color="${n}" flood-opacity="${s}" />
       </filter>`.trim():`<filter>
         <feGaussianBlur in="SourceAlpha" stdDeviation="${r}" />
         <feOffset dx="${t}" dy="${e}" result="offsetblur" />
         <feFlood flood-color="${n}" />
         <feComposite in2="offsetblur" operator="in" />
         <feComponentTransfer>
           <feFuncA type="linear" slope="${s}" />
         </feComponentTransfer>
         <feMerge>
           <feMergeNode/>
           <feMergeNode in="SourceGraphic"/>
         </feMerge>
       </filter>`.trim()}function An(l={}){const t=Tn(l.amount,1),e=.2126+.7874*(1-t),n=.7152-.7152*(1-t),r=.0722-.0722*(1-t),s=.2126-.2126*(1-t),c=.7152+.2848*(1-t),f=.0722-.0722*(1-t),d=.2126-.2126*(1-t),p=.0722+.9278*(1-t);return`
    <filter>
      <feColorMatrix type="matrix" values="${e} ${n} ${r} 0 0 ${s} ${c} ${f} 0 0 ${d} ${n} ${p} 0 0 0 0 0 1 0"/>
    </filter>
  `.trim()}function ir(l={}){const t=Tn(l.amount,1),e=.393+.607*(1-t),n=.769-.769*(1-t),r=.189-.189*(1-t),s=.349-.349*(1-t),c=.686+.314*(1-t),f=.168-.168*(1-t),d=.272-.272*(1-t),p=.534-.534*(1-t),v=.131+.869*(1-t);return`
      <filter>
        <feColorMatrix type="matrix" values="${e} ${n} ${r} 0 0 ${s} ${c} ${f} 0 0 ${d} ${p} ${v} 0 0 0 0 0 1 0"/>
      </filter>
    `.trim()}function Ar(l={}){return`
      <filter>
        <feColorMatrix type="saturate" values="${1-Tn(l.amount,1)}"/>
      </filter>
    `.trim()}function sr(l={}){return`
      <filter>
        <feColorMatrix type="hueRotate" values="${Tn(l.angle,0)}"/>
      </filter>
    `.trim()}function Lr(l={}){const t=Tn(l.amount,1),e=1-t;return`
      <filter>
        <feComponentTransfer>
          <feFuncR type="table" tableValues="${t} ${e}"/>
          <feFuncG type="table" tableValues="${t} ${e}"/>
          <feFuncB type="table" tableValues="${t} ${e}"/>
        </feComponentTransfer>
      </filter>
    `.trim()}function ze(l={}){const t=Tn(l.amount,1);return`
    <filter>
      <feComponentTransfer>
        <feFuncR type="linear" slope="${t}"/>
        <feFuncG type="linear" slope="${t}"/>
        <feFuncB type="linear" slope="${t}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}function dr(l={}){const t=Tn(l.amount,1),e=.5-t/2;return`
    <filter>
     <feComponentTransfer>
        <feFuncR type="linear" slope="${t}" intercept="${e}"/>
        <feFuncG type="linear" slope="${t}" intercept="${e}"/>
        <feFuncB type="linear" slope="${t}" intercept="${e}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}var gr;(function(l){l.presets=nt,l.registry=qe.create({type:"filter"}),l.registry.register(l.presets,!0)})(gr||(gr={}));const Sr={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},lr={},or={position:ni("x","width","origin")},Nr={position:ni("y","height","origin")},Wr={position:ni("x","width","corner")},cr={position:ni("y","height","corner")},Zn={set:ci("width","width")},Pr={set:ci("height","height")},Vr={set:ci("rx","width")},es={set:ci("ry","height")},ai={set:(l=>{const t=ci(l,"width"),e=ci(l,"height");return function(n,r){const s=r.refBBox,c=s.height>s.width?t:e;return b.Iw.call(c,this,n,r)}})("r")},ns={set(l,{refBBox:t}){let e=parseFloat(l);const n=b.GH.isPercentage(l);n&&(e/=100);const r=Math.sqrt(t.height*t.height+t.width*t.width);let s;return Number.isFinite(e)&&(n||e>=0&&e<=1?s=e*r:s=Math.max(e+r,0)),{r:s}}},rs={set:ci("cx","width")},Dr={set:ci("cy","height")},ws={set:ss({resetOffset:!0})},Cs={set:ss({resetOffset:!1})},li={set:Li({resetOffset:!0})},ei={set:Li({resetOffset:!1})},Fr=ai,is=ws,Ai=li,$s=or,Ss=Nr,Gi=Zn,zs=Pr;function ni(l,t,e){return(n,{refBBox:r})=>{if(n==null)return null;let s=parseFloat(n);const c=b.GH.isPercentage(n);c&&(s/=100);let f;if(Number.isFinite(s)){const p=r[e];c||s>0&&s<1?f=p[l]+r[t]*s:f=p[l]+s}const d=new z;return d[l]=f||0,d}}function ci(l,t){return function(e,{refBBox:n}){let r=parseFloat(e);const s=b.GH.isPercentage(e);s&&(r/=100);const c={};if(Number.isFinite(r)){const f=s||r>=0&&r<=1?r*n[t]:Math.max(r+n[t],0);c[l]=f}return c}}function so(l,t){const e="x6-shape",n=t&&t.resetOffset;return function(r,{elem:s,refBBox:c}){let f=b.is.data(s,e);if(!f||f.value!==r){const Z=l(r);f={value:r,shape:Z,shapeBBox:Z.bbox()},b.is.data(s,e,f)}const d=f.shape.clone(),p=f.shapeBBox.clone(),v=p.getOrigin(),C=c.getOrigin();p.x=C.x,p.y=C.y;const y=c.getMaxScaleToFit(p,C),O=p.width===0||c.width===0?1:y.sx,F=p.height===0||c.height===0?1:y.sy;return d.scale(O,F,v),n&&d.translate(-v.x,-v.y),d}}function ss(l){function t(n){return qt.parse(n)}const e=so(t,l);return(n,r)=>({d:e(n,r).serialize()})}function Li(l){const t=so(e=>new te(e),l);return(e,n)=>({points:t(e,n).serialize()})}const ar={qualify:b.QK.isPlainObject,set(l,{view:t}){return`url(#${t.graph.defineGradient(l)})`}},ui={qualify:b.QK.isPlainObject,set(l,{view:t}){const e=t.cell,n=Object.assign({},l);if(e.isEdge()&&n.type==="linearGradient"){const r=t,s=r.sourcePoint,c=r.targetPoint;n.id=`gradient-${n.type}-${e.id}`,n.attrs=Object.assign(Object.assign({},n.attrs),{x1:s.x,y1:s.y,x2:c.x,y2:c.y,gradientUnits:"userSpaceOnUse"}),t.graph.defs.remove(n.id)}return`url(#${t.graph.defineGradient(n)})`}},pr={qualify(l,{attrs:t}){return t.textWrap==null||!b.QK.isPlainObject(t.textWrap)},set(l,{view:t,elem:e,attrs:n}){const r="x6-text",s=b.is.data(e,r),c=v=>{try{return JSON.parse(v)}catch(C){return v}},f={x:n.x,eol:n.eol,annotations:c(n.annotations),textPath:c(n["text-path"]||n.textPath),textVerticalAnchor:n["text-vertical-anchor"]||n.textVerticalAnchor,displayEmpty:(n["display-empty"]||n.displayEmpty)==="true",lineHeight:n["line-height"]||n.lineHeight},d=n["font-size"]||n.fontSize,p=JSON.stringify([l,f]);if(d&&e.setAttribute("font-size",d),s==null||s!==p){const v=f.textPath;if(v!=null&&typeof v=="object"){const C=v.selector;if(typeof C=="string"){const y=t.find(C)[0];y instanceof SVGPathElement&&(b.is.ensureId(y),f.textPath=Object.assign({"xlink:href":`#${y.id}`},v))}}b.is.text(e,`${l}`,f),b.is.data(e,r,p)}}},Yo={qualify:b.QK.isPlainObject,set(l,{view:t,elem:e,attrs:n,refBBox:r}){const s=l,c=s.width||0;b.GH.isPercentage(c)?r.width*=parseFloat(c)/100:c<=0?r.width+=c:r.width=c;const f=s.height||0;b.GH.isPercentage(f)?r.height*=parseFloat(f)/100:f<=0?r.height+=f:r.height=f;let d,p=s.text;p==null&&(p=n.text||(e==null?void 0:e.textContent)),p!=null?d=b.is.breakText(`${p}`,r,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":n["font-size"]||n.fontSize,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight},{ellipsis:s.ellipsis}):d="",b.Iw.call(pr.set,this,d,{view:t,elem:e,attrs:n,refBBox:r,cell:t.cell})}},mr=(l,{attrs:t})=>t.text!==void 0,pa={qualify:mr},Co={qualify:mr},ma={qualify:mr},Ni={qualify:mr},So={qualify:mr},Zs={qualify:mr},va={qualify(l,{elem:t}){return t instanceof SVGElement},set(l,{elem:t}){const e="x6-title",n=`${l}`,r=b.is.data(t,e);if(r==null||r!==n){b.is.data(t,e,n);const s=t.firstChild;if(s&&s.tagName.toUpperCase()==="TITLE"){const c=s;c.textContent=n}else{const c=document.createElementNS(t.namespaceURI,"title");c.textContent=n,t.insertBefore(c,s)}}}},Po={offset:Di("x","width","right")},ya={offset:Di("y","height","bottom")},Jo={offset(l,{refBBox:t}){return l?{x:-t.x,y:-t.y}:{x:0,y:0}}};function Di(l,t,e){return(n,{refBBox:r})=>{const s=new z;let c;return n==="middle"?c=r[t]/2:n===e?c=r[t]:typeof n=="number"&&Number.isFinite(n)?c=n>-1&&n<1?-r[t]*n:-n:b.GH.isPercentage(n)?c=r[t]*parseFloat(n)/100:c=0,s[l]=-(r[l]+c),s}}const rr={qualify:b.QK.isPlainObject,set(l,{elem:t}){b.is.css(t,l)}},Qo={set(l,{elem:t}){t.innerHTML=`${l}`}},Ps={qualify:b.QK.isPlainObject,set(l,{view:t}){return`url(#${t.graph.defineFilter(l)})`}},oo={set(l){return l!=null&&typeof l=="object"&&l.id?l.id:l}};function Oi(l,t,e){let n,r;typeof t=="object"?(n=t.x,r=t.y):(n=t,r=e);const s=qt.parse(l),c=s.bbox();if(c){let f=-c.height/2-c.y,d=-c.width/2-c.x;typeof n=="number"&&(d-=n),typeof r=="number"&&(f-=r),s.translate(d,f)}return s.serialize()}var Hs=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};const Eo=l=>{var{size:t,width:e,height:n,offset:r,open:s}=l,c=Hs(l,["size","width","height","offset","open"]);return wr({size:t,width:e,height:n,offset:r},s===!0,!0,void 0,c)},Ur=l=>{var{size:t,width:e,height:n,offset:r,factor:s}=l,c=Hs(l,["size","width","height","offset","factor"]);return wr({size:t,width:e,height:n,offset:r},!1,!1,s,c)};function wr(l,t,e,n=3/4,r={}){const s=l.size||10,c=l.width||s,f=l.height||s,d=new qt,p={};if(t)d.moveTo(c,0).lineTo(0,f/2).lineTo(c,f),p.fill="none";else{if(d.moveTo(0,f/2),d.lineTo(c,0),!e){const v=b.GH.clamp(n,0,1);d.lineTo(c*v,f/2)}d.lineTo(c,f),d.close()}return Object.assign(Object.assign(Object.assign({},p),r),{tagName:"path",d:Oi(d.serialize(),{x:l.offset!=null?l.offset:-c/2})})}var fi=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};const ao=l=>{var{size:t,width:e,height:n,offset:r}=l,s=fi(l,["size","width","height","offset"]);const c=t||10,f=e||c,d=n||c,p=new qt;return p.moveTo(0,d/2).lineTo(f/2,0).lineTo(f,d/2).lineTo(f/2,d).close(),Object.assign(Object.assign({},s),{tagName:"path",d:Oi(p.serialize(),r==null?-f/2:r)})};var Mi=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};const Ws=l=>{var{d:t,offsetX:e,offsetY:n}=l,r=Mi(l,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},r),{tagName:"path",d:Oi(t,e,n)})};var za=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};const Us=l=>{var{size:t,width:e,height:n,offset:r}=l,s=za(l,["size","width","height","offset"]);const c=t||10,f=e||c,d=n||c,p=new qt;return p.moveTo(0,0).lineTo(f,d).moveTo(0,d).lineTo(f,0),Object.assign(Object.assign({},s),{tagName:"path",fill:"none",d:Oi(p.serialize(),r||-f/2)})};var os=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};const yi=l=>{var{width:t,height:e,offset:n,open:r,flip:s}=l,c=os(l,["width","height","offset","open","flip"]);let f=e||6;const d=t||10,p=r===!0,v=s===!0,C=Object.assign(Object.assign({},c),{tagName:"path"});v&&(f=-f);const y=new qt;return y.moveTo(0,f).lineTo(d,0),p?C.fill="none":(y.lineTo(d,f),y.close()),C.d=Oi(y.serialize(),{x:n||-d/2,y:f/2}),C};var ri=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};const Fi=l=>{var{r:t}=l,e=ri(l,["r"]);const n=t||5;return Object.assign(Object.assign({cx:n},e),{tagName:"circle",r:n})},Gr=l=>{var{r:t}=l,e=ri(l,["r"]);const n=t||5,r=new qt;return r.moveTo(n,0).lineTo(n,n*2),r.moveTo(0,n).lineTo(n*2,n),{children:[Object.assign(Object.assign({},Fi({r:n})),{fill:"none"}),Object.assign(Object.assign({},e),{tagName:"path",d:Oi(r.serialize(),-n)})]}};var kn=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};const as=l=>{var{rx:t,ry:e}=l,n=kn(l,["rx","ry"]);const r=t||5,s=e||5;return Object.assign(Object.assign({cx:r},n),{tagName:"ellipse",rx:r,ry:s})};var hi;(function(l){l.presets=J,l.registry=qe.create({type:"marker"}),l.registry.register(l.presets,!0)})(hi||(hi={})),function(l){l.normalize=Oi}(hi||(hi={}));var ta=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};function Gs(l){return typeof l=="string"||b.QK.isPlainObject(l)}const Ao={qualify:Gs,set(l,{view:t,attrs:e}){return bi("marker-start",l,t,e)}},ea={qualify:Gs,set(l,{view:t,attrs:e}){return bi("marker-end",l,t,e,{transform:"rotate(180)"})}},di={qualify:Gs,set(l,{view:t,attrs:e}){return bi("marker-mid",l,t,e)}};function bi(l,t,e,n,r={}){const s=typeof t=="string"?{name:t}:t,{name:c,args:f}=s,d=ta(s,["name","args"]);let p=d;if(c&&typeof c=="string"){const C=hi.registry.get(c);if(C)p=C(Object.assign(Object.assign({},d),f));else return hi.registry.onNotFound(c)}const v=Object.assign(Object.assign(Object.assign({},Bi(n,l)),r),p);return{[l]:`url(#${e.graph.defineMarker(v)})`}}function Bi(l,t){const e={},n=l.stroke;typeof n=="string"&&(e.stroke=n,e.fill=n);let r=l.strokeOpacity;if(r==null&&(r=l["stroke-opacity"]),r==null&&(r=l.opacity),r!=null&&(e["stroke-opacity"]=r,e["fill-opacity"]=r),t!=="marker-mid"){const s=parseFloat(l.strokeWidth||l["stroke-width"]);if(Number.isFinite(s)&&s>1){const c=Math.ceil(s/2);e.refX=t==="marker-start"?c:-c}}return e}const xi=(l,{view:t})=>t.cell.isEdge(),ls={qualify:xi,set(l,t){var e,n,r,s;const c=t.view,f=l.reverse||!1,d=l.stubs||0;let p;if(Number.isFinite(d)&&d!==0)if(f){let v,C;const y=c.getConnectionLength()||0;d<0?(v=(y+d)/2,C=-d):(v=d,C=y-d*2);const O=c.getConnection();p=(s=(r=(n=(e=O==null?void 0:O.divideAtLength(v))===null||e===void 0?void 0:e[1])===null||n===void 0?void 0:n.divideAtLength(C))===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.serialize()}else{let v;d<0?v=((c.getConnectionLength()||0)+d)/2:v=d;const C=c.getConnection();if(C){const y=C.divideAtLength(v),O=C.divideAtLength(-v);y&&O&&(p=`${y[0].serialize()} ${O[1].serialize()}`)}}return{d:p||c.getConnectionPathData()}}},cs={qualify:xi,set:ut("getTangentAtLength",{rotate:!0})},lo={qualify:xi,set:ut("getTangentAtLength",{rotate:!1})},Es={qualify:xi,set:ut("getTangentAtRatio",{rotate:!0})},Za={qualify:xi,set:ut("getTangentAtRatio",{rotate:!1})},As=cs,ba=Es;function ut(l,t){const e={x:1,y:0};return(n,r)=>{let s,c;const f=r.view,d=f[l](Number(n));return d?(c=t.rotate?d.vector().vectorAngle(e):0,s=d.start):(s=f.path.start,c=0),c===0?{transform:`translate(${s.x},${s.y}')`}:{transform:`translate(${s.x},${s.y}') rotate(${c})`}}}var D;(function(l){function t(e,n,r){return!!(e!=null&&(typeof e=="string"||typeof e.qualify!="function"||b.Iw.call(e.qualify,this,n,r)))}l.isValidDefinition=t})(D||(D={})),function(l){l.presets=Object.assign(Object.assign({},Sr),vt),l.registry=qe.create({type:"attribute definition"}),l.registry.register(l.presets,!0)}(D||(D={}));const A={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,prefix(l){return`${A.prefixCls}-${l}`}},H=A.prefix("highlighted"),B={highlight(l,t,e){const n=e&&e.className||H;b.is.addClass(t,n)},unhighlight(l,t,e){const n=e&&e.className||H;b.is.removeClass(t,n)}},et=A.prefix("highlight-opacity"),lt={highlight(l,t){b.is.addClass(t,et)},unhighlight(l,t){b.is.removeClass(t,et)}};var pt;(function(l){l.normalizeMarker=Oi;function t(y,O){const F=b.is.createSVGPoint(y.x,y.y).matrixTransform(O);return new z(F.x,F.y)}l.transformPoint=t;function e(y,O){return new Ft(t(y.start,O),t(y.end,O))}l.transformLine=e;function n(y,O){let F=y instanceof te?y.points:y;return Array.isArray(F)||(F=[]),new te(F.map(Z=>t(Z,O)))}l.transformPolyline=n;function r(y,O){const Z=b.is.createSvgElement("svg").createSVGPoint();Z.x=y.x,Z.y=y.y;const X=Z.matrixTransform(O);Z.x=y.x+y.width,Z.y=y.y;const tt=Z.matrixTransform(O);Z.x=y.x+y.width,Z.y=y.y+y.height;const ht=Z.matrixTransform(O);Z.x=y.x,Z.y=y.y+y.height;const mt=Z.matrixTransform(O),Tt=Math.min(X.x,tt.x,ht.x,mt.x),Lt=Math.max(X.x,tt.x,ht.x,mt.x),ie=Math.min(X.y,tt.y,ht.y,mt.y),je=Math.max(X.y,tt.y,ht.y,mt.y);return new Ot(Tt,ie,Lt-Tt,je-ie)}l.transformRectangle=r;function s(y,O,F){let Z;const X=y.ownerSVGElement;if(!X)return new Ot(0,0,0,0);try{Z=y.getBBox()}catch(ht){Z={x:y.clientLeft,y:y.clientTop,width:y.clientWidth,height:y.clientHeight}}if(O)return Ot.create(Z);const tt=b.is.getTransformToElement(y,F||X);return r(Z,tt)}l.bbox=s;function c(y,O={}){let F;if(!y.ownerSVGElement||!b.is.isSVGGraphicsElement(y)){if(b.is.isHTMLElement(y)){const{left:ht,top:mt,width:Tt,height:Lt}=f(y);return new Ot(ht,mt,Tt,Lt)}return new Ot(0,0,0,0)}let X=O.target;if(!O.recursive){try{F=y.getBBox()}catch(mt){F={x:y.clientLeft,y:y.clientTop,width:y.clientWidth,height:y.clientHeight}}if(!X)return Ot.create(F);const ht=b.is.getTransformToElement(y,X);return r(F,ht)}{const ht=y.childNodes,mt=ht.length;if(mt===0)return c(y,{target:X});X||(X=y);for(let Tt=0;Tt<mt;Tt+=1){const Lt=ht[Tt];let ie;Lt.childNodes.length===0?ie=c(Lt,{target:X}):ie=c(Lt,{target:X,recursive:!0}),F?F=F.union(ie):F=ie}return F}}l.getBBox=c;function f(y){let O=0,F=0,Z=0,X=0;if(y){let tt=y;for(;tt;)O+=tt.offsetLeft,F+=tt.offsetTop,tt=tt.offsetParent,tt&&(O+=parseInt(b.is.getComputedStyle(tt,"borderLeft"),10),F+=parseInt(b.is.getComputedStyle(tt,"borderTop"),10));Z=y.offsetWidth,X=y.offsetHeight}return{left:O,top:F,width:Z,height:X}}l.getBoundingOffsetRect=f;function d(y){const O=F=>{const Z=y.getAttribute(F),X=Z?parseFloat(Z):0;return Number.isNaN(X)?0:X};switch(y instanceof SVGElement&&y.nodeName.toLowerCase()){case"rect":return new Ot(O("x"),O("y"),O("width"),O("height"));case"circle":return new ke(O("cx"),O("cy"),O("r"),O("r"));case"ellipse":return new ke(O("cx"),O("cy"),O("rx"),O("ry"));case"polyline":{const F=b.is.getPointsFromSvgElement(y);return new te(F)}case"polygon":{const F=b.is.getPointsFromSvgElement(y);return F.length>1&&F.push(F[0]),new te(F)}case"path":{let F=y.getAttribute("d");return qt.isValid(F)||(F=qt.normalize(F)),qt.parse(F)}case"line":return new Ft(O("x1"),O("y1"),O("x2"),O("y2"));default:break}return c(y)}l.toGeometryShape=d;function p(y,O,F,Z){const X=z.create(O),tt=z.create(F);Z||(Z=y instanceof SVGSVGElement?y:y.ownerSVGElement);const ht=b.is.scale(y);y.setAttribute("transform","");const mt=c(y,{target:Z}).scale(ht.sx,ht.sy),Tt=b.is.createSVGTransform();Tt.setTranslate(-mt.x-mt.width/2,-mt.y-mt.height/2);const Lt=b.is.createSVGTransform(),ie=X.angleBetween(tt,X.clone().translate(1,0));ie&&Lt.setRotate(ie,0,0);const je=b.is.createSVGTransform(),nn=X.clone().move(tt,mt.width/2);je.setTranslate(2*X.x-nn.x,2*X.y-nn.y);const an=b.is.getTransformToElement(y,Z),Ye=b.is.createSVGTransform();Ye.setMatrix(je.matrix.multiply(Lt.matrix.multiply(Tt.matrix.multiply(an.scale(ht.sx,ht.sy))))),y.setAttribute("transform",b.is.matrixToTransformString(Ye.matrix))}l.translateAndAutoOrient=p;function v(y){if(y==null)return null;let O=y;do{let F=O.tagName;if(typeof F!="string")return null;if(F=F.toUpperCase(),b.is.hasClass(O,"x6-port"))O=O.nextElementSibling;else if(F==="G")O=O.firstElementChild;else if(F==="TITLE")O=O.nextElementSibling;else break}while(O);return O}l.findShapeNode=v;function C(y){const O=v(y);if(!b.is.isSVGGraphicsElement(O)){if(b.is.isHTMLElement(y)){const{left:X,top:tt,width:ht,height:mt}=f(y);return new Ot(X,tt,ht,mt)}return new Ot(0,0,0,0)}return d(O).bbox()||Ot.create()}l.getBBoxV2=C})(pt||(pt={}));const Mt={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},Nt={highlight(l,t,e){const n=Ct.getHighlighterId(t,e);if(Ct.hasCache(n))return;e=b.QK.defaultsDeep({},e,Mt);const r=b.OW.create(t);let s,c;try{s=r.toPathData()}catch(v){c=pt.bbox(r.node,!0),s=b.is.rectToPathData(Object.assign(Object.assign({},e),c))}const f=b.is.createSvgElement("path");if(b.is.attr(f,Object.assign({d:s,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},e.attrs?b.is.kebablizeAttrs(e.attrs):null)),l.isEdgeElement(t))b.is.attr(f,"d",l.getConnectionPathData());else{let v=r.getTransformToElement(l.container);const C=e.padding;if(C){c==null&&(c=pt.bbox(r.node,!0));const y=c.x+c.width/2,O=c.y+c.height/2;c=pt.transformRectangle(c,v);const F=Math.max(c.width,1),Z=Math.max(c.height,1),X=(F+C)/F,tt=(Z+C)/Z,ht=b.is.createSVGMatrix({a:X,b:0,c:0,d:tt,e:y-X*y,f:O-tt*O});v=v.multiply(ht)}b.is.transform(f,v)}b.is.addClass(f,A.prefix("highlight-stroke"));const d=l.cell,p=()=>Ct.removeHighlighter(n);d.on("removed",p),d.model&&d.model.on("reseted",p),l.container.appendChild(f),Ct.setCache(n,f)},unhighlight(l,t,e){Ct.removeHighlighter(Ct.getHighlighterId(t,e))}};var Ct;(function(l){function t(c,f){return b.is.ensureId(c),c.id+JSON.stringify(f)}l.getHighlighterId=t;const e={};function n(c,f){e[c]=f}l.setCache=n;function r(c){return e[c]!=null}l.hasCache=r;function s(c){const f=e[c];f&&(b.is.remove(f),delete e[c])}l.removeHighlighter=s})(Ct||(Ct={}));var kt;(function(l){function t(e,n){if(typeof n.highlight!="function")throw new Error(`Highlighter '${e}' is missing required \`highlight()\` method`);if(typeof n.unhighlight!="function")throw new Error(`Highlighter '${e}' is missing required \`unhighlight()\` method`)}l.check=t})(kt||(kt={})),function(l){l.presets=q,l.registry=qe.create({type:"highlighter"}),l.registry.register(l.presets,!0)}(kt||(kt={}));function se(l,t={}){return new z(b.GH.normalizePercentage(t.x,l.width),b.GH.normalizePercentage(t.y,l.height))}function We(l,t,e){return Object.assign({angle:t,position:l.toJSON()},e)}const he=(l,t)=>l.map(({x:e,y:n,angle:r})=>We(se(t,{x:e,y:n}),r||0)),le=(l,t,e)=>{const n=e.start||0,r=e.step||20;return Pe(l,t,n,(s,c)=>(s+.5-c/2)*r)},Dt=(l,t,e)=>{const n=e.start||0,r=e.step||360/l.length;return Pe(l,t,n,s=>s*r)};function Pe(l,t,e,n){const r=t.getCenter(),s=t.getTopCenter(),c=t.width/t.height,f=ke.fromRect(t),d=l.length;return l.map((p,v)=>{const C=e+n(v,d),y=s.clone().rotate(-C,r).scale(c,1,r),O=p.compensateRotate?-f.tangentTheta(y):0;return(p.dx||p.dy)&&y.translate(p.dx||0,p.dy||0),p.dr&&y.move(r,p.dr),We(y.round(),O,p)})}var re=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};const _e=(l,t,e)=>{const n=se(t,e.start||t.getOrigin()),r=se(t,e.end||t.getCorner());return un(l,n,r,e)},en=(l,t,e)=>un(l,t.getTopLeft(),t.getBottomLeft(),e),Ue=(l,t,e)=>un(l,t.getTopRight(),t.getBottomRight(),e),gn=(l,t,e)=>un(l,t.getTopLeft(),t.getTopRight(),e),Ge=(l,t,e)=>un(l,t.getBottomLeft(),t.getBottomRight(),e);function un(l,t,e,n){const r=new Ft(t,e),s=l.length;return l.map((c,f)=>{var{strict:d}=c,p=re(c,["strict"]);const v=d||n.strict?(f+1)/(s+1):(f+.5)/s,C=r.pointAt(v);return(p.dx||p.dy)&&C.translate(p.dx||0,p.dy||0),We(C.round(),0,p)})}var me;(function(l){l.presets=K,l.registry=qe.create({type:"port layout"}),l.registry.register(l.presets,!0)})(me||(me={}));const rn={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function Je(l,t){const{x:e,y:n,angle:r,attrs:s}=t||{};return b.QK.defaultsDeep({},{angle:r,attrs:s,position:{x:e,y:n}},l,rn)}const In=(l,t,e)=>Je({position:t.getTopLeft()},e),Pn=(l,t,e)=>Je({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},e),Nn=(l,t,e)=>Je({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},e),bn=(l,t,e)=>Je({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},e),ur=(l,t,e)=>Je({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},e),ii=(l,t,e)=>Oo(l,t,!1,e),co=(l,t,e)=>Oo(l,t,!0,e),us=(l,t,e)=>Mo(l,t,!1,e),na=(l,t,e)=>Mo(l,t,!0,e);function Oo(l,t,e,n){const r=n.offset!=null?n.offset:15,s=t.getCenter().theta(l),c=wi(t);let f,d,p,v,C=0;return s<c[1]||s>c[2]?(f=".3em",d=r,p=0,v="start"):s<c[0]?(f="0",d=0,p=-r,e?(C=-90,v="start"):v="middle"):s<c[3]?(f=".3em",d=-r,p=0,v="end"):(f=".6em",d=0,p=r,e?(C=90,v="start"):v="middle"),Je({position:{x:Math.round(d),y:Math.round(p)},angle:C,attrs:{".":{y:f,"text-anchor":v}}},n)}function Mo(l,t,e,n){const r=n.offset!=null?n.offset:15,s=t.getCenter().theta(l),c=wi(t);let f,d,p,v,C=0;return s<c[1]||s>c[2]?(f=".3em",d=-r,p=0,v="end"):s<c[0]?(f=".6em",d=0,p=r,e?(C=90,v="start"):v="middle"):s<c[3]?(f=".3em",d=r,p=0,v="start"):(f="0em",d=0,p=-r,e?(C=-90,v="start"):v="middle"),Je({position:{x:Math.round(d),y:Math.round(p)},angle:C,attrs:{".":{y:f,"text-anchor":v}}},n)}function wi(l){const t=l.getCenter(),e=t.theta(l.getTopLeft()),n=t.theta(l.getBottomLeft()),r=t.theta(l.getBottomRight()),s=t.theta(l.getTopRight());return[e,s,r,n]}const Kr=(l,t,e)=>To(l.diff(t.getCenter()),!1,e),si=(l,t,e)=>To(l.diff(t.getCenter()),!0,e);function To(l,t,e){const n=e.offset!=null?e.offset:20,r=new z(0,0),s=-l.theta(r),c=l.clone().move(r,n).diff(l).round();let f=".3em",d,p=s;return(s+90)%180===0?(d=t?"end":"middle",!t&&s===-270&&(f="0em")):s>-270&&s<-90?(d="start",p=s-180):d="end",Je({position:c.round().toJSON(),angle:t?p:0,attrs:{".":{y:f,"text-anchor":d}}},e)}var oi;(function(l){l.presets=T,l.registry=qe.create({type:"port label layout"}),l.registry.register(l.presets,!0)})(oi||(oi={}));var xa=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Kn extends b.ew{get priority(){return 2}get disposeContainer(){return!0}constructor(){super(),this.cid=Ks.uniqueId(),Kn.views[this.cid]=this}confirmUpdate(t,e){return 0}empty(t=this.container){return b.is.empty(t),this}unmount(t=this.container){return b.is.remove(t),this}remove(t=this.container){return t===this.container?(this.removeEventListeners(document),this.onRemove(),delete Kn.views[this.cid],this.disposeContainer&&this.unmount(t)):this.unmount(t),this}onRemove(){}setClass(t,e=this.container){e.classList.value=Array.isArray(t)?t.join(" "):t}addClass(t,e=this.container){return b.is.addClass(e,Array.isArray(t)?t.join(" "):t),this}removeClass(t,e=this.container){return b.is.removeClass(e,Array.isArray(t)?t.join(" "):t),this}setStyle(t,e=this.container){return b.is.css(e,t),this}setAttrs(t,e=this.container){return t!=null&&e!=null&&b.is.attr(e,t),this}findAttr(t,e=this.container){let n=e;for(;n&&n.nodeType===1;){const r=n.getAttribute(t);if(r!=null)return r;if(n===this.container)return null;n=n.parentNode}return null}find(t,e=this.container,n=this.selectors){return Kn.find(t,e,n).elems}findOne(t,e=this.container,n=this.selectors){const r=this.find(t,e,n);return r.length>0?r[0]:null}findByAttr(t,e=this.container){let n=e;for(;n&&n.getAttribute;){const r=n.getAttribute(t);if((r!=null||n===this.container)&&r!=="false")return n;n=n.parentNode}return null}getSelector(t,e){let n;if(t===this.container)return typeof e=="string"&&(n=`> ${e}`),n;if(t){const r=b.is.index(t)+1;n=`${t.tagName.toLowerCase()}:nth-child(${r})`,e&&(n+=` > ${e}`),n=this.getSelector(t.parentNode,n)}return n}prefixClassName(t){return A.prefix(t)}delegateEvents(t,e){if(t==null)return this;e||this.undelegateEvents();const n=/^(\S+)\s*(.*)$/;return Object.keys(t).forEach(r=>{const s=r.match(n);if(s==null)return;const c=this.getEventHandler(t[r]);typeof c=="function"&&this.delegateEvent(s[1],s[2],c)}),this}undelegateEvents(){return b.is.Event.off(this.container,this.getEventNamespace()),this}delegateDocumentEvents(t,e){return this.addEventListeners(document,t,e),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(t,e,n){return b.is.Event.on(this.container,t+this.getEventNamespace(),e,n),this}undelegateEvent(t,e,n){const r=t+this.getEventNamespace();return e==null?b.is.Event.off(this.container,r):typeof e=="string"?b.is.Event.off(this.container,r,e,n):b.is.Event.off(this.container,r,e),this}addEventListeners(t,e,n){if(e==null)return this;const r=this.getEventNamespace();return Object.keys(e).forEach(s=>{const c=this.getEventHandler(e[s]);typeof c=="function"&&b.is.Event.on(t,s+r,n,c)}),this}removeEventListeners(t){return t!=null&&b.is.Event.off(t,this.getEventNamespace()),this}getEventNamespace(){return`.${A.prefixCls}-event-${this.cid}`}getEventHandler(t){let e;if(typeof t=="string"){const n=this[t];typeof n=="function"&&(e=(...r)=>n.call(this,...r))}else e=(...n)=>t.call(this,...n);return e}getEventTarget(t,e={}){const{target:n,type:r,clientX:s=0,clientY:c=0}=t;return e.fromPoint||r==="touchmove"||r==="touchend"?document.elementFromPoint(s,c):n}stopPropagation(t){return this.setEventData(t,{propagationStopped:!0}),this}isPropagationStopped(t){return this.getEventData(t).propagationStopped===!0}getEventData(t){return this.eventData(t)}setEventData(t,e){return this.eventData(t,e)}eventData(t,e){if(t==null)throw new TypeError("Event object required");let n=t.data;const r=`__${this.cid}__`;return e==null?n==null?{}:n[r]||{}:(n==null&&(n=t.data={}),n[r]==null?n[r]=Object.assign({},e):n[r]=Object.assign(Object.assign({},n[r]),e),n[r])}normalizeEvent(t){return Kn.normalizeEvent(t)}dispose(){this.remove()}}xa([Kn.dispose()],Kn.prototype,"dispose",null),function(l){function t(r,s){return s?b.is.createSvgElement(r||"g"):b.is.createElementNS(r||"div")}l.createElement=t;function e(r,s,c){if(!r||r===".")return{elems:[s]};if(c){const f=c[r];if(f)return{elems:Array.isArray(f)?f:[f]}}if(A.useCSSSelector){const f=r.includes(">")?`:scope ${r}`:r;return{isCSSSelector:!0,elems:Array.prototype.slice.call(s.querySelectorAll(f))}}return{elems:[]}}l.find=e;function n(r){let s=r;const c=r.originalEvent,f=c&&c.changedTouches&&c.changedTouches[0];if(f){for(const d in r)f[d]===void 0&&(f[d]=r[d]);s=f}return s}l.normalizeEvent=n}(Kn||(Kn={})),function(l){l.views={};function t(e){return l.views[e]||null}l.getView=t}(Kn||(Kn={}));var Ks;(function(l){let t=0;function e(){const n=`v${t}`;return t+=1,n}l.uniqueId=e})(Ks||(Ks={}));class Ha{constructor(t){this.view=t,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new b.Xy,this.pathCache={}}get(t){return this.elemCache.has(t)||this.elemCache.set(t,{}),this.elemCache.get(t)}getData(t){const e=this.get(t);return e.data||(e.data={}),e.data}getMatrix(t){const e=this.get(t);if(e.matrix==null){const n=this.view.container;e.matrix=b.is.getTransformToParentElement(t,n)}return b.is.createSVGMatrix(e.matrix)}getShape(t){const e=this.get(t);return e.shape==null&&(e.shape=pt.toGeometryShape(t)),e.shape.clone()}getBoundingRect(t){const e=this.get(t);return e.boundingRect==null&&(e.boundingRect=pt.getBBoxV2(t)),e.boundingRect.clone()}}var Vn;(function(l){function t(p){return p!=null&&!e(p)}l.isJSONMarkup=t;function e(p){return p!=null&&typeof p=="string"}l.isStringMarkup=e;function n(p){return p==null||e(p)?p:b.QK.cloneDeep(p)}l.clone=n;function r(p){return`${p}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")}l.sanitize=r;function s(p,v={ns:b.is.ns.svg}){const C=document.createDocumentFragment(),y={},O={},F=[{markup:Array.isArray(p)?p:[p],parent:C,ns:v.ns}];for(;F.length>0;){const Z=F.pop();let X=Z.ns||b.is.ns.svg;const tt=Z.markup,ht=Z.parent;tt.forEach(mt=>{const Tt=mt.tagName;if(!Tt)throw new TypeError("Invalid tagName");mt.ns&&(X=mt.ns);const Lt=X?b.is.createElementNS(Tt,X):b.is.createElement(Tt),ie=mt.attrs;ie&&b.is.attr(Lt,b.is.kebablizeAttrs(ie));const je=mt.style;je&&b.is.css(Lt,je);const nn=mt.className;nn!=null&&Lt.setAttribute("class",Array.isArray(nn)?nn.join(" "):nn),mt.textContent&&(Lt.textContent=mt.textContent);const an=mt.selector;if(an!=null){if(O[an])throw new TypeError("Selector must be unique");O[an]=Lt}if(mt.groupSelector){let tn=mt.groupSelector;Array.isArray(tn)||(tn=[tn]),tn.forEach(mn=>{y[mn]||(y[mn]=[]),y[mn].push(Lt)})}ht.appendChild(Lt);const Ye=mt.children;Array.isArray(Ye)&&F.push({ns:X,markup:Ye,parent:Lt})})}return Object.keys(y).forEach(Z=>{if(O[Z])throw new Error("Ambiguous group selector");O[Z]=y[Z]}),{fragment:C,selectors:O,groups:y}}l.parseJSONMarkup=s;function c(p){return p instanceof SVGElement?b.is.createSvgElement("g"):b.is.createElement("div")}function f(p){if(e(p)){const O=b.OW.createVectors(p),F=O.length;if(F===1)return{elem:O[0].node};if(F>1){const Z=c(O[0].node);return O.forEach(X=>{Z.appendChild(X.node)}),{elem:Z}}return{}}const v=s(p),C=v.fragment;let y=null;return C.childNodes.length>1?(y=c(C.firstChild),y.appendChild(C)):y=C.firstChild,{elem:y,selectors:v.selectors}}l.renderMarkup=f;function d(p){const v=b.OW.createVectors(p),C=document.createDocumentFragment();for(let y=0,O=v.length;y<O;y+=1){const F=v[y].node;C.appendChild(F)}return{fragment:C,selectors:{}}}l.parseLabelStringMarkup=d})(Vn||(Vn={})),function(l){function t(e,n,r){if(e!=null){let s;const c=e.tagName.toLowerCase();if(e===n)return typeof r=="string"?s=`> ${c} > ${r}`:s=`> ${c}`,s;const f=e.parentNode;if(f&&f.childNodes.length>1){const d=b.is.index(e)+1;s=`${c}:nth-child(${d})`}else s=c;return r&&(s+=` > ${r}`),t(e.parentNode,n,s)}return r}l.getSelector=t}(Vn||(Vn={})),function(l){function t(){return"g"}l.getPortContainerMarkup=t;function e(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}}l.getPortMarkup=e;function n(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}l.getPortLabelMarkup=n}(Vn||(Vn={})),function(l){function t(){return[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}]}l.getEdgeMarkup=t}(Vn||(Vn={})),function(l){function t(e=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:b.is.ns.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:b.is.ns.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:e?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}l.getForeignObjectMarkup=t}(Vn||(Vn={}));class Os{constructor(t){this.view=t}get cell(){return this.view.cell}getDefinition(t){return this.cell.getAttrDefinition(t)}processAttrs(t,e){let n,r,s,c;const f=[];return Object.keys(e).forEach(d=>{const p=e[d],v=this.getDefinition(d),C=b.Iw.call(D.isValidDefinition,this.view,v,p,{elem:t,attrs:e,cell:this.cell,view:this.view});if(v&&C)typeof v=="string"?(n==null&&(n={}),n[v]=p):p!==null&&f.push({name:d,definition:v});else{n==null&&(n={});const y=b.is.CASE_SENSITIVE_ATTR.includes(d)?d:b.kf.kebabCase(d);n[y]=p}}),f.forEach(({name:d,definition:p})=>{const v=e[d];typeof p.set=="function"&&(r==null&&(r={}),r[d]=v),typeof p.offset=="function"&&(s==null&&(s={}),s[d]=v),typeof p.position=="function"&&(c==null&&(c={}),c[d]=v)}),{raw:e,normal:n,set:r,offset:s,position:c}}mergeProcessedAttrs(t,e){t.set=Object.assign(Object.assign({},t.set),e.set),t.position=Object.assign(Object.assign({},t.position),e.position),t.offset=Object.assign(Object.assign({},t.offset),e.offset);const n=t.normal&&t.normal.transform;n!=null&&e.normal&&(e.normal.transform=n),t.normal=e.normal}findAttrs(t,e,n,r){const s=[],c=new b.Xy;return Object.keys(t).forEach(f=>{const d=t[f];if(!b.QK.isPlainObject(d))return;const{isCSSSelector:p,elems:v}=Kn.find(f,e,r);n[f]=v;for(let C=0,y=v.length;C<y;C+=1){const O=v[C],F=r&&r[f]===O,Z=c.get(O);if(Z){Z.array||(s.push(O),Z.array=!0,Z.attrs=[Z.attrs],Z.priority=[Z.priority]);const X=Z.attrs,tt=Z.priority;if(F)X.unshift(d),tt.unshift(-1);else{const ht=b.RO.sortedIndex(tt,p?-1:y);X.splice(ht,0,d),tt.splice(ht,0,y)}}else c.set(O,{elem:O,attrs:d,priority:F?-1:y,array:!1})}}),s.forEach(f=>{const d=c.get(f),p=d.attrs;d.attrs=p.reduceRight((v,C)=>b.QK.merge(v,C),{})}),c}updateRelativeAttrs(t,e,n){const r=e.raw||{};let s=e.normal||{};const c=e.set,f=e.position,d=e.offset,p=()=>({elem:t,cell:this.cell,view:this.view,attrs:r,refBBox:n.clone()});if(c!=null&&Object.keys(c).forEach(X=>{const tt=c[X],ht=this.getDefinition(X);if(ht!=null){const mt=b.Iw.call(ht.set,this.view,tt,p());typeof mt=="object"?s=Object.assign(Object.assign({},s),mt):mt!=null&&(s[X]=mt)}}),t instanceof HTMLElement){this.view.setAttrs(s,t);return}const v=s.transform,C=v?`${v}`:null,y=b.is.transformStringToMatrix(C),O=new z(y.e,y.f);v&&(delete s.transform,y.e=0,y.f=0);let F=!1;f!=null&&Object.keys(f).forEach(X=>{const tt=f[X],ht=this.getDefinition(X);if(ht!=null){const mt=b.Iw.call(ht.position,this.view,tt,p());mt!=null&&(F=!0,O.translate(z.create(mt)))}}),this.view.setAttrs(s,t);let Z=!1;if(d!=null){const X=this.view.getBoundingRectOfElement(t);if(X.width>0&&X.height>0){const tt=pt.transformRectangle(X,y);Object.keys(d).forEach(ht=>{const mt=d[ht],Tt=this.getDefinition(ht);if(Tt!=null){const Lt=b.Iw.call(Tt.offset,this.view,mt,{elem:t,cell:this.cell,view:this.view,attrs:r,refBBox:tt});Lt!=null&&(Z=!0,O.translate(z.create(Lt)))}})}}(v!=null||F||Z)&&(O.round(1),y.e=O.x,y.f=O.y,t.setAttribute("transform",b.is.matrixToTransformString(y)))}update(t,e,n){const r={},s=this.findAttrs(n.attrs||e,t,r,n.selectors),c=n.attrs?this.findAttrs(e,t,r,n.selectors):s,f=[];s.each(v=>{const C=v.elem,y=v.attrs,O=this.processAttrs(C,y);if(O.set==null&&O.position==null&&O.offset==null)this.view.setAttrs(O.normal,C);else{const F=c.get(C),Z=F?F.attrs:null,X=Z&&y.ref==null?Z.ref:y.ref;let tt;if(X){if(tt=(r[X]||this.view.find(X,t,n.selectors))[0],!tt)throw new Error(`"${X}" reference does not exist.`)}else tt=null;const ht={node:C,refNode:tt,attributes:Z,processedAttributes:O},mt=f.findIndex(Tt=>Tt.refNode===C);mt>-1?f.splice(mt,0,ht):f.push(ht)}});const d=new b.Xy;let p;f.forEach(v=>{const C=v.node,y=v.refNode;let O;const F=y!=null&&n.rotatableNode!=null&&b.is.contains(n.rotatableNode,y);if(y&&(O=d.get(y)),!O){const tt=F?n.rotatableNode:t;O=y?pt.getBBox(y,{target:tt}):n.rootBBox,y&&d.set(y,O)}let Z;n.attrs&&v.attributes?(Z=this.processAttrs(C,v.attributes),this.mergeProcessedAttrs(Z,v.processedAttributes)):Z=v.processedAttributes;let X=O;F&&n.rotatableNode!=null&&!n.rotatableNode.contains(C)&&(p||(p=b.is.transformStringToMatrix(b.is.attr(n.rotatableNode,"transform"))),X=pt.transformRectangle(O,p)),this.updateRelativeAttrs(C,Z,X)})}}class ra{get cell(){return this.view.cell}constructor(t,e,n=[]){this.view=t;const r={},s={};let c=0;Object.keys(e).forEach(d=>{let p=e[d];Array.isArray(p)||(p=[p]),p.forEach(v=>{let C=r[v];C||(c+=1,C=r[v]=1<<c),s[d]|=C})});let f=n;if(Array.isArray(f)||(f=[f]),f.forEach(d=>{r[d]||(c+=1,r[d]=1<<c)}),c>25)throw new Error("Maximum number of flags exceeded.");this.flags=r,this.attrs=s,this.bootstrap=n}getFlag(t){const e=this.flags;return e==null?0:Array.isArray(t)?t.reduce((n,r)=>n|e[r],0):e[t]|0}hasAction(t,e){return t&this.getFlag(e)}removeAction(t,e){return t^t&this.getFlag(e)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let t=0;return this.attrs&&Object.keys(this.attrs).forEach(e=>{this.cell.hasChanged(e)&&(t|=this.attrs[e])}),t}}var yl=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},Wa=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};class Rn extends Kn{static getDefaults(){return this.defaults}static config(t){this.defaults=this.getOptions(t)}static getOptions(t){const e=(p,v)=>v!=null?b.RO.uniq([...Array.isArray(p)?p:[p],...Array.isArray(v)?v:[v]]):Array.isArray(p)?[...p]:[p],n=b.QK.cloneDeep(this.getDefaults()),{bootstrap:r,actions:s,events:c,documentEvents:f}=t,d=Wa(t,["bootstrap","actions","events","documentEvents"]);return r&&(n.bootstrap=e(n.bootstrap,r)),s&&Object.entries(s).forEach(([p,v])=>{const C=n.actions[p];v&&C?n.actions[p]=e(C,v):v&&(n.actions[p]=e(v))}),c&&(n.events=Object.assign(Object.assign({},n.events),c)),t.documentEvents&&(n.documentEvents=Object.assign(Object.assign({},n.documentEvents),f)),b.QK.merge(n,d)}get[Symbol.toStringTag](){return Rn.toStringTag}constructor(t,e={}){super(),this.cell=t,this.options=this.ensureOptions(e),this.graph=this.options.graph,this.attr=new Os(this),this.flag=new ra(this,this.options.actions,this.options.bootstrap),this.cache=new Ha(this),this.setContainer(this.ensureContainer()),this.setup(),this.init()}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(t){return this.getConstructor().getOptions(t)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return Kn.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(t){if(this.container!==t){this.undelegateEvents(),this.container=t,this.options.events!=null&&this.delegateEvents(this.options.events);const e=this.getContainerAttrs();e!=null&&this.setAttrs(e,t);const n=this.getContainerStyle();n!=null&&this.setStyle(n,t);const r=this.getContainerClassName();r!=null&&this.addClass(r,t)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(t,e={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(t){return this.flag.getFlag(t)}hasAction(t,e){return this.flag.hasAction(t,e)}removeAction(t,e){return this.flag.removeAction(t,e)}handleAction(t,e,n,r){if(this.hasAction(t,e)){n();const s=[e];return r&&(typeof r=="string"?s.push(r):s.push(...r)),this.removeAction(t,s)}return t}setup(){this.cell.on("changed",this.onCellChanged,this)}onCellChanged({options:t}){this.onAttrsChange(t)}onAttrsChange(t){let e=this.flag.getChangedFlag();t.updated||!e||(t.dirty&&this.hasAction(e,"update")&&(e|=this.getFlag("render")),t.toolId&&(t.async=!1),this.graph!=null&&this.graph.renderer.requestViewUpdate(this,e,t))}parseJSONMarkup(t,e){const n=Vn.parseJSONMarkup(t),r=n.selectors,s=this.rootSelector;if(e&&s){if(r[s])throw new Error("Invalid root selector");r[s]=e}return n}can(t){let e=this.graph.options.interacting;if(typeof e=="function"&&(e=b.Iw.call(e,this.graph,this)),typeof e=="object"){let n=e[t];return typeof n=="function"&&(n=b.Iw.call(n,this.graph,this)),n!==!1}return typeof e=="boolean"?e:!1}cleanCache(){return this.cache.clean(),this}getCache(t){return this.cache.get(t)}getDataOfElement(t){return this.cache.getData(t)}getMatrixOfElement(t){return this.cache.getMatrix(t)}getShapeOfElement(t){return this.cache.getShape(t)}getBoundingRectOfElement(t){return this.cache.getBoundingRect(t)}getBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),n=this.getMatrixOfElement(t),r=this.getRootRotatedMatrix(),s=this.getRootTranslatedMatrix();return pt.transformRectangle(e,s.multiply(r).multiply(n))}getUnrotatedBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),n=this.getMatrixOfElement(t),r=this.getRootTranslatedMatrix();return pt.transformRectangle(e,r.multiply(n))}getBBox(t={}){let e;if(t.useCellGeometry){const n=this.cell,r=n.isNode()?n.getAngle():0;e=n.getBBox().bbox(r)}else e=this.getBBoxOfElement(this.container);return this.graph.coord.localToGraphRect(e)}getRootTranslatedMatrix(){const t=this.cell,e=t.isNode()?t.getPosition():{x:0,y:0};return b.is.createSVGMatrix().translate(e.x,e.y)}getRootRotatedMatrix(){let t=b.is.createSVGMatrix();const e=this.cell,n=e.isNode()?e.getAngle():0;if(n){const r=e.getBBox(),s=r.width/2,c=r.height/2;t=t.translate(s,c).rotate(n).translate(-s,-c)}return t}findMagnet(t=this.container){return this.findByAttr("magnet",t)}updateAttrs(t,e,n={}){n.rootBBox==null&&(n.rootBBox=new Ot),n.selectors==null&&(n.selectors=this.selectors),this.attr.update(t,e,n)}isEdgeElement(t){return this.cell.isEdge()&&(t==null||t===this.container)}prepareHighlight(t,e={}){const n=t||this.container;return e.partial=n===this.container,n}highlight(t,e={}){const n=this.prepareHighlight(t,e);return this.notify("cell:highlight",{magnet:n,options:e,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:n,options:e,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:n,options:e,view:this,node:this.cell,cell:this.cell}),this}unhighlight(t,e={}){const n=this.prepareHighlight(t,e);return this.notify("cell:unhighlight",{magnet:n,options:e,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:n,options:e,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:n,options:e,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(t,e){}getEdgeTerminal(t,e,n,r,s){const c=this.cell,f=this.findAttr("port",t),d=t.getAttribute("data-selector"),p={cell:c.id};return d!=null&&(p.magnet=d),f!=null?(p.port=f,c.isNode()&&!c.hasPort(f)&&d==null&&(p.selector=this.getSelector(t))):d==null&&this.container!==t&&(p.selector=this.getSelector(t)),p}getMagnetFromEdgeTerminal(t){const e=this.cell,n=this.container,r=t.port;let s=t.magnet,c;return r!=null&&e.isNode()&&e.hasPort(r)?c=this.findPortElem(r,s)||n:(s||(s=t.selector),!s&&r!=null&&(s=`[port="${r}"]`),c=this.findOne(s,n,this.selectors)),c}hasTools(t){const e=this.tools;return e==null?!1:t==null?!0:e.name===t}addTools(t){if(this.removeTools(),t){if(!this.can("toolsAddable"))return this;const e=vr.isToolsView(t)?t:new vr(t);this.tools=e,e.config({view:this}),e.mount()}return this}updateTools(t={}){return this.tools&&this.tools.update(t),this}removeTools(){return this.tools&&(this.tools.remove(),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const t=this.cell.getTools();return this.addTools(t),this}notify(t,e){return this.trigger(t,e),this.graph.trigger(t,e),this}getEventArgs(t,e,n){const r=this,s=r.cell;return e==null||n==null?{e:t,view:r,cell:s}:{e:t,x:e,y:n,view:r,cell:s}}onClick(t,e,n){this.notify("cell:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){this.notify("cell:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){this.notify("cell:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(t,e,n))}onMouseUp(t,e,n){this.notify("cell:mouseup",this.getEventArgs(t,e,n)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(t,e,n){this.notify("cell:mousemove",this.getEventArgs(t,e,n))}onMouseOver(t){this.notify("cell:mouseover",this.getEventArgs(t))}onMouseOut(t){this.notify("cell:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.notify("cell:mouseenter",this.getEventArgs(t))}onMouseLeave(t){this.notify("cell:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,r){this.notify("cell:mousewheel",Object.assign({delta:r},this.getEventArgs(t,e,n)))}onCustomEvent(t,e,n,r){this.notify("cell:customevent",Object.assign({name:e},this.getEventArgs(t,n,r))),this.notify(e,Object.assign({},this.getEventArgs(t,n,r)))}onMagnetMouseDown(t,e,n,r){}onMagnetDblClick(t,e,n,r){}onMagnetContextMenu(t,e,n,r){}onLabelMouseDown(t,e,n){}checkMouseleave(t){const e=this.getEventTarget(t,{fromPoint:!0}),n=this.graph.findViewByElem(e);n!==this&&(this.onMouseLeave(t),n&&n.onMouseEnter(t))}dispose(){this.cell.off("changed",this.onCellChanged,this)}}Rn.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}},yl([Rn.dispose()],Rn.prototype,"dispose",null),function(l){l.Flag=ra,l.Attr=Os}(Rn||(Rn={})),function(l){l.toStringTag=`X6.${l.name}`;function t(e){if(e==null)return!1;if(e instanceof l)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===l.toStringTag)&&typeof r.isNodeView=="function"&&typeof r.isEdgeView=="function"&&typeof r.confirmUpdate=="function"}l.isCellView=t}(Rn||(Rn={})),function(l){function t(n){return function(r){r.config({priority:n})}}l.priority=t;function e(n){return function(r){r.config({bootstrap:n})}}l.bootstrap=e}(Rn||(Rn={})),function(l){l.registry=qe.create({type:"view"})}(Rn||(Rn={}));class vr extends Kn{get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return vr.toStringTag}constructor(t={}){super(),this.svgContainer=this.createContainer(!0,t),this.htmlContainer=this.createContainer(!1,t),this.config(t)}createContainer(t,e){const n=t?Kn.createElement("g",!0):Kn.createElement("div",!1);return b.is.addClass(n,this.prefixClassName("cell-tools")),e.className&&b.is.addClass(n,e.className),n}config(t){if(this.options=Object.assign(Object.assign({},this.options),t),!Rn.isCellView(t.view)||t.view===this.cellView)return this;this.cellView=t.view,this.cell.isEdge()?(b.is.addClass(this.svgContainer,this.prefixClassName("edge-tools")),b.is.addClass(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(b.is.addClass(this.svgContainer,this.prefixClassName("node-tools")),b.is.addClass(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const e=this.options.items;if(!Array.isArray(e))return this;this.tools=[];const n=[];e.forEach(r=>{vr.ToolItem.isToolItem(r)?r.name==="vertices"?n.unshift(r):n.push(r):(typeof r=="object"?r.name:r)==="vertices"?n.unshift(r):n.push(r)});for(let r=0;r<n.length;r+=1){const s=n[r];let c;if(vr.ToolItem.isToolItem(s))c=s;else{const f=typeof s=="object"?s.name:s,d=typeof s=="object"?s.args||{}:{};if(f){if(this.cell.isNode()){const p=hn.registry.get(f);if(p)c=new p(d);else return hn.registry.onNotFound(f)}else if(this.cell.isEdge()){const p=Le.registry.get(f);if(p)c=new p(d);else return Le.registry.onNotFound(f)}}}c&&(c.config(this.cellView,this),c.render(),(c.options.isSVGElement!==!1?this.svgContainer:this.htmlContainer).appendChild(c.container),this.tools.push(c))}return this}update(t={}){const e=this.tools;return e&&e.forEach(n=>{t.toolId!==n.cid&&n.isVisible()&&n.update()}),this}focus(t){const e=this.tools;return e&&e.forEach(n=>{t===n?n.show():n.hide()}),this}blur(t){const e=this.tools;return e&&e.forEach(n=>{n!==t&&!n.isVisible()&&(n.show(),n.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const t=this.tools;return t&&(t.forEach(e=>e.remove()),this.tools=null),b.is.remove(this.svgContainer),b.is.remove(this.htmlContainer),super.remove()}mount(){const t=this.tools,e=this.cellView;if(e&&t){const n=t.some(s=>s.options.isSVGElement!==!1),r=t.some(s=>s.options.isSVGElement===!1);n&&(this.options.local?e.container:e.graph.view.decorator).appendChild(this.svgContainer),r&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(l){l.toStringTag=`X6.${l.name}`;function t(e){if(e==null)return!1;if(e instanceof l)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===l.toStringTag)&&r.graph!=null&&r.cell!=null&&typeof r.config=="function"&&typeof r.update=="function"&&typeof r.focus=="function"&&typeof r.blur=="function"&&typeof r.show=="function"&&typeof r.hide=="function"}l.isToolsView=t})(vr||(vr={})),function(l){class t extends Kn{static getDefaults(){return this.defaults}static config(n){this.defaults=this.getOptions(n)}static getOptions(n){return b.QK.merge(b.QK.cloneDeep(this.getDefaults()),n)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return t.toStringTag}constructor(n={}){super(),this.visible=!0,this.options=this.getOptions(n),this.container=Kn.createElement(this.options.tagName||"g",this.options.isSVGElement!==!1),b.is.addClass(this.container,this.prefixClassName("cell-tool")),typeof this.options.className=="string"&&b.is.addClass(this.container,this.options.className),this.init()}init(){}getOptions(n){return this.constructor.getOptions(n)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(n,r){return this.cellView=n,this.parent=r,this.stamp(this.container),this.cell.isEdge()?b.is.addClass(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&b.is.addClass(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const n=this.options.markup;if(n){const r=Vn.parseJSONMarkup(n);this.container.appendChild(r.fragment),this.childNodes=r.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(n){n&&n.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return this.visible}focus(){const n=this.options.focusOpacity;return n!=null&&Number.isFinite(n)&&(this.container.style.opacity=`${n}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(n){return this.graph==null||this.cellView==null?!0:this.graph.view.guard(n,this.cellView)}}t.defaults={isSVGElement:!0,tagName:"g"},l.ToolItem=t,function(e){let n=0;function r(c){return c?b.kf.pascalCase(c):(n+=1,`CustomTool${n}`)}function s(c){const f=b.QK.createClass(r(c.name),this);return f.config(c),f}e.define=s}(t=l.ToolItem||(l.ToolItem={})),function(e){e.toStringTag=`X6.${e.name}`;function n(r){if(r==null)return!1;if(r instanceof e)return!0;const s=r[Symbol.toStringTag],c=r;return(s==null||s===e.toStringTag)&&c.graph!=null&&c.cell!=null&&typeof c.config=="function"&&typeof c.update=="function"&&typeof c.focus=="function"&&typeof c.blur=="function"&&typeof c.show=="function"&&typeof c.hide=="function"&&typeof c.isVisible=="function"}e.isToolItem=n}(t=l.ToolItem||(l.ToolItem={}))}(vr||(vr={}));const Ci=l=>l;function wa(l,t){return t===0?"0%":`${Math.round(l/t*100)}%`}function fs(l){return(e,n,r,s)=>n.isEdgeElement(r)?Ca(l,e,n,r,s):Gl(l,e,n,r,s)}function Gl(l,t,e,n,r){const s=e.cell,c=s.getAngle(),f=e.getUnrotatedBBoxOfElement(n),d=s.getBBox().getCenter(),p=z.create(r).rotate(c,d);let v=p.x-f.x,C=p.y-f.y;return l&&(v=wa(v,f.width),C=wa(C,f.height)),t.anchor={name:"topLeft",args:{dx:v,dy:C,rotate:!0}},t}function Ca(l,t,e,n,r){const s=e.getConnection();if(!s)return t;const c=s.closestPointLength(r);if(l){const f=s.length();t.anchor={name:"ratio",args:{ratio:c/f}}}else t.anchor={name:"length",args:{length:c}};return t}const Sa=fs(!0),bl=fs(!1);var Ua;(function(l){l.presets=x,l.registry=qe.create({type:"connection strategy"}),l.registry.register(l.presets,!0)})(Ua||(Ua={}));function Ms(l,t,e,n){return b.Iw.call(Ua.presets.pinRelative,this.graph,{},t,e,l,this.cell,n,{}).anchor}function xl(l,t){return t?l.cell.getBBox():l.cell.isEdge()?l.getConnection().bbox():l.getUnrotatedBBoxOfElement(l.container)}class U extends vr.ToolItem{onRender(){b.is.addClass(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const e=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();b.is.transform(this.container,e,{absolute:!0})}getNodeMatrix(){const t=this.cellView,e=this.options;let{x:n=0,y:r=0}=e;const{offset:s,useCellGeometry:c,rotate:f}=e;let d=xl(t,c);const p=t.cell.getAngle();f||(d=d.bbox(p));let v=0,C=0;typeof s=="number"?(v=s,C=s):typeof s=="object"&&(v=s.x,C=s.y),n=b.GH.normalizePercentage(n,d.width),r=b.GH.normalizePercentage(r,d.height);let y=b.is.createSVGMatrix().translate(d.x+d.width/2,d.y+d.height/2);return f&&(y=y.rotate(p)),y=y.translate(n+v-d.width/2,r+C-d.height/2),y}getEdgeMatrix(){const t=this.cellView,e=this.options,{offset:n=0,distance:r=0,rotate:s}=e;let c,f,d;const p=b.GH.normalizePercentage(r,1);p>=0&&p<=1?c=t.getTangentAtRatio(p):c=t.getTangentAtLength(p),c?(f=c.start,d=c.vector().vectorAngle(new z(1,0))||0):(f=t.getConnection().start,d=0);let v=b.is.createSVGMatrix().translate(f.x,f.y).rotate(d);return typeof n=="object"?v=v.translate(n.x||0,n.y||0):v=v.translate(0,n),s||(v=v.rotate(-d)),v}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.options.onClick;typeof e=="function"&&b.Iw.call(e,this.cellView,{e:t,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(l){l.config({name:"button",useCellGeometry:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(U||(U={})),function(l){l.Remove=l.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,useCellGeometry:!0,onClick({view:t,btn:e}){e.parent.remove(),t.cell.remove({ui:!0,toolId:e.cid})}})}(U||(U={}));var st=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};class at extends vr.ToolItem{onRender(){if(b.is.addClass(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const t=this.options.attrs,{class:e}=t,n=st(t,["class"]);b.is.attr(this.container,b.is.kebablizeAttrs(n)),e&&b.is.addClass(this.container,e)}this.update()}update(){const t=this.cellView,e=this.options,{useCellGeometry:n,rotate:r}=e,s=b.GH.normalizeSides(e.padding);let c=xl(t,n).moveAndExpand({x:-s.left,y:-s.top,width:s.left+s.right,height:s.top+s.bottom});const f=t.cell;if(f.isNode()){const d=f.getAngle();if(d)if(r){const p=f.getBBox().getCenter();b.is.rotate(this.container,d,p.x,p.y,{absolute:!0})}else c=c.bbox(d)}return b.is.attr(this.container,c.toJSON()),this}}(function(l){l.config({name:"boundary",tagName:"rect",padding:10,useCellGeometry:!0,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})})(at||(at={}));class ft extends vr.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(e=>{this.stopHandleListening(e),e.remove()})}renderHandles(){const t=this.vertices;for(let e=0,n=t.length;e<n;e+=1){const r=t[e],s=this.options.createHandle,c=this.options.processHandle,f=s({index:e,graph:this.graph,guard:d=>this.guard(d),attrs:this.options.attrs||{}});c&&c(f),f.updatePosition(r.x,r.y),this.stamp(f.container),this.container.appendChild(f.container),this.handles.push(f),this.startHandleListening(f)}}updateHandles(){const t=this.vertices;for(let e=0,n=t.length;e<n;e+=1){const r=t[e],s=this.handles[e];s&&s.updatePosition(r.x,r.y)}}updatePath(){const t=this.childNodes.connection;t&&t.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.on("remove",this.onHandleRemove,this)}stopHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.off("remove",this.onHandleRemove,this)}getNeighborPoints(t){const e=this.cellView,n=this.vertices,r=t>0?n[t-1]:e.sourceAnchor,s=t<n.length-1?n[t+1]:e.targetAnchor;return{prev:z.create(r),next:z.create(s)}}getMouseEventArgs(t){const e=this.normalizeEvent(t),{x:n,y:r}=this.graph.snapToGrid(e.clientX,e.clientY);return{e,x:n,y:r}}onHandleChange({e:t}){this.focus();const e=this.cellView;if(e.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:n,x:r,y:s}=this.getMouseEventArgs(t);this.eventData(n,{start:{x:r,y:s}}),e.notifyMouseDown(n,r,s)}}onHandleChanging({handle:t,e}){const n=this.cellView,r=t.options.index,{e:s,x:c,y:f}=this.getMouseEventArgs(e),d={x:c,y:f};this.snapVertex(d,r),n.cell.setVertexAt(r,d,{ui:!0,toolId:this.cid}),t.updatePosition(d.x,d.y),this.options.stopPropagation||n.notifyMouseMove(s,c,f)}stopBatch(t){this.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),t&&this.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid})}onHandleChanged({e:t}){const e=this.options,n=this.cellView;if(e.addable&&this.updatePath(),!e.removeRedundancies){this.stopBatch(this.eventData(t).vertexAdded);return}n.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),this.stopBatch(this.eventData(t).vertexAdded);const{e:s,x:c,y:f}=this.getMouseEventArgs(t);if(!this.options.stopPropagation){n.notifyMouseUp(s,c,f);const{start:d}=this.eventData(s);if(d){const{x:p,y:v}=d;p===c&&v===f&&n.onClick(s,c,f)}}n.checkMouseleave(s),e.onChanged&&e.onChanged({edge:n.cell,edgeView:n})}snapVertex(t,e){const n=this.options.snapRadius||0;if(n>0){const r=this.getNeighborPoints(e),s=r.prev,c=r.next;Math.abs(t.x-s.x)<n?t.x=s.x:Math.abs(t.x-c.x)<n&&(t.x=c.x),Math.abs(t.y-s.y)<n?t.y=r.prev.y:Math.abs(t.y-c.y)<n&&(t.y=c.y)}}onHandleRemove({handle:t,e}){if(this.options.removable){const n=t.options.index,r=this.cellView;r.cell.removeVertexAt(n,{ui:!0}),this.options.addable&&this.updatePath(),r.checkMouseleave(this.normalizeEvent(e))}}allowAddVertex(t){const e=this.guard(t),n=this.options.addable&&this.cellView.can("vertexAddable"),r=this.options.modifiers?b.tx.isMatch(t,this.options.modifiers):!0;return!e&&n&&r}onPathMouseDown(t){const e=this.cellView;if(!this.allowAddVertex(t))return;t.stopPropagation(),t.preventDefault();const n=this.normalizeEvent(t),r=this.graph.snapToGrid(n.clientX,n.clientY).toJSON();e.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const s=e.getVertexIndex(r.x,r.y);this.snapVertex(r,s),e.cell.insertVertex(r,s,{ui:!0,toolId:this.cid}),this.render();const c=this.handles[s];this.eventData(n,{vertexAdded:!0}),c.onMouseDown(n)}onRemove(){this.resetHandles()}}(function(l){class t extends Kn{get graph(){return this.options.graph}constructor(n){super(),this.options=n,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}render(){this.container=Kn.createElement("circle",!0);const n=this.options.attrs;if(typeof n=="function"){const r=l.getDefaults();this.setAttrs(Object.assign(Object.assign({},r.attrs),n(this)))}else this.setAttrs(n);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(n,r){this.setAttrs({cx:n,cy:r})}onMouseDown(n){this.options.guard(n)||(n.stopPropagation(),n.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},n.data),this.emit("change",{e:n,handle:this}))}onMouseMove(n){this.emit("changing",{e:n,handle:this})}onMouseUp(n){this.emit("changed",{e:n,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(n){this.emit("remove",{e:n,handle:this})}}l.Handle=t})(ft||(ft={})),function(l){const t=A.prefix("edge-tool-vertex-path");l.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:e=>new l.Handle(e),markup:[{tagName:"path",selector:"connection",className:t,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${t}`]:"onPathMouseDown",[`touchstart .${t}`]:"onPathMouseDown"}})}(ft||(ft={}));class St extends vr.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){b.is.addClass(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const t=this.cellView,e=[...this.vertices];e.unshift(t.sourcePoint),e.push(t.targetPoint);for(let n=0,r=e.length;n<r-1;n+=1){const s=e[n],c=e[n+1],f=this.renderHandle(s,c,n);this.stamp(f.container),this.handles.push(f)}return this}renderHandle(t,e,n){const r=this.options.createHandle({index:n,graph:this.graph,guard:s=>this.guard(s),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(r),this.updateHandle(r,t,e),this.container.appendChild(r.container),this.startHandleListening(r),r}startHandleListening(t){t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)}stopHandleListening(t){t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(e=>{this.stopHandleListening(e),e.remove()})}shiftHandleIndexes(t){const e=this.handles;for(let n=0,r=e.length;n<r;n+=1)e[n].options.index+=t}resetAnchor(t,e){const n=this.cellView.cell,r={ui:!0,toolId:this.cid};e?n.prop([t,"anchor"],e,r):n.removeProp([t,"anchor"],r)}snapHandle(t,e,n){const r=t.options.axis,s=t.options.index,d=this.cellView.cell.getVertices(),p=d[s-2]||n.sourceAnchor,v=d[s+1]||n.targetAnchor,C=this.options.snapRadius;return Math.abs(e[r]-p[r])<C?e[r]=p[r]:Math.abs(e[r]-v[r])<C&&(e[r]=v[r]),e}onHandleChanging({handle:t,e}){const n=this.graph,r=this.options,s=this.cellView,c=r.anchor,f=t.options.axis,d=t.options.index-1,p=this.getEventData(e),v=this.normalizeEvent(e),C=n.snapToGrid(v.clientX,v.clientY),y=this.snapHandle(t,C.clone(),p),O=b.QK.cloneDeep(this.vertices);let F=O[d],Z=O[d+1];const X=s.sourceView,tt=s.sourceBBox;let ht=!1,mt=!1;if(F?d===0?tt.containsPoint(F)?(O.shift(),this.shiftHandleIndexes(-1),ht=!0):(F[f]=y[f],mt=!0):F[f]=y[f]:(F=s.sourceAnchor.toJSON(),F[f]=y[f],tt.containsPoint(F)?ht=!0:(O.unshift(F),this.shiftHandleIndexes(1),mt=!0)),typeof c=="function"&&X){if(ht){const nn=p.sourceAnchor.clone();nn[f]=y[f];const an=b.Iw.call(c,s,nn,X,s.sourceMagnet||X.container,"source",s,this);this.resetAnchor("source",an)}mt&&this.resetAnchor("source",p.sourceAnchorDef)}const Tt=s.targetView,Lt=s.targetBBox;let ie=!1,je=!1;if(Z?d===O.length-2?Lt.containsPoint(Z)?(O.pop(),ie=!0):(Z[f]=y[f],je=!0):Z[f]=y[f]:(Z=s.targetAnchor.toJSON(),Z[f]=y[f],Lt.containsPoint(Z)?ie=!0:(O.push(Z),je=!0)),typeof c=="function"&&Tt){if(ie){const nn=p.targetAnchor.clone();nn[f]=y[f];const an=b.Iw.call(c,s,nn,Tt,s.targetMagnet||Tt.container,"target",s,this);this.resetAnchor("target",an)}je&&this.resetAnchor("target",p.targetAnchorDef)}z.equalPoints(O,this.vertices)||this.cellView.cell.setVertices(O,{ui:!0,toolId:this.cid}),this.updateHandle(t,F,Z,0),r.stopPropagation||s.notifyMouseMove(v,C.x,C.y)}onHandleChange({handle:t,e}){const n=this.options,r=this.handles,s=this.cellView,c=t.options.index;if(Array.isArray(r)){for(let f=0,d=r.length;f<d;f+=1)f!==c&&r[f].hide();if(this.focus(),this.setEventData(e,{sourceAnchor:s.sourceAnchor.clone(),targetAnchor:s.targetAnchor.clone(),sourceAnchorDef:b.QK.cloneDeep(this.cell.prop(["source","anchor"])),targetAnchorDef:b.QK.cloneDeep(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!n.stopPropagation){const f=this.normalizeEvent(e),d=this.graph.snapToGrid(f.clientX,f.clientY);s.notifyMouseDown(f,d.x,d.y)}}}onHandleChanged({e:t}){const e=this.options,n=this.cellView;e.removeRedundancies&&n.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const r=this.normalizeEvent(t),s=this.graph.snapToGrid(r.clientX,r.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),e.stopPropagation||n.notifyMouseUp(r,s.x,s.y),n.checkMouseleave(r),e.onChanged&&e.onChanged({edge:n.cell,edgeView:n})}updateHandle(t,e,n,r=0){const s=this.options.precision||0,c=Math.abs(e.x-n.x)<s,f=Math.abs(e.y-n.y)<s;if(c||f){const d=new Ft(e,n);if(d.length()<this.options.threshold)t.hide();else{const v=d.getCenter(),C=c?"x":"y";v[C]+=r||0;const y=d.vector().vectorAngle(new z(1,0));t.updatePosition(v.x,v.y,y,this.cellView),t.show(),t.options.axis=C}}else t.hide()}onRemove(){this.resetHandles()}}(function(l){class t extends Kn{constructor(n){super(),this.options=n,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=Kn.createElement("rect",!0);const n=this.options.attrs;if(typeof n=="function"){const r=l.getDefaults();this.setAttrs(Object.assign(Object.assign({},r.attrs),n(this)))}else this.setAttrs(n);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(n,r,s,c){const f=c.getClosestPoint(new z(n,r))||new z(n,r);let d=b.is.createSVGMatrix().translate(f.x,f.y);if(f.equals({x:n,y:r}))d=d.rotate(s);else{let v=new Ft(n,r,f.x,f.y).vector().vectorAngle(new z(1,0));v!==0&&(v+=90),d=d.rotate(v)}this.setAttrs({transform:b.is.matrixToTransformString(d),cursor:s%180===0?"row-resize":"col-resize"})}onMouseDown(n){this.options.guard(n)||(this.trigger("change",{e:n,handle:this}),n.stopPropagation(),n.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},n.data))}onMouseMove(n){this.emit("changing",{e:n,handle:this})}onMouseUp(n){this.emit("changed",{e:n,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}l.Handle=t})(St||(St={})),function(l){l.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:t=>new l.Handle(t),anchor:Ms})}(St||(St={}));class Gt extends vr.ToolItem{get type(){return this.options.type}onRender(){b.is.addClass(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){const t=this.type;return this.cellView.getTerminalView(t)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const t=this.childNodes;if(!t)return;const e=t.anchor;if(!e)return;const n=this.type,r=this.cellView,s=this.options,c=r.getTerminalAnchor(n),f=r.cell.prop([n,"anchor"]);e.setAttribute("transform",`translate(${c.x}, ${c.y})`);const d=f?s.customAnchorAttrs:s.defaultAnchorAttrs;d&&Object.keys(d).forEach(p=>{e.setAttribute(p,d[p])})}updateArea(){const t=this.childNodes;if(!t)return;const e=t.area;if(!e)return;const n=this.type,r=this.cellView,s=r.getTerminalView(n);if(s){const c=s.cell,f=r.getTerminalMagnet(n);let d=this.options.areaPadding||0;Number.isFinite(d)||(d=0);let p,v,C;s.isEdgeElement(f)?(p=s.getBBox(),v=0,C=p.getCenter()):(p=s.getUnrotatedBBoxOfElement(f),v=c.getAngle(),C=p.getCenter(),v&&C.rotate(-v,c.getBBox().getCenter())),p.inflate(d),b.is.attr(e,{x:-p.width/2,y:-p.height/2,width:p.width,height:p.height,transform:`translate(${C.x}, ${C.y}) rotate(${v})`})}}toggleArea(t){if(this.childNodes){const e=this.childNodes.area;e&&(e.style.display=t?"":"none")}}onMouseDown(t){this.guard(t)||(t.stopPropagation(),t.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(t){const e=this.type,n=this.cell;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,toolId:this.cid}):n.removeProp([e,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(t){const e=this.type,n=this.cellView,r=n.getTerminalView(e);if(r==null)return;const s=this.normalizeEvent(t),c=r.cell,f=n.getTerminalMagnet(e);let d=this.graph.coord.clientToLocalPoint(s.clientX,s.clientY);const p=this.options.snap;if(typeof p=="function"){const y=b.Iw.call(p,n,d,r,f,e,n,this);d=z.create(y)}if(this.options.restrictArea)if(r.isEdgeElement(f)){const y=r.getClosestPoint(d);y&&(d=y)}else{const y=r.getUnrotatedBBoxOfElement(f),O=c.getAngle(),F=c.getBBox().getCenter(),Z=d.clone().rotate(O,F);y.containsPoint(Z)||(d=y.getNearestPointToPoint(Z).rotate(-O,F))}let v;const C=this.options.anchor;typeof C=="function"&&(v=b.Iw.call(C,n,d,r,f,e,n,this)),this.resetAnchor(v),this.update()}onMouseUp(t){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);const e=this.cellView;this.options.removeRedundancies&&e.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const t=this.options.resetAnchor;t&&this.resetAnchor(t===!0?void 0:t),this.update()}}(function(l){l.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:Ms,snap(t,e,n,r,s,c){const f=c.options.snapRadius||0,d=r==="source",p=d?0:-1,v=this.cell.getVertexAt(p)||this.getTerminalAnchor(d?"target":"source");return v&&(Math.abs(v.x-t.x)<f&&(t.x=v.x),Math.abs(v.y-t.y)<f&&(t.y=v.y)),t}})})(Gt||(Gt={}));const Jt=Gt.define({name:"source-anchor",type:"source"}),ce=Gt.define({name:"target-anchor",type:"target"});var Qt=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};class ue extends vr.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const t=this.options.attrs,{class:e}=t,n=Qt(t,["class"]);this.setAttrs(n,this.container),e&&b.is.addClass(this.container,e)}}onRender(){b.is.addClass(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const t=this.ratio,e=this.cellView,n=e.getTangentAtRatio(t),r=n?n.start:e.getPointAtRatio(t),s=n&&n.vector().vectorAngle(new z(1,0))||0;if(!r)return this;const c=b.is.createSVGMatrix().translate(r.x,r.y).rotate(s);return b.is.transform(this.container,c,{absolute:!0}),this}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.cellView;if(e.can("arrowheadMovable")){e.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const n=this.graph.snapToGrid(t.clientX,t.clientY),r=e.prepareArrowheadDragging(this.type,{x:n.x,y:n.y,options:Object.assign(Object.assign({},this.options),{toolId:this.cid})});this.cellView.setEventData(t,r),this.delegateDocumentEvents(this.options.documentEvents,t.data),e.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(t){const e=this.normalizeEvent(t),n=this.graph.snapToGrid(e.clientX,e.clientY);this.cellView.onMouseMove(e,n.x,n.y),this.update()}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),n=this.cellView,r=this.graph.snapToGrid(e.clientX,e.clientY);n.onMouseUp(e,r.x,r.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",n.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}(function(l){l.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})})(ue||(ue={}));const be=ue.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),Re=ue.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class ve extends vr.ToolItem{constructor(){super(...arguments),this.labelIndex=-1,this.distance=.5,this.dblClick=this.onCellDblClick.bind(this)}onRender(){const t=this.cellView;t&&t.on("cell:dblclick",this.dblClick)}createElement(){const t=[this.prefixClassName(`${this.cell.isEdge()?"edge":"node"}-tool-editor`),this.prefixClassName("cell-tool-editor")];this.editor=vr.createElement("div",!1),this.addClass(t,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}removeElement(){this.undelegateDocumentEvents(),this.editor&&(this.container.removeChild(this.editor),this.editor=null)}updateEditor(){const{cell:t,editor:e}=this;if(!e)return;const{style:n}=e;t.isNode()?this.updateNodeEditorTransform():t.isEdge()&&this.updateEdgeEditorTransform();const{attrs:r}=this.options;n.fontSize=`${r.fontSize}px`,n.fontFamily=r.fontFamily,n.color=r.color,n.backgroundColor=r.backgroundColor;const s=this.getCellText()||"";return e.innerText=s,this.setCellText(""),this}updateNodeEditorTransform(){const{graph:t,cell:e,editor:n}=this;if(!n)return;let r=z.create(),s=20,c="",{x:f,y:d}=this.options;const{width:p,height:v}=this.options;if(typeof f!="undefined"&&typeof d!="undefined"){const O=e.getBBox();f=b.GH.normalizePercentage(f,O.width),d=b.GH.normalizePercentage(d,O.height),r=O.topLeft.translate(f,d),s=O.width-f*2}else{const O=e.getBBox();r=O.center,s=O.width-4,c="translate(-50%, -50%)"}const C=t.scale(),{style:y}=n;r=t.localToGraph(r),y.left=`${r.x}px`,y.top=`${r.y}px`,y.transform=`scale(${C.sx}, ${C.sy}) ${c}`,y.minWidth=`${s}px`,typeof p=="number"&&(y.width=`${p}px`),typeof v=="number"&&(y.height=`${v}px`)}updateEdgeEditorTransform(){if(!this.event)return;const{graph:t,editor:e}=this;if(!e)return;let n=z.create(),r=20;const{style:s}=e,c=this.event.target,f=c.parentElement;if(f&&b.is.hasClass(f,this.prefixClassName("edge-label"))){const v=f.getAttribute("data-index")||"0";this.labelIndex=parseInt(v,10);const C=f.getAttribute("transform"),{translation:y}=b.is.parseTransformString(C);n=new z(y.tx,y.ty),r=pt.getBBox(c).width}else{if(!this.options.labelAddable)return this;n=t.clientToLocal(z.create(this.event.clientX,this.event.clientY));const C=this.cellView.path.closestPointLength(n);this.distance=C,this.labelIndex=-1}n=t.localToGraph(n);const p=t.scale();s.left=`${n.x}px`,s.top=`${n.y}px`,s.minWidth=`${r}px`,s.transform=`scale(${p.sx}, ${p.sy}) translate(-50%, -50%)`}onDocumentMouseUp(t){if(this.editor&&t.target!==this.editor){const e=this.editor.innerText.replace(/\n$/,"")||"";this.setCellText(e!==""?e:null),this.removeElement()}}onCellDblClick({e:t}){this.editor||(t.stopPropagation(),this.removeElement(),this.event=t,this.createElement(),this.updateEditor(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents))}onMouseDown(t){t.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor&&(this.editor.focus(),this.selectText())})}selectText(){if(window.getSelection&&this.editor){const t=document.createRange(),e=window.getSelection();t.selectNodeContents(this.editor),e.removeAllRanges(),e.addRange(t)}}getCellText(){const{getText:t}=this.options;if(typeof t=="function")return b.Iw.call(t,this.cellView,{cell:this.cell,index:this.labelIndex});if(typeof t=="string"){if(this.cell.isNode())return this.cell.attr(t);if(this.cell.isEdge()&&this.labelIndex!==-1)return this.cell.prop(`labels/${this.labelIndex}/attrs/${t}`)}}setCellText(t){const e=this.options.setText;if(typeof e=="function"){b.Iw.call(e,this.cellView,{cell:this.cell,value:t,index:this.labelIndex,distance:this.distance});return}if(typeof e=="string"){if(this.cell.isNode()){t!==null&&this.cell.attr(e,t);return}if(this.cell.isEdge()){const n=this.cell;if(this.labelIndex===-1){if(t){const r={position:{distance:this.distance},attrs:{}};b.QK.setByPath(r,`attrs/${e}`,t),n.appendLabel(r)}}else t!==null?n.prop(`labels/${this.labelIndex}/attrs/${e}`,t):typeof this.labelIndex=="number"&&n.removeLabelAt(this.labelIndex)}}}onRemove(){const t=this.cellView;t&&t.off("cell:dblclick",this.dblClick),this.removeElement()}}(function(l){l.config({tagName:"div",isSVGElement:!1,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mouseup:"onDocumentMouseUp",touchend:"onDocumentMouseUp",touchcancel:"onDocumentMouseUp"}})})(ve||(ve={})),function(l){l.NodeEditor=l.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText:"text/text",setText:"text/text"}),l.EdgeEditor=l.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText:"label/text",setText:"label/text"})}(ve||(ve={}));var Qe=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e},hn;(function(l){l.presets={boundary:at,button:U,"button-remove":U.Remove,"node-editor":ve.NodeEditor},l.registry=qe.create({type:"node tool",process(t,e){if(typeof e=="function")return e;let n=vr.ToolItem;const{inherit:r}=e,s=Qe(e,["inherit"]);if(r){const c=this.get(r);c==null?this.onNotFound(r,"inherited"):n=c}return s.name==null&&(s.name=t),n.define.call(n,s)}}),l.registry.register(l.presets,!0)})(hn||(hn={}));var Le;(function(l){l.presets={boundary:at,vertices:ft,segments:St,button:U,"button-remove":U.Remove,"source-anchor":Jt,"target-anchor":ce,"source-arrowhead":be,"target-arrowhead":Re,"edge-editor":ve.EdgeEditor},l.registry=qe.create({type:"edge tool",process(t,e){if(typeof e=="function")return e;let n=vr.ToolItem;const{inherit:r}=e,s=Qe(e,["inherit"]);if(r){const c=this.get(r);c==null?this.onNotFound(r,"inherited"):n=c}return s.name==null&&(s.name=t),n.define.call(n,s)}}),l.registry.register(l.presets,!0)})(Le||(Le={}));const fn=fr("center"),ct=fr("topCenter"),xt=fr("bottomCenter"),bt=fr("leftMiddle"),Ut=fr("rightMiddle"),de=fr("topLeft"),Ae=fr("topRight"),Oe=fr("bottomLeft"),Ke=fr("bottomRight");function fr(l){return function(t,e,n,r={}){const s=r.rotate?t.getUnrotatedBBoxOfElement(e):t.getBBoxOfElement(e),c=s[l];c.x+=b.GH.normalizePercentage(r.dx,s.width),c.y+=b.GH.normalizePercentage(r.dy,s.height);const f=t.cell;return r.rotate?c.rotate(-f.getAngle(),f.getBBox().getCenter()):c}}function yr(l){return function(t,e,n,r){if(n instanceof Element){const s=this.graph.findViewByElem(n);let c;if(s)if(s.isEdgeElement(n)){const f=r.fixedAt!=null?r.fixedAt:"50%";c=Xr(s,f)}else c=s.getBBoxOfElement(n).getCenter();else c=new z;return l.call(this,t,e,c,r)}return l.apply(this,arguments)}}function Xr(l,t){const e=b.GH.isPercentage(t),n=typeof t=="string"?parseFloat(t):t;return e?l.getPointAtRatio(n/100):l.getPointAtLength(n)}const ji=yr(function(l,t,e,n){const r=ot.normalize(l.cell.getAngle()),s=l.getBBoxOfElement(t),c=s.getCenter(),f=s.getTopLeft(),d=s.getBottomRight();let p=n.padding;if(Number.isFinite(p)||(p=0),f.y+p<=e.y&&e.y<=d.y-p){const v=e.y-c.y;c.x+=r===0||r===180?0:v*1/Math.tan(ot.toRad(r)),c.y+=v}else if(f.x+p<=e.x&&e.x<=d.x-p){const v=e.x-c.x;c.y+=r===90||r===270?0:v*Math.tan(ot.toRad(r)),c.x+=v}return c}),Or=function(l,t,e,n,r){const s=l.cell.getConnectionPoint(this.cell,r);return(n.dx||n.dy)&&s.translate(n.dx||0,n.dy||0),s},Ti=yr(function(l,t,e,n){let r,s=0,c;const f=l.cell;n.rotate?(r=l.getUnrotatedBBoxOfElement(t),c=f.getBBox().getCenter(),s=f.getAngle()):r=l.getBBoxOfElement(t);const d=n.padding;d!=null&&Number.isFinite(d)&&r.inflate(d),n.rotate&&e.rotate(s,c);const p=r.getNearestSideToPoint(e);let v;switch(p){case"left":v=r.getLeftMiddle();break;case"right":v=r.getRightMiddle();break;case"top":v=r.getTopCenter();break;case"bottom":v=r.getBottomCenter();break;default:break}const C=n.direction;return C==="H"?(p==="top"||p==="bottom")&&(e.x<=r.x+r.width?v=r.getLeftMiddle():v=r.getRightMiddle()):C==="V"&&(e.y<=r.y+r.height?v=r.getTopCenter():v=r.getBottomCenter()),n.rotate?v.rotate(-s,c):v});var pn;(function(l){l.presets=w,l.registry=qe.create({type:"node endpoint"}),l.registry.register(l.presets,!0)})(pn||(pn={}));const Ts=function(l,t,e,n){let r=n.ratio!=null?n.ratio:.5;return r>1&&(r/=100),l.getPointAtRatio(r)},gi=function(l,t,e,n){const r=n.length!=null?n.length:20;return l.getPointAtLength(r)},Yr=function(l,t,e,n){const r=l.getClosestPoint(e);return r!=null?r:new z},uo=yr(Yr),Xs=yr(function(l,t,e,n){const s=l.getConnection(),c=l.getConnectionSubdivisions(),f=new Ft(e.clone().translate(0,1e6),e.clone().translate(0,-1e6)),d=new Ft(e.clone().translate(1e6,0),e.clone().translate(-1e6,0)),p=f.intersect(s,{segmentSubdivisions:c}),v=d.intersect(s,{segmentSubdivisions:c}),C=[];return p&&C.push(...p),v&&C.push(...v),C.length>0?e.closest(C):n.fallbackAt!=null?Xr(l,n.fallbackAt):b.Iw.call(Yr,this,l,t,e,n)});var Mr;(function(l){l.presets=N,l.registry=qe.create({type:"edge endpoint"}),l.registry.register(l.presets,!0)})(Mr||(Mr={}));function hs(l,t,e){let n;if(typeof e=="object"){if(Number.isFinite(e.y)){const s=new Ft(t,l),{start:c,end:f}=s.parallel(e.y);t=c,l=f}n=e.x}else n=e;if(n==null||!Number.isFinite(n))return l;const r=l.distance(t);return n===0&&r>0?l:l.move(t,-Math.min(n,r-1))}function Io(l){const t=l.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function Kl(l){if(l==null)return null;let t=l;do{let e=t.tagName;if(typeof e!="string")return null;if(e=e.toUpperCase(),e==="G")t=t.firstElementChild;else if(e==="TITLE")t=t.nextElementSibling;else break}while(t);return t}const Pa=function(l,t,e,n){const r=t.getBBoxOfElement(e);n.stroked&&r.inflate(Io(e)/2);const s=l.intersect(r),c=s&&s.length?l.start.closest(s):l.end;return hs(c,l.start,n.offset)},Xl=function(l,t,e,n,r){const s=t.cell,c=s.isNode()?s.getAngle():0;if(c===0)return b.Iw.call(Pa,this,l,t,e,n,r);const f=t.getUnrotatedBBoxOfElement(e);n.stroked&&f.inflate(Io(e)/2);const d=f.getCenter(),p=l.clone().rotate(c,d),v=p.setLength(1e6).intersect(f),C=v&&v.length?p.start.closest(v).rotate(-c,d):l.end;return hs(C,l.start,n.offset)},ql=function(l,t,e,n){let r,s;const c=l.end,f=n.selector;if(typeof f=="string"?r=t.findOne(f):Array.isArray(f)?r=b.QK.getByPath(e,f):r=Kl(e),!b.is.isSVGGraphicsElement(r)){if(r===e||!b.is.isSVGGraphicsElement(e))return c;r=e}const d=t.getShapeOfElement(r),p=t.getMatrixOfElement(r),v=t.getRootTranslatedMatrix(),C=t.getRootRotatedMatrix(),y=v.multiply(C).multiply(p),O=y.inverse(),F=pt.transformLine(l,O),Z=F.start.clone(),X=t.getDataOfElement(r);if(n.insideout===!1){X.shapeBBox==null&&(X.shapeBBox=d.bbox());const Tt=X.shapeBBox;if(Tt!=null&&Tt.containsPoint(Z))return c}n.extrapolate===!0&&F.setLength(1e6);let tt;if(qt.isPath(d)){const Tt=n.precision||2;X.segmentSubdivisions==null&&(X.segmentSubdivisions=d.getSegmentSubdivisions({precision:Tt})),tt={precision:Tt,segmentSubdivisions:X.segmentSubdivisions},s=F.intersect(d,tt)}else s=F.intersect(d);s?Array.isArray(s)&&(s=Z.closest(s)):n.sticky===!0&&(Ot.isRectangle(d)?s=d.getNearestPointToPoint(Z):ke.isEllipse(d)?s=d.intersectsWithLineFromCenterToPoint(Z):s=d.closestPoint(Z,tt));const ht=s?pt.transformPoint(s,y):c;let mt=n.offset||0;return n.stroked!==!1&&(typeof mt=="object"?(mt=Object.assign({},mt),mt.x==null&&(mt.x=0),mt.x+=Io(r)/2):mt+=Io(r)/2),hs(ht,l.start,mt)};function Ga(l,t,e=0){const{start:n,end:r}=l;let s,c,f,d;switch(t){case"left":d="x",s=r,c=n,f=-1;break;case"right":d="x",s=n,c=r,f=1;break;case"top":d="y",s=r,c=n,f=-1;break;case"bottom":d="y",s=n,c=r,f=1;break;default:return}n[d]<r[d]?s[d]=c[d]:c[d]=s[d],Number.isFinite(e)&&(s[d]+=f*e,c[d]+=f*e)}const Yl=function(l,t,e,n){const{alignOffset:r,align:s}=n;return s&&Ga(l,s,r),hs(l.end,l.start,n.offset)};var _s;(function(l){l.presets=k,l.registry=qe.create({type:"connection point"}),l.registry.register(l.presets,!0)})(_s||(_s={}));const Ro=function(l){return[...l]},qs=function(l,t,e){const n=t.side||"bottom",r=b.GH.normalizeSides(t.padding||40),s=e.sourceBBox,c=e.targetBBox,f=s.getCenter(),d=c.getCenter();let p,v,C;switch(n){case"top":C=-1,p="y",v="height";break;case"left":C=-1,p="x",v="width";break;case"right":C=1,p="x",v="width";break;case"bottom":default:C=1,p="y",v="height";break}return f[p]+=C*(s[v]/2+r[n]),d[p]+=C*(c[v]/2+r[n]),C*(f[p]-d[p])>0?d[p]=f[p]:f[p]=d[p],[f.toJSON(),...l,d.toJSON()]};function Ys(l){return new Ot(l.x,l.y,0,0)}function Ka(l={}){const t=b.GH.normalizeSides(l.padding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function Xa(l,t={}){return l.sourceBBox.clone().moveAndExpand(Ka(t))}function Ea(l,t={}){return l.targetBBox.clone().moveAndExpand(Ka(t))}function qa(l,t={}){return l.sourceAnchor?l.sourceAnchor:Xa(l,t).getCenter()}function wl(l,t={}){return l.targetAnchor?l.targetAnchor:Ea(l,t).getCenter()}const Cl=function(l,t,e){let n=Xa(e,t),r=Ea(e,t);const s=qa(e,t),c=wl(e,t);n=n.union(Ys(s)),r=r.union(Ys(c));const f=l.map(v=>z.create(v));f.unshift(s),f.push(c);let d=null;const p=[];for(let v=0,C=f.length-1;v<C;v+=1){let y=null;const O=f[v],F=f[v+1],Z=_i.getBearing(O,F)!=null;if(v===0)v+1===C?n.intersectsWithRect(r.clone().inflate(1))?y=_i.insideNode(O,F,n,r):Z||(y=_i.nodeToNode(O,F,n,r)):n.containsPoint(F)?y=_i.insideNode(O,F,n,Ys(F).moveAndExpand(Ka(t))):Z||(y=_i.nodeToVertex(O,F,n));else if(v+1===C){const X=Z&&_i.getBearing(F,O)===d;r.containsPoint(O)||X?y=_i.insideNode(O,F,Ys(O).moveAndExpand(Ka(t)),r,d):Z||(y=_i.vertexToNode(O,F,r,d))}else Z||(y=_i.vertexToVertex(O,F,d));y?(p.push(...y.points),d=y.direction):d=_i.getBearing(O,F),v+1<C&&p.push(F)}return p};var _i;(function(l){const t={N:"S",S:"N",E:"W",W:"E"},e={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function n(C,y,O){let F=new z(C.x,y.y);return O.containsPoint(F)&&(F=new z(y.x,C.y)),F}function r(C,y){return C[y==="W"||y==="E"?"width":"height"]}l.getBBoxSize=r;function s(C,y){return C.x===y.x?C.y>y.y?"N":"S":C.y===y.y?C.x>y.x?"W":"E":null}l.getBearing=s;function c(C,y,O){const F=new z(C.x,y.y),Z=new z(y.x,C.y),X=s(C,F),tt=s(C,Z),ht=O?t[O]:null,mt=X===O||X!==ht&&(tt===ht||tt!==O)?F:Z;return{points:[mt],direction:s(mt,y)}}l.vertexToVertex=c;function f(C,y,O){const F=n(C,y,O);return{points:[F],direction:s(F,y)}}l.nodeToVertex=f;function d(C,y,O,F){const Z=[new z(C.x,y.y),new z(y.x,C.y)],X=Z.filter(mt=>!O.containsPoint(mt)),tt=X.filter(mt=>s(mt,C)!==F);let ht;if(tt.length>0)return ht=tt.filter(mt=>s(C,mt)===F).pop(),ht=ht||tt[0],{points:[ht],direction:s(ht,y)};{ht=b.RO.difference(Z,X)[0];const mt=z.create(y).move(ht,-r(O,F)/2);return{points:[n(mt,C,O),mt],direction:s(mt,y)}}}l.vertexToNode=d;function p(C,y,O,F){let Z=f(y,C,F);const X=Z.points[0];if(O.containsPoint(X)){Z=f(C,y,O);const tt=Z.points[0];if(F.containsPoint(tt)){const ht=z.create(C).move(tt,-r(O,s(C,tt))/2),mt=z.create(y).move(X,-r(F,s(y,X))/2),Tt=new Ft(ht,mt).getCenter(),Lt=f(C,Tt,O),ie=c(Tt,y,Lt.direction);Z.points=[Lt.points[0],ie.points[0]],Z.direction=ie.direction}}return Z}l.nodeToNode=p;function v(C,y,O,F,Z){const X=O.union(F).inflate(1),tt=X.getCenter(),ht=tt.distance(y)>tt.distance(C),mt=ht?y:C,Tt=ht?C:y;let Lt,ie,je;Z?(Lt=z.fromPolar(X.width+X.height,e[Z],mt),Lt=X.getNearestPointToPoint(Lt).move(Lt,-1)):Lt=X.getNearestPointToPoint(mt).move(mt,1),ie=n(Lt,Tt,X);let nn;Lt.round().equals(ie.round())?(ie=z.fromPolar(X.width+X.height,ot.toRad(Lt.theta(mt))+Math.PI/2,Tt),ie=X.getNearestPointToPoint(ie).move(Tt,1).round(),je=n(Lt,ie,X),nn=ht?[ie,je,Lt]:[Lt,je,ie]):nn=ht?[ie,Lt]:[Lt,ie];const an=s(ht?Lt:ie,y);return{points:nn,direction:an}}l.insideNode=v})(_i||(_i={}));const Jl={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeNodes:[],excludeShapes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return fo(this.step,this)},directions(){const l=fo(this.step,this),t=fo(this.cost,this);return[{cost:t,offsetX:l,offsetY:0},{cost:t,offsetX:-l,offsetY:0},{cost:t,offsetX:0,offsetY:l},{cost:t,offsetX:0,offsetY:-l}]},penalties(){const l=fo(this.step,this);return{0:0,45:l/2,90:l/2}},paddingBox(){const l=fo(this.step,this);return{x:-l,y:-l,width:2*l,height:2*l}},fallbackRouter:Cl,draggingRouter:null,snapToGrid:!0};function fo(l,t){return typeof l=="function"?l.call(t):l}function Br(l){const t=Object.keys(l).reduce((e,n)=>{const r=e;return n==="fallbackRouter"||n==="draggingRouter"||n==="fallbackRoute"?r[n]=l[n]:r[n]=fo(l[n],l),e},{});if(t.padding){const e=b.GH.normalizeSides(t.padding);t.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}return t.directions.forEach(e=>{const n=new z(0,0),r=new z(e.offsetX,e.offsetY);e.angle=ot.normalize(n.theta(r))}),t}const Jr=1,Ql=2;class tc{constructor(){this.items=[],this.hash={},this.values={}}add(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=Jr,this.values[t]=e;const n=b.RO.sortedIndexBy(this.items,t,r=>this.values[r]);this.items.splice(n,0,t)}pop(){const t=this.items.shift();return t&&(this.hash[t]=Ql),t}isOpen(t){return this.hash[t]===Jr}isClose(t){return this.hash[t]===Ql}isEmpty(){return this.items.length===0}}class ec{constructor(t){this.options=t,this.mapGridSize=100,this.map={}}build(t,e){const n=this.options,r=n.excludeTerminals.reduce((p,v)=>{const C=e[v];if(C){const y=t.getCell(C.cell);y&&p.push(y)}return p},[]);let s=[];const c=t.getCell(e.getSourceCellId());c&&(s=b.RO.union(s,c.getAncestors().map(p=>p.id)));const f=t.getCell(e.getTargetCellId());f&&(s=b.RO.union(s,f.getAncestors().map(p=>p.id)));const d=this.mapGridSize;return t.getNodes().reduce((p,v)=>{const C=r.some(X=>X.id===v.id),y=v.shape?n.excludeShapes.includes(v.shape):!1,O=n.excludeNodes.some(X=>typeof X=="string"?v.id===X:X===v),F=s.includes(v.id),Z=y||C||O||F;if(v.isVisible()&&!Z){const X=v.getBBox().moveAndExpand(n.paddingBox),tt=X.getOrigin().snapToGrid(d),ht=X.getCorner().snapToGrid(d);for(let mt=tt.x;mt<=ht.x;mt+=d)for(let Tt=tt.y;Tt<=ht.y;Tt+=d){const Lt=new z(mt,Tt).toString();p[Lt]==null&&(p[Lt]=[]),p[Lt].push(X)}}return p},this.map),this}isAccessible(t){const e=t.clone().snapToGrid(this.mapGridSize).toString(),n=this.map[e];return n?n.every(r=>!r.containsPoint(t)):!0}}function Aa(l,t){const e=l.sourceBBox.clone();return t&&t.paddingBox?e.moveAndExpand(t.paddingBox):e}function Ya(l,t){const e=l.targetBBox.clone();return t&&t.paddingBox?e.moveAndExpand(t.paddingBox):e}function ho(l,t){return l.sourceAnchor?l.sourceAnchor:Aa(l,t).getCenter()}function Sl(l,t){return l.targetAnchor?l.targetAnchor:Ya(l,t).getCenter()}function Js(l,t,e,n,r){const s=360/e,c=l.theta(Oa(l,t,n,r)),f=ot.normalize(c+s/2);return s*Math.floor(f/s)}function Oa(l,t,e,n){const r=n.step,s=t.x-l.x,c=t.y-l.y,f=s/e.x,d=c/e.y,p=f*r,v=d*r;return new z(l.x+p,l.y+v)}function Lo(l,t){const e=Math.abs(l-t);return e>180?360-e:e}function Ma(l,t){const e=t.step;return t.directions.forEach(n=>{n.gridOffsetX=n.offsetX/e*l.x,n.gridOffsetY=n.offsetY/e*l.y}),t.directions}function ia(l,t,e){return{source:t.clone(),x:nc(e.x-t.x,l),y:nc(e.y-t.y,l)}}function nc(l,t){if(!l)return t;const e=Math.abs(l),n=Math.round(e/t);if(!n)return e;const r=n*t,c=(e-r)/n;return t+c}function Yc(l,t){const e=t.source,n=it.snapToGrid(l.x-e.x,t.x)+e.x,r=it.snapToGrid(l.y-e.y,t.y)+e.y;return new z(n,r)}function sa(l,t){return l.round(t)}function Ja(l,t,e){return sa(Yc(l.clone(),t),e)}function No(l){return l.toString()}function oa(l){return new z(l.x===0?0:Math.abs(l.x)/l.x,l.y===0?0:Math.abs(l.y)/l.y)}function aa(l,t){let e=1/0;for(let n=0,r=t.length;n<r;n+=1){const s=l.manhattanDistance(t[n]);s<e&&(e=s)}return e}function la(l,t,e,n,r){const s=r.precision,c=r.directionMap,f=l.diff(t.getCenter()),d=Object.keys(c).reduce((p,v)=>{if(e.includes(v)){const C=c[v],y=new z(l.x+C.x*(Math.abs(f.x)+t.width),l.y+C.y*(Math.abs(f.y)+t.height)),F=new Ft(l,y).intersect(t)||[];let Z,X=null;for(let tt=0;tt<F.length;tt+=1){const ht=F[tt],mt=l.squaredDistance(ht);(Z==null||mt>Z)&&(Z=mt,X=ht)}if(X){let tt=Ja(X,n,s);t.containsPoint(tt)&&(tt=Ja(tt.translate(C.x*n.x,C.y*n.y),n,s)),p.push(tt)}}return p},[]);return t.containsPoint(l)||d.push(Ja(l,n,s)),d}function $(l,t,e,n,r){const s=[];let c=oa(r.diff(e)),f=No(e),d=l[f],p;for(;d;){p=t[f];const y=oa(p.diff(d));y.equals(c)||(s.unshift(p),c=y),f=No(d),d=l[f]}const v=t[f];return oa(v.diff(n)).equals(c)||s.unshift(v),s}function Do(l,t,e,n,r){const s=r.precision;let c,f;Ot.isRectangle(t)?c=sa(ho(l,r).clone(),s):c=sa(t.clone(),s),Ot.isRectangle(e)?f=sa(Sl(l,r).clone(),s):f=sa(e.clone(),s);const d=ia(r.step,c,f),p=c,v=f;let C,y;if(Ot.isRectangle(t)?C=la(p,t,r.startDirections,d,r):C=[p],Ot.isRectangle(e)?y=la(f,e,r.endDirections,d,r):y=[v],C=C.filter(O=>n.isAccessible(O)),y=y.filter(O=>n.isAccessible(O)),C.length>0&&y.length>0){const O=new tc,F={},Z={},X={};for(let Ye=0,tn=C.length;Ye<tn;Ye+=1){const mn=C[Ye],Pi=No(mn);O.add(Pi,aa(mn,y)),F[Pi]=mn,X[Pi]=0}const tt=r.previousDirectionAngle,ht=tt===void 0;let mt,Tt;const Lt=Ma(d,r),ie=Lt.length,je=y.reduce((Ye,tn)=>{const mn=No(tn);return Ye.push(mn),Ye},[]),nn=z.equalPoints(C,y);let an=r.maxLoopCount;for(;!O.isEmpty()&&an>0;){const Ye=O.pop(),tn=F[Ye],mn=Z[Ye],Pi=X[Ye],br=tn.equals(p),_r=mn==null;let Wn;if(_r?ht?br?Wn=null:Wn=Js(p,tn,ie,d,r):Wn=tt:Wn=Js(mn,tn,ie,d,r),!(_r&&nn)&&je.indexOf(Ye)>=0)return r.previousDirectionAngle=Wn,$(Z,F,tn,p,v);for(let $i=0;$i<ie;$i+=1){mt=Lt[$i];const Ns=mt.angle;if(Tt=Lo(Wn,Ns),!(ht&&br)&&Tt>r.maxDirectionChange)continue;const Ei=Ja(tn.clone().translate(mt.gridOffsetX||0,mt.gridOffsetY||0),d,s),Jn=No(Ei);if(O.isClose(Jn)||!n.isAccessible(Ei))continue;if(je.indexOf(Jn)>=0&&!Ei.equals(v)){const ti=Js(Ei,v,ie,d,r);if(Lo(Ns,ti)>r.maxDirectionChange)continue}const zi=mt.cost,ul=br?0:r.penalties[Tt],no=Pi+zi+ul;(!O.isOpen(Jn)||no<X[Jn])&&(F[Jn]=Ei,Z[Jn]=tn,X[Jn]=no,O.add(Jn,no+aa(Ei,y)))}an-=1}}return r.fallbackRoute?b.Iw.call(r.fallbackRoute,this,p,v,r):null}function Qa(l,t=10){if(l.length<=1)return l;for(let e=0,n=l.length;e<n-1;e+=1){const r=l[e],s=l[e+1];if(r.x===s.x){const c=t*Math.round(r.x/t);r.x!==c&&(r.x=c,s.x=c)}else if(r.y===s.y){const c=t*Math.round(r.y/t);r.y!==c&&(r.y=c,s.y=c)}}return l}const Qr=function(l,t,e){const n=Br(t),r=Aa(e,n),s=Ya(e,n),c=ho(e,n),f=new ec(n).build(e.graph.model,e.cell),d=l.map(O=>z.create(O)),p=[];let v=c,C,y;for(let O=0,F=d.length;O<=F;O+=1){let Z=null;if(C=y||r,y=d[O],y==null){y=s;const tt=e.cell;if((tt.getSourceCellId()==null||tt.getTargetCellId()==null)&&typeof n.draggingRouter=="function"){const mt=C===r?c:C,Tt=y.getOrigin();Z=b.Iw.call(n.draggingRouter,e,mt,Tt,n)}}if(Z==null&&(Z=Do(e,C,y,f,n)),Z===null)return console.warn("Unable to execute manhattan algorithm, use orth instead"),b.Iw.call(n.fallbackRouter,this,l,n,e);const X=Z[0];X&&X.equals(v)&&Z.shift(),v=Z[Z.length-1]||v,p.push(...Z)}return n.snapToGrid?Qa(p,e.graph.grid.getGridSize()):p},On=function(l,t,e){return b.Iw.call(Qr,this,l,Object.assign(Object.assign({},Jl),t),e)},tl={maxDirectionChange:45,directions(){const l=fo(this.step,this),t=fo(this.cost,this),e=Math.ceil(Math.sqrt(l*l<<1));return[{cost:t,offsetX:l,offsetY:0},{cost:e,offsetX:l,offsetY:l},{cost:t,offsetX:0,offsetY:l},{cost:e,offsetX:-l,offsetY:l},{cost:t,offsetX:-l,offsetY:0},{cost:e,offsetX:-l,offsetY:-l},{cost:t,offsetX:0,offsetY:-l},{cost:e,offsetX:l,offsetY:-l}]},fallbackRoute(l,t,e){const n=l.theta(t),r=[];let s={x:t.x,y:l.y},c={x:l.x,y:t.y};if(n%180>90){const mt=s;s=c,c=mt}const f=n%90<45?s:c,d=new Ft(l,f),p=90*Math.ceil(n/90),v=z.fromPolar(d.squaredLength(),ot.toRad(p+135),f),C=new Ft(t,v),y=d.intersectsWithLine(C),O=y||t,F=y?O:l,Z=360/e.directions.length,X=F.theta(t),tt=ot.normalize(X+Z/2),ht=Z*Math.floor(tt/Z);return e.previousDirectionAngle=ht,O&&r.push(O.round()),r.push(t),r}},Jc=function(l,t,e){return b.Iw.call(On,this,l,Object.assign(Object.assign({},tl),t),e)},Qc=function(l,t,e){const n=t.offset||32,r=t.min==null?16:t.min;let s=0,c=t.direction;const f=e.sourceBBox,d=e.targetBBox,p=f.getCenter(),v=d.getCenter();if(typeof n=="number"&&(s=n),c==null){let tt=d.left-f.right,ht=d.top-f.bottom;tt>=0&&ht>=0?c=tt>=ht?"L":"T":tt<=0&&ht>=0?(tt=f.left-d.right,tt>=0?c=tt>=ht?"R":"T":c="T"):tt>=0&&ht<=0?(ht=f.top-d.bottom,ht>=0?c=tt>=ht?"L":"B":c="L"):(tt=f.left-d.right,ht=f.top-d.bottom,tt>=0&&ht>=0?c=tt>=ht?"R":"B":tt<=0&&ht>=0?c="B":tt>=0&&ht<=0?c="R":c=Math.abs(tt)>Math.abs(ht)?"R":"B")}c==="H"?c=v.x-p.x>=0?"L":"R":c==="V"&&(c=v.y-p.y>=0?"T":"B"),n==="center"&&(c==="L"?s=(d.left-f.right)/2:c==="R"?s=(f.left-d.right)/2:c==="T"?s=(d.top-f.bottom)/2:c==="B"&&(s=(f.top-d.bottom)/2));let C,y,O;const F=c==="L"||c==="R";if(F){if(v.y===p.y)return[...l];O=c==="L"?1:-1,C="x",y="width"}else{if(v.x===p.x)return[...l];O=c==="T"?1:-1,C="y",y="height"}const Z=p.clone(),X=v.clone();if(Z[C]+=O*(f[y]/2+s),X[C]-=O*(d[y]/2+s),F){const tt=Z.x,ht=X.x,mt=f.width/2+r,Tt=d.width/2+r;v.x>p.x?ht<=tt&&(Z.x=Math.max(ht,p.x+mt),X.x=Math.min(tt,v.x-Tt)):ht>=tt&&(Z.x=Math.min(ht,p.x-mt),X.x=Math.max(tt,v.x+Tt))}else{const tt=Z.y,ht=X.y,mt=f.height/2+r,Tt=d.height/2+r;v.y>p.y?ht<=tt&&(Z.y=Math.max(ht,p.y+mt),X.y=Math.min(tt,v.y-Tt)):ht>=tt&&(Z.y=Math.min(ht,p.y-mt),X.y=Math.max(tt,v.y+Tt))}return[Z.toJSON(),...l,X.toJSON()]};function ki(l,t){if(t!=null&&t!==!1){const e=typeof t=="boolean"?0:t;if(e>0){const n=z.create(l[1]).move(l[2],e),r=z.create(l[1]).move(l[0],e);return[n.toJSON(),...l,r.toJSON()]}{const n=l[1];return[Object.assign({},n),...l,Object.assign({},n)]}}return l}const rc=function(l,t,e){const n=t.width||50,s=(t.height||80)/2,c=t.angle||"auto",f=e.sourceAnchor,d=e.targetAnchor,p=e.sourceBBox,v=e.targetBBox;if(f.equals(d)){const C=tt=>{const ht=ot.toRad(tt),mt=Math.sin(ht),Tt=Math.cos(ht),Lt=new z(f.x+Tt*n,f.y+mt*n),ie=new z(Lt.x-Tt*s,Lt.y-mt*s),je=ie.clone().rotate(-90,Lt),nn=ie.clone().rotate(90,Lt);return[je.toJSON(),Lt.toJSON(),nn.toJSON()]},y=tt=>{const ht=f.clone().move(tt,-1),mt=new Ft(ht,tt);return!p.containsPoint(tt)&&!p.intersectsWithLine(mt)},O=[0,90,180,270,45,135,225,315];if(typeof c=="number")return ki(C(c),t.merge);const F=p.getCenter();if(F.equals(f))return ki(C(0),t.merge);const Z=F.angleBetween(f,F.clone().translate(1,0));let X=C(Z);if(y(X[1]))return ki(X,t.merge);for(let tt=1,ht=O.length;tt<ht;tt+=1)if(X=C(Z+O[tt]),y(X[1]))return ki(X,t.merge);return ki(X,t.merge)}{const C=new Ft(f,d);let y=C.parallel(-n),O=y.getCenter(),F=y.start.clone().move(y.end,s),Z=y.end.clone().move(y.start,s);const X=C.parallel(-1),tt=new Ft(X.start,O),ht=new Ft(X.end,O);if((p.containsPoint(O)||v.containsPoint(O)||p.intersectsWithLine(tt)||p.intersectsWithLine(ht)||v.intersectsWithLine(tt)||v.intersectsWithLine(ht))&&(y=C.parallel(n),O=y.getCenter(),F=y.start.clone().move(y.end,s),Z=y.end.clone().move(y.start,s)),t.merge){const mt=new Ft(f,d),Tt=new Ft(O,mt.center).setLength(Number.MAX_SAFE_INTEGER),Lt=p.intersectsWithLine(Tt),ie=v.intersectsWithLine(Tt),je=Lt?Array.isArray(Lt)?Lt:[Lt]:[];ie&&(Array.isArray(ie)?je.push(...ie):je.push(ie));const nn=mt.center.closest(je);nn?(e.sourceAnchor=nn.clone(),e.targetAnchor=nn.clone()):(e.sourceAnchor=mt.center.clone(),e.targetAnchor=mt.center.clone())}return ki([F.toJSON(),O.toJSON(),Z.toJSON()],t.merge)}};var go;(function(l){l.presets=I,l.registry=qe.create({type:"router"}),l.registry.register(l.presets,!0)})(go||(go={}));const ic=function(l,t,e,n={}){const r=[l,...e,t],s=new te(r),c=new qt(s);return n.raw?c:c.serialize()},tu=function(l,t,e,n={}){const r=e.length===3?0:1,s=z.create(e[0+r]),c=z.create(e[2+r]),f=z.create(e[1+r]);if(!z.equals(l,t)){const p=new z((l.x+t.x)/2,(l.y+t.y)/2),v=p.angleBetween(z.create(l).rotate(90,p),f);v>1&&(s.rotate(180-v,p),c.rotate(180-v,p),f.rotate(180-v,p))}const d=`
     M ${l.x} ${l.y}
     Q ${s.x} ${s.y} ${f.x} ${f.y}
     Q ${c.x} ${c.y} ${t.x} ${t.y}
  `;return n.raw?qt.parse(d):d},eu=function(l,t,e,n={}){const r=new qt;r.appendSegment(qt.createSegment("M",l));const s=1/3,c=2/3,f=n.radius||10;let d,p;for(let v=0,C=e.length;v<C;v+=1){const y=z.create(e[v]),O=e[v-1]||l,F=e[v+1]||t;d=p||y.distance(O)/2,p=y.distance(F)/2;const Z=-Math.min(f,d),X=-Math.min(f,p),tt=y.clone().move(O,Z).round(),ht=y.clone().move(F,X).round(),mt=new z(s*tt.x+c*y.x,c*y.y+s*tt.y),Tt=new z(s*ht.x+c*y.x,c*y.y+s*ht.y);r.appendSegment(qt.createSegment("L",tt)),r.appendSegment(qt.createSegment("C",mt,Tt,ht))}return r.appendSegment(qt.createSegment("L",t)),n.raw?r:r.serialize()},Ii=function(l,t,e,n={}){let r,s=n.direction;if(e&&e.length!==0){const c=[l,...e,t],f=oe.throughPoints(c);r=new qt(f)}else if(r=new qt,r.appendSegment(qt.createSegment("M",l)),s||(s=Math.abs(l.x-t.x)>=Math.abs(l.y-t.y)?"H":"V"),s==="H"){const c=(l.x+t.x)/2;r.appendSegment(qt.createSegment("C",c,l.y,c,t.y,t.x,t.y))}else{const c=(l.y+t.y)/2;r.appendSegment(qt.createSegment("C",l.x,c,t.x,c,t.x,t.y))}return n.raw?r:r.serialize()},sc=1,el=1/3,nl=2/3;function oc(l){let t=l.graph._jumpOverUpdateList;if(t==null&&(t=l.graph._jumpOverUpdateList=[],l.graph.on("cell:mouseup",()=>{const e=l.graph._jumpOverUpdateList;setTimeout(()=>{for(let n=0;n<e.length;n+=1)e[n].update()})}),l.graph.on("model:reseted",()=>{t=l.graph._jumpOverUpdateList=[]})),t.indexOf(l)<0){t.push(l);const e=()=>t.splice(t.indexOf(l),1);l.cell.once("change:connector",e),l.cell.once("removed",e)}}function Pl(l,t,e=[]){const n=[l,...e,t],r=[];return n.forEach((s,c)=>{const f=n[c+1];f!=null&&r.push(new Ft(s,f))}),r}function Qs(l,t){const e=[];return t.forEach(n=>{const r=l.intersectsWithLine(n);r&&e.push(r)}),e}function ac(l,t){return new Ft(l,t).squaredLength()}function lc(l,t,e){return t.reduce((n,r,s)=>{if(Is.includes(r))return n;const c=n.pop()||l,f=z.create(r).move(c.start,-e);let d=z.create(r).move(c.start,+e);const p=t[s+1];if(p!=null){const y=d.distance(p);y<=e&&(d=p.move(c.start,y),Is.push(p))}else if(f.distance(c.end)<e*2+sc)return n.push(c),n;if(d.distance(c.start)<e*2+sc)return n.push(c),n;const C=new Ft(f,d);return Ta.push(C),n.push(new Ft(c.start,f),C,new Ft(d,c.end)),n},[])}function cc(l,t,e,n){const r=new qt;let s;return s=qt.createSegment("M",l[0].start),r.appendSegment(s),l.forEach((c,f)=>{if(Ta.includes(c)){let d,p,v,C;if(e==="arc"){d=-90,p=c.start.diff(c.end),(p.x<0||p.x===0&&p.y<0)&&(d+=180);const O=c.getCenter(),F=new Ft(O,c.end).rotate(d,O);let Z;Z=new Ft(c.start,O),v=Z.pointAt(2/3).rotate(d,c.start),C=F.pointAt(1/3).rotate(-d,F.end),s=qt.createSegment("C",v,C,F.end),r.appendSegment(s),Z=new Ft(O,c.end),v=F.pointAt(1/3).rotate(d,F.end),C=Z.pointAt(1/3).rotate(-d,c.end),s=qt.createSegment("C",v,C,c.end),r.appendSegment(s)}else if(e==="gap")s=qt.createSegment("M",c.end),r.appendSegment(s);else if(e==="cubic"){d=c.start.theta(c.end);const y=t*.6;let O=t*1.35;p=c.start.diff(c.end),(p.x<0||p.x===0&&p.y<0)&&(O*=-1),v=new z(c.start.x+y,c.start.y+O).rotate(d,c.start),C=new z(c.end.x-y,c.end.y+O).rotate(d,c.end),s=qt.createSegment("C",v,C,c.end),r.appendSegment(s)}}else{const d=l[f+1];n===0||!d||Ta.includes(d)?(s=qt.createSegment("L",c.end),r.appendSegment(s)):nu(n,r,c.end,c.start,d.end)}}),r}function nu(l,t,e,n,r){const s=e.distance(n)/2,c=e.distance(r)/2,f=-Math.min(l,s),d=-Math.min(l,c),p=e.clone().move(n,f).round(),v=e.clone().move(r,d).round(),C=new z(el*p.x+nl*e.x,nl*e.y+el*p.y),y=new z(el*v.x+nl*e.x,nl*e.y+el*v.y);let O;O=qt.createSegment("L",p),t.appendSegment(O),O=qt.createSegment("C",C,y,v),t.appendSegment(O)}let Ta,Is;const ru=function(l,t,e,n={}){Ta=[],Is=[],oc(this);const r=n.size||5,s=n.type||"arc",c=n.radius||0,f=n.ignoreConnectors||["smooth"],d=this.graph,v=d.model.getEdges();if(v.length===1)return cc(Pl(l,t,e),r,s,c);const C=this.cell,y=v.indexOf(C),O=d.options.connecting.connector||{},F=v.filter((Tt,Lt)=>{const ie=Tt.getConnector()||O;return f.includes(ie.name)?!1:Lt>y?ie.name!=="jumpover":!0}),Z=F.map(Tt=>d.findViewByCell(Tt)),X=Pl(l,t,e),tt=Z.map(Tt=>Tt==null?[]:Tt===this?X:Pl(Tt.sourcePoint,Tt.targetPoint,Tt.routePoints)),ht=[];X.forEach(Tt=>{const Lt=F.reduce((ie,je,nn)=>{if(je!==C){const an=Qs(Tt,tt[nn]);ie.push(...an)}return ie},[]).sort((ie,je)=>ac(Tt.start,ie)-ac(Tt.start,je));Lt.length>0?ht.push(...lc(Tt,Lt,r)):ht.push(Tt)});const mt=cc(ht,r,s,c);return Ta=[],Is=[],n.raw?mt:mt.serialize()};var Fo;(function(l){l.presets=Y,l.registry=qe.create({type:"connector"}),l.registry.register(l.presets,!0)})(Fo||(Fo={}));var ds=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class uc extends b.ew{constructor(t={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(b.QK.cloneDeep(t)),this.changed={}}mutate(t,e={}){const n=e.unset===!0,r=e.silent===!0,s=[],c=this.changing;this.changing=!0,c||(this.previous=b.QK.cloneDeep(this.data),this.changed={});const f=this.data,d=this.previous,p=this.changed;if(Object.keys(t).forEach(v=>{const C=v,y=t[C];b.QK.isEqual(f[C],y)||s.push(C),b.QK.isEqual(d[C],y)?delete p[C]:p[C]=y,n?delete f[C]:f[C]=y}),!r&&s.length>0&&(this.pending=!0,this.pendingOptions=e,s.forEach(v=>{this.emit("change:*",{key:v,options:e,store:this,current:f[v],previous:d[v]})})),c)return this;if(!r)for(;this.pending;)this.pending=!1,this.emit("changed",{current:f,previous:d,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(t,e){if(t==null)return this.data;const n=this.data[t];return n==null?e:n}getPrevious(t){if(this.previous){const e=this.previous[t];return e==null?void 0:e}}set(t,e,n){return t!=null&&(typeof t=="object"?this.mutate(t,e):this.mutate({[t]:e},n)),this}remove(t,e){const r={};let s;if(typeof t=="string")r[t]=void 0,s=e;else if(Array.isArray(t))t.forEach(c=>r[c]=void 0),s=e;else{for(const c in this.data)r[c]=void 0;s=t}return this.mutate(r,Object.assign(Object.assign({},s),{unset:!0})),this}getByPath(t){return b.QK.getByPath(this.data,t,"/")}setByPath(t,e,n={}){const r="/",s=Array.isArray(t)?[...t]:t.split(r),c=Array.isArray(t)?t.join(r):t,f=s[0],d=s.length;if(n.propertyPath=c,n.propertyValue=e,n.propertyPathArray=s,d===1)this.set(f,e,n);else{const p={};let v=p,C=f;for(let F=1;F<d;F+=1){const Z=s[F],X=Number.isFinite(Number(Z));v=v[C]=X?[]:{},C=Z}b.QK.setByPath(p,s,e,r);const y=b.QK.cloneDeep(this.data);n.rewrite&&b.QK.unsetByPath(y,t,r);const O=b.QK.merge(y,p);this.set(f,O[f],n)}return this}removeByPath(t,e){const n=Array.isArray(t)?t:t.split("/"),r=n[0];if(n.length===1)this.remove(r,e);else{const s=n.slice(1),c=b.QK.cloneDeep(this.get(r));c&&b.QK.unsetByPath(c,s),this.set(r,c,e)}return this}hasChanged(t){return t==null?Object.keys(this.changed).length>0:t in this.changed}getChanges(t){if(t==null)return this.hasChanged()?b.QK.cloneDeep(this.changed):null;const e=this.changing?this.previous:this.data,n={};let r;for(const s in t){const c=t[s];b.QK.isEqual(e[s],c)||(n[s]=c,r=!0)}return r?b.QK.cloneDeep(n):null}toJSON(){return b.QK.cloneDeep(this.data)}clone(){const t=this.constructor;return new t(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}ds([b.ew.dispose()],uc.prototype,"dispose",null);class _a{constructor(t){this.cell=t,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(t,e,n={},r="/"){const s=this.cell.getPropByPath(t),c=b.QK.defaults(n,_a.defaultOptions),f=this.getTiming(c.timing),d=this.getInterp(c.interp,s,e);let p=0;const v=Array.isArray(t)?t.join(r):t,C=Array.isArray(t)?t:t.split(r),y=()=>{const O=new Date().getTime();p===0&&(p=O);let Z=(O-p)/c.duration;Z<1?this.ids[v]=requestAnimationFrame(y):Z=1;const X=d(f(Z));this.cell.setPropByPath(C,X),n.progress&&n.progress(Object.assign({progress:Z,currentValue:X},this.getArgs(v))),Z===1&&(this.cell.notify("transition:complete",this.getArgs(v)),n.complete&&n.complete(this.getArgs(v)),this.cell.notify("transition:finish",this.getArgs(v)),n.finish&&n.finish(this.getArgs(v)),this.clean(v))};return setTimeout(()=>{this.stop(t,void 0,r),this.cache[v]={startValue:s,targetValue:e,options:c},this.ids[v]=requestAnimationFrame(y),this.cell.notify("transition:start",this.getArgs(v)),n.start&&n.start(this.getArgs(v))},n.delay),this.stop.bind(this,t,r,n)}stop(t,e={},n="/"){const r=Array.isArray(t)?t:t.split(n);return Object.keys(this.ids).filter(s=>b.QK.isEqual(r,s.split(n).slice(0,r.length))).forEach(s=>{cancelAnimationFrame(this.ids[s]);const c=this.cache[s],f=this.getArgs(s),d=Object.assign(Object.assign({},c.options),e),p=d.jumpedToEnd;p&&c.targetValue!=null&&(this.cell.setPropByPath(s,c.targetValue),this.cell.notify("transition:end",Object.assign({},f)),this.cell.notify("transition:complete",Object.assign({},f)),d.complete&&d.complete(Object.assign({},f)));const v=Object.assign({jumpedToEnd:p},f);this.cell.notify("transition:stop",Object.assign({},v)),d.stop&&d.stop(Object.assign({},v)),this.cell.notify("transition:finish",Object.assign({},f)),d.finish&&d.finish(Object.assign({},f)),this.clean(s)}),this}clean(t){delete this.ids[t],delete this.cache[t]}getTiming(t){return typeof t=="string"?b.Yt[t]:t}getInterp(t,e,n){return t?t(e,n):typeof n=="number"?b.CG.number(e,n):typeof n=="string"?n[0]==="#"?b.CG.color(e,n):b.CG.unit(e,n):b.CG.object(e,n)}getArgs(t){const e=this.cache[t];return{path:t,startValue:e.startValue,targetValue:e.targetValue,cell:this.cell}}}(function(l){l.defaultOptions={delay:10,duration:100,timing:"linear"}})(_a||(_a={}));var iu=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},fc=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};class En extends b.ew{static config(t){const{markup:e,propHooks:n,attrHooks:r}=t,s=fc(t,["markup","propHooks","attrHooks"]);e!=null&&(this.markup=e),n&&(this.propHooks=this.propHooks.slice(),Array.isArray(n)?this.propHooks.push(...n):typeof n=="function"?this.propHooks.push(n):Object.values(n).forEach(c=>{typeof c=="function"&&this.propHooks.push(c)})),r&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),r)),this.defaults=b.QK.merge({},this.defaults,s)}static getMarkup(){return this.markup}static getDefaults(t){return t?this.defaults:b.QK.cloneDeep(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(t,e){return this.propHooks.reduce((n,r)=>r?b.Iw.call(r,t,n):n,e)}get[Symbol.toStringTag](){return En.toStringTag}constructor(t={}){super();const n=this.constructor.getDefaults(!0),r=b.QK.merge({},this.preprocess(n),this.preprocess(t));this.id=r.id||b.kf.uuid(),this.store=new uc(r),this.animation=new _a(this),this.setup(),this.init(),this.postprocess(t)}init(){}get model(){return this._model}set model(t){this._model!==t&&(this._model=t)}preprocess(t,e){const n=t.id,s=this.constructor.applyPropHooks(this,t);return n==null&&e!==!0&&(s.id=b.kf.uuid()),s}postprocess(t){}setup(){this.store.on("change:*",t=>{const{key:e,current:n,previous:r,options:s}=t;this.notify("change:*",{key:e,options:s,current:n,previous:r,cell:this}),this.notify(`change:${e}`,{options:s,current:n,previous:r,cell:this});const c=e;(c==="source"||c==="target")&&this.notify("change:terminal",{type:c,current:n,previous:r,options:s,cell:this})}),this.store.on("changed",({options:t})=>this.notify("changed",{options:t,cell:this}))}notify(t,e){this.trigger(t,e);const n=this.model;return n&&(n.notify(`cell:${t}`,e),this.isNode()?n.notify(`node:${t}`,Object.assign(Object.assign({},e),{node:this})):this.isEdge()&&n.notify(`edge:${t}`,Object.assign(Object.assign({},e),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(t){return this.store===t.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(t,e){return t==null?this.store.get():this.store.get(t,e)}setProp(t,e,n){if(typeof t=="string")this.store.set(t,e,n);else{const r=this.preprocess(t,!0);this.store.set(b.QK.merge({},this.getProp(),r),e),this.postprocess(t)}return this}removeProp(t,e){return typeof t=="string"||Array.isArray(t)?this.store.removeByPath(t,e):this.store.remove(e),this}hasChanged(t){return t==null?this.store.hasChanged():this.store.hasChanged(t)}getPropByPath(t){return this.store.getByPath(t)}setPropByPath(t,e,n={}){return this.model&&(t==="children"?this._children=e?e.map(r=>this.model.getCell(r)).filter(r=>r!=null):null:t==="parent"&&(this._parent=e?this.model.getCell(e):null)),this.store.setByPath(t,e,n),this}removePropByPath(t,e={}){const n=Array.isArray(t)?t:t.split("/");return n[0]==="attrs"&&(e.dirty=!0),this.store.removeByPath(n,e),this}prop(t,e,n){return t==null?this.getProp():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getPropByPath(t):e==null?this.removePropByPath(t,n||{}):this.setPropByPath(t,e,n||{}):this.setProp(t,e||{})}previous(t){return this.store.getPrevious(t)}get zIndex(){return this.getZIndex()}set zIndex(t){t==null?this.removeZIndex():this.setZIndex(t)}getZIndex(){return this.store.get("zIndex")}setZIndex(t,e={}){return this.store.set("zIndex",t,e),this}removeZIndex(t={}){return this.store.remove("zIndex",t),this}toFront(t={}){const e=this.model;if(e){let n=e.getMaxZIndex(),r;t.deep?(r=this.getDescendants({deep:!0,breadthFirst:!0}),r.unshift(this)):r=[this],n=n-r.length+1;const s=e.total();let c=e.indexOf(this)!==s-r.length;c||(c=r.some((f,d)=>f.getZIndex()!==n+d)),c&&this.batchUpdate("to-front",()=>{n+=r.length,r.forEach((f,d)=>{f.setZIndex(n+d,t)})})}return this}toBack(t={}){const e=this.model;if(e){let n=e.getMinZIndex(),r;t.deep?(r=this.getDescendants({deep:!0,breadthFirst:!0}),r.unshift(this)):r=[this];let s=e.indexOf(this)!==0;s||(s=r.some((c,f)=>c.getZIndex()!==n+f)),s&&this.batchUpdate("to-back",()=>{n-=r.length,r.forEach((c,f)=>{c.setZIndex(n+f,t)})})}return this}get markup(){return this.getMarkup()}set markup(t){t==null?this.removeMarkup():this.setMarkup(t)}getMarkup(){let t=this.store.get("markup");return t==null&&(t=this.constructor.getMarkup()),t}setMarkup(t,e={}){return this.store.set("markup",t,e),this}removeMarkup(t={}){return this.store.remove("markup",t),this}get attrs(){return this.getAttrs()}set attrs(t){t==null?this.removeAttrs():this.setAttrs(t)}getAttrs(){const t=this.store.get("attrs");return t?Object.assign({},t):{}}setAttrs(t,e={}){if(t==null)this.removeAttrs(e);else{const n=r=>this.store.set("attrs",r,e);if(e.overwrite===!0)n(t);else{const r=this.getAttrs();e.deep===!1?n(Object.assign(Object.assign({},r),t)):n(b.QK.merge({},r,t))}}return this}replaceAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{deep:!1}))}removeAttrs(t={}){return this.store.remove("attrs",t),this}getAttrDefinition(t){if(!t)return null;const n=this.constructor.getAttrHooks()||{};let r=n[t]||D.registry.get(t);if(!r){const s=b.kf.camelCase(t);r=n[s]||D.registry.get(s)}return r||null}getAttrByPath(t){return t==null||t===""?this.getAttrs():this.getPropByPath(this.prefixAttrPath(t))}setAttrByPath(t,e,n={}){return this.setPropByPath(this.prefixAttrPath(t),e,n),this}removeAttrByPath(t,e={}){return this.removePropByPath(this.prefixAttrPath(t),e),this}prefixAttrPath(t){return Array.isArray(t)?["attrs"].concat(t):`attrs/${t}`}attr(t,e,n){return t==null?this.getAttrByPath():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getAttrByPath(t):e==null?this.removeAttrByPath(t,n||{}):this.setAttrByPath(t,e,n||{}):this.setAttrs(t,e||{})}get visible(){return this.isVisible()}set visible(t){this.setVisible(t)}setVisible(t,e={}){return this.store.set("visible",t,e),this}isVisible(){return this.store.get("visible")!==!1}show(t={}){return this.isVisible()||this.setVisible(!0,t),this}hide(t={}){return this.isVisible()&&this.setVisible(!1,t),this}toggleVisible(t,e={}){const n=typeof t=="boolean"?t:!this.isVisible(),r=typeof t=="boolean"?e:t;return n?this.show(r):this.hide(r),this}get data(){return this.getData()}set data(t){this.setData(t)}getData(){return this.store.get("data")}setData(t,e={}){if(t==null)this.removeData(e);else{const n=r=>this.store.set("data",r,e);if(e.overwrite===!0)n(t);else{const r=this.getData();e.deep===!1?n(typeof t=="object"?Object.assign(Object.assign({},r),t):t):n(b.QK.merge({},r,t))}}return this}replaceData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{deep:!1}))}removeData(t={}){return this.store.remove("data",t),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const t=this.getParentId();if(t&&this.model){const e=this.model.getCell(t);return this._parent=e,e}return null}getChildren(){const t=this.store.get("children");if(t&&t.length&&this.model){const e=t.map(n=>{var r;return(r=this.model)===null||r===void 0?void 0:r.getCell(n)}).filter(n=>n!=null);return this._children=e,[...e]}return null}hasParent(){return this.parent!=null}isParentOf(t){return t!=null&&t.getParent()===this}isChildOf(t){return t!=null&&this.getParent()===t}eachChild(t,e){return this.children&&this.children.forEach(t,e),this}filterChild(t,e){return this.children?this.children.filter(t,e):[]}getChildCount(){return this.children==null?0:this.children.length}getChildIndex(t){return this.children==null?-1:this.children.indexOf(t)}getChildAt(t){return this.children!=null&&t>=0?this.children[t]:null}getAncestors(t={}){const e=[];let n=this.getParent();for(;n;)e.push(n),n=t.deep!==!1?n.getParent():null;return e}getDescendants(t={}){if(t.deep!==!1){if(t.breadthFirst){const e=[],n=this.getChildren()||[];for(;n.length>0;){const r=n.shift(),s=r.getChildren();e.push(r),s&&n.push(...s)}return e}{const e=this.getChildren()||[];return e.forEach(n=>{e.push(...n.getDescendants(t))}),e}}return this.getChildren()||[]}isDescendantOf(t,e={}){if(t==null)return!1;if(e.deep!==!1){let n=this.getParent();for(;n;){if(n===t)return!0;n=n.getParent()}return!1}return this.isChildOf(t)}isAncestorOf(t,e={}){return t==null?!1:t.isDescendantOf(this,e)}contains(t){return this.isAncestorOf(t)}getCommonAncestor(...t){return En.getCommonAncestor(this,...t)}setParent(t,e={}){return this._parent=t,t?this.store.set("parent",t.id,e):this.store.remove("parent",e),this}setChildren(t,e={}){return this._children=t,t!=null?this.store.set("children",t.map(n=>n.id),e):this.store.remove("children",e),this}unembed(t,e={}){const n=this.children;if(n!=null&&t!=null){const r=this.getChildIndex(t);r!==-1&&(n.splice(r,1),t.setParent(null,e),this.setChildren(n,e))}return this}embed(t,e={}){return t.addTo(this,e),this}addTo(t,e={}){return En.isCell(t)?t.addChild(this,e):t.addCell(this,e),this}insertTo(t,e,n={}){return t.insertChild(this,e,n),this}addChild(t,e={}){return this.insertChild(t,void 0,e)}insertChild(t,e,n={}){if(t!=null&&t!==this){const r=t.getParent(),s=this!==r;let c=e;if(c==null&&(c=this.getChildCount(),s||(c-=1)),r){const d=r.getChildren();if(d){const p=d.indexOf(t);p>=0&&(t.setParent(null,n),d.splice(p,1),r.setChildren(d,n))}}let f=this.children;if(f==null?(f=[],f.push(t)):f.splice(c,0,t),t.setParent(this,n),this.setChildren(f,n),s&&this.model){const d=this.model.getIncomingEdges(this),p=this.model.getOutgoingEdges(this);d&&d.forEach(v=>v.updateParent(n)),p&&p.forEach(v=>v.updateParent(n))}this.model&&this.model.addCell(t,n)}return this}removeFromParent(t={}){const e=this.getParent();if(e!=null){const n=e.getChildIndex(this);e.removeChildAt(n,t)}return this}removeChild(t,e={}){const n=this.getChildIndex(t);return this.removeChildAt(n,e)}removeChildAt(t,e={}){const n=this.getChildAt(t);return this.children!=null&&n!=null&&(this.unembed(n,e),n.remove(e)),n}remove(t={}){return this.batchUpdate("remove",()=>{const e=this.getParent();e&&e.removeChild(this,t),t.deep!==!1&&this.eachChild(n=>n.remove(t)),this.model&&this.model.removeCell(this,t)}),this}transition(t,e,n={},r="/"){return this.animation.start(t,e,n,r)}stopTransition(t,e,n="/"){return this.animation.stop(t,e,n),this}getTransitions(){return this.animation.get()}translate(t,e,n){return this}scale(t,e,n,r){return this}addTools(t,e,n){const r=Array.isArray(t)?t:[t],s=typeof e=="string"?e:null,c=typeof e=="object"?e:typeof n=="object"?n:{};if(c.reset)return this.setTools({name:s,items:r,local:c.local},c);let f=b.QK.cloneDeep(this.getTools());if(f==null||s==null||f.name===s)return f==null&&(f={}),f.items||(f.items=[]),f.name=s,f.items=[...f.items,...r],this.setTools(Object.assign({},f),c)}setTools(t,e={}){return t==null?this.removeTools():this.store.set("tools",En.normalizeTools(t),e),this}getTools(){return this.store.get("tools")}removeTools(t={}){return this.store.remove("tools",t),this}hasTools(t){const e=this.getTools();return e==null?!1:t==null?!0:e.name===t}hasTool(t){const e=this.getTools();return e==null?!1:e.items.some(n=>typeof n=="string"?n===t:n.name===t)}removeTool(t,e={}){const n=b.QK.cloneDeep(this.getTools());if(n){let r=!1;const s=n.items.slice(),c=f=>{s.splice(f,1),r=!0};if(typeof t=="number")c(t);else for(let f=s.length-1;f>=0;f-=1){const d=s[f];(typeof d=="string"?d===t:d.name===t)&&c(f)}r&&(n.items=s,this.setTools(n,e))}return this}getBBox(t){return new Ot}getConnectionPoint(t,e){return new z}toJSON(t={}){const e=Object.assign({},this.store.get()),n=Object.prototype.toString,r=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!e.shape){const F=this.constructor;throw new Error(`Unable to serialize ${r} missing "shape" prop, check the ${r} "${F.name||n.call(F)}"`)}const s=this.constructor,c=t.diff===!0,f=e.attrs||{},d=s.getDefaults(!0),p=c?this.preprocess(d,!0):d,v=p.attrs||{},C={};Object.entries(e).forEach(([F,Z])=>{if(Z!=null&&!Array.isArray(Z)&&typeof Z=="object"&&!b.QK.isPlainObject(Z))throw new Error(`Can only serialize ${r} with plain-object props, but got a "${n.call(Z)}" type of key "${F}" on ${r} "${this.id}"`);if(F!=="attrs"&&F!=="shape"&&c){const X=p[F];b.QK.isEqual(Z,X)&&delete e[F]}}),Object.keys(f).forEach(F=>{const Z=f[F],X=v[F];Object.keys(Z).forEach(tt=>{const ht=Z[tt],mt=X?X[tt]:null;ht!=null&&typeof ht=="object"&&!Array.isArray(ht)?Object.keys(ht).forEach(Tt=>{const Lt=ht[Tt];if(X==null||mt==null||!b.QK.isObject(mt)||!b.QK.isEqual(mt[Tt],Lt)){C[F]==null&&(C[F]={}),C[F][tt]==null&&(C[F][tt]={});const ie=C[F][tt];ie[Tt]=Lt}}):(X==null||!b.QK.isEqual(mt,ht))&&(C[F]==null&&(C[F]={}),C[F][tt]=ht)})});const y=Object.assign(Object.assign({},e),{attrs:b.QK.isEmpty(C)?void 0:C});y.attrs==null&&delete y.attrs;const O=y;return O.angle===0&&delete O.angle,b.QK.cloneDeep(O)}clone(t={}){if(!t.deep){const n=Object.assign({},this.store.get());t.keepId||delete n.id,delete n.parent,delete n.children;const r=this.constructor;return new r(n)}return En.deepClone(this)[this.id]}findView(t){return t.findViewByCell(this)}startBatch(t,e={},n=this.model){return this.notify("batch:start",{name:t,data:e,cell:this}),n&&n.startBatch(t,Object.assign(Object.assign({},e),{cell:this})),this}stopBatch(t,e={},n=this.model){return n&&n.stopBatch(t,Object.assign(Object.assign({},e),{cell:this})),this.notify("batch:stop",{name:t,data:e,cell:this}),this}batchUpdate(t,e,n){const r=this.model;this.startBatch(t,n,r);const s=e();return this.stopBatch(t,n,r),s}dispose(){this.removeFromParent(),this.store.dispose()}}En.defaults={},En.attrHooks={},En.propHooks=[],iu([b.ew.dispose()],En.prototype,"dispose",null),function(l){function t(e){return typeof e=="string"?{items:[e]}:Array.isArray(e)?{items:e}:e.items?e:{items:[e]}}l.normalizeTools=t}(En||(En={})),function(l){l.toStringTag=`X6.${l.name}`;function t(e){if(e==null)return!1;if(e instanceof l)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===l.toStringTag)&&typeof r.isNode=="function"&&typeof r.isEdge=="function"&&typeof r.prop=="function"&&typeof r.attr=="function"}l.isCell=t}(En||(En={})),function(l){function t(...s){const c=s.filter(d=>d!=null).map(d=>d.getAncestors()).sort((d,p)=>d.length-p.length);return c.shift().find(d=>c.every(p=>p.includes(d)))||null}l.getCommonAncestor=t;function e(s,c={}){let f=null;for(let d=0,p=s.length;d<p;d+=1){const v=s[d];let C=v.getBBox(c);if(C){if(v.isNode()){const y=v.getAngle();y!=null&&y!==0&&(C=C.bbox(y))}f=f==null?C:f.union(C)}}return f}l.getCellsBBox=e;function n(s){const c=[s,...s.getDescendants({deep:!0})];return l.cloneCells(c)}l.deepClone=n;function r(s){const c=b.RO.uniq(s),f=c.reduce((d,p)=>(d[p.id]=p.clone(),d),{});return c.forEach(d=>{const p=f[d.id];if(p.isEdge()){const y=p.getSourceCellId(),O=p.getTargetCellId();y&&f[y]&&p.setSource(Object.assign(Object.assign({},p.getSource()),{cell:f[y].id})),O&&f[O]&&p.setTarget(Object.assign(Object.assign({},p.getTarget()),{cell:f[O].id}))}const v=d.getParent();v&&f[v.id]&&p.setParent(f[v.id]);const C=d.getChildren();if(C&&C.length){const y=C.reduce((O,F)=>(f[F.id]&&O.push(f[F.id]),O),[]);y.length>0&&p.setChildren(y)}}),f}l.cloneCells=r}(En||(En={})),function(l){l.config({propHooks(t){var{tools:e}=t,n=fc(t,["tools"]);return e&&(n.tools=l.normalizeTools(e)),n}})}(En||(En={}));var Bo;(function(l){let t,e;function n(c,f){return f?t!=null&&t.exist(c):e!=null&&e.exist(c)}l.exist=n;function r(c){t=c}l.setEdgeRegistry=r;function s(c){e=c}l.setNodeRegistry=s})(Bo||(Bo={}));class hc{constructor(t){this.ports=[],this.groups={},this.init(b.QK.cloneDeep(t))}getPorts(){return this.ports}getGroup(t){return t!=null?this.groups[t]:null}getPortsByGroup(t){return this.ports.filter(e=>e.group===t||e.group==null&&t==null)}getPortsLayoutByGroup(t,e){const n=this.getPortsByGroup(t),r=t?this.getGroup(t):null,s=r?r.position:null,c=s?s.name:null;let f;if(c!=null){const C=me.registry.get(c);if(C==null)return me.registry.onNotFound(c);f=C}else f=me.presets.left;const d=n.map(C=>C&&C.position&&C.position.args||{}),p=s&&s.args||{};return f(d,e,p).map((C,y)=>{const O=n[y];return{portLayout:C,portId:O.id,portSize:O.size,portAttrs:O.attrs,labelSize:O.label.size,labelLayout:this.getPortLabelLayout(O,z.create(C.position),e)}})}init(t){const{groups:e,items:n}=t;e!=null&&Object.keys(e).forEach(r=>{this.groups[r]=this.parseGroup(e[r])}),Array.isArray(n)&&n.forEach(r=>{this.ports.push(this.parsePort(r))})}parseGroup(t){return Object.assign(Object.assign({},t),{label:this.getLabel(t,!0),position:this.getPortPosition(t.position,!0)})}parsePort(t){const e=Object.assign({},t),n=this.getGroup(t.group)||{};return e.markup=e.markup||n.markup,e.attrs=b.QK.merge({},n.attrs,e.attrs),e.position=this.createPosition(n,e),e.label=b.QK.merge({},n.label,this.getLabel(e)),e.zIndex=this.getZIndex(n,e),e.size=Object.assign(Object.assign({},n.size),e.size),e}getZIndex(t,e){return typeof e.zIndex=="number"?e.zIndex:typeof t.zIndex=="number"||t.zIndex==="auto"?t.zIndex:"auto"}createPosition(t,e){return b.QK.merge({name:"left",args:{}},t.position,{args:e.args})}getPortPosition(t,e=!1){if(t==null){if(e)return{name:"left",args:{}}}else{if(typeof t=="string")return{name:t,args:{}};if(Array.isArray(t))return{name:"absolute",args:{x:t[0],y:t[1]}};if(typeof t=="object")return t}return{args:{}}}getPortLabelPosition(t,e=!1){if(t==null){if(e)return{name:"left",args:{}}}else{if(typeof t=="string")return{name:t,args:{}};if(typeof t=="object")return t}return{args:{}}}getLabel(t,e=!1){const n=t.label||{};return n.position=this.getPortLabelPosition(n.position,e),n}getPortLabelLayout(t,e,n){const r=t.label.position.name||"left",s=t.label.position.args||{},c=oi.registry.get(r)||oi.presets.left;return c?c(e,n,s):null}}var rl=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};class Er extends En{get[Symbol.toStringTag](){return Er.toStringTag}constructor(t={}){super(t),this.initPorts()}preprocess(t,e){const{x:n,y:r,width:s,height:c}=t,f=rl(t,["x","y","width","height"]);if(n!=null||r!=null){const d=f.position;f.position=Object.assign(Object.assign({},d),{x:n!=null?n:d?d.x:0,y:r!=null?r:d?d.y:0})}if(s!=null||c!=null){const d=f.size;f.size=Object.assign(Object.assign({},d),{width:s!=null?s:d?d.width:0,height:c!=null?c:d?d.height:0})}return super.preprocess(f,e)}isNode(){return!0}size(t,e,n){return t===void 0?this.getSize():typeof t=="number"?this.setSize(t,e,n):this.setSize(t,e)}getSize(){const t=this.store.get("size");return t?Object.assign({},t):{width:1,height:1}}setSize(t,e,n){return typeof t=="object"?this.resize(t.width,t.height,e):this.resize(t,e,n),this}resize(t,e,n={}){this.startBatch("resize",n);const r=n.direction;if(r){const s=this.getSize();switch(r){case"left":case"right":e=s.height;break;case"top":case"bottom":t=s.width;break;default:break}let f={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[r];const d=ot.normalize(this.getAngle()||0);n.absolute&&(f+=Math.floor((d+45)/90),f%=4);const p=this.getBBox();let v;f===0?v=p.getBottomLeft():f===1?v=p.getCorner():f===2?v=p.getTopRight():v=p.getOrigin();const C=v.clone().rotate(-d,p.getCenter()),y=Math.sqrt(t*t+e*e)/2;let O=f*Math.PI/2;O+=Math.atan(f%2===0?e/t:t/e),O-=ot.toRad(d);const Z=z.fromPolar(y,O,C).clone().translate(t/-2,e/-2);this.store.set("size",{width:t,height:e},n),this.setPosition(Z.x,Z.y,n)}else this.store.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this}scale(t,e,n,r={}){const s=this.getBBox().scale(t,e,n==null?void 0:n);return this.startBatch("scale",r),this.setPosition(s.x,s.y,r),this.resize(s.width,s.height,r),this.stopBatch("scale"),this}position(t,e,n){return typeof t=="number"?this.setPosition(t,e,n):this.getPosition(t)}getPosition(t={}){if(t.relative){const n=this.getParent();if(n!=null&&n.isNode()){const r=this.getPosition(),s=n.getPosition();return{x:r.x-s.x,y:r.y-s.y}}}const e=this.store.get("position");return e?Object.assign({},e):{x:0,y:0}}setPosition(t,e,n={}){let r,s,c;if(typeof t=="object"?(r=t.x,s=t.y,c=e||{}):(r=t,s=e,c=n||{}),c.relative){const f=this.getParent();if(f!=null&&f.isNode()){const d=f.getPosition();r+=d.x,s+=d.y}}if(c.deep){const f=this.getPosition();this.translate(r-f.x,s-f.y,c)}else this.store.set("position",{x:r,y:s},c);return this}translate(t=0,e=0,n={}){if(t===0&&e===0)return this;n.translateBy=n.translateBy||this.id;const r=this.getPosition();if(n.restrict!=null&&n.translateBy===this.id){const c=this.getBBox({deep:!0}),f=n.restrict,d=r.x-c.x,p=r.y-c.y,v=Math.max(f.x+d,Math.min(f.x+f.width+d-c.width,r.x+t)),C=Math.max(f.y+p,Math.min(f.y+f.height+p-c.height,r.y+e));t=v-r.x,e=C-r.y}const s={x:r.x+t,y:r.y+e};return n.tx=t,n.ty=e,n.transition?(typeof n.transition!="object"&&(n.transition={}),this.transition("position",s,Object.assign(Object.assign({},n.transition),{interp:b.CG.object})),this.eachChild(c=>{var f;((f=n.exclude)===null||f===void 0?void 0:f.includes(c))||c.translate(t,e,n)})):(this.startBatch("translate",n),this.store.set("position",s,n),this.eachChild(c=>{var f;((f=n.exclude)===null||f===void 0?void 0:f.includes(c))||c.translate(t,e,n)}),this.stopBatch("translate",n)),this}angle(t,e){return t==null?this.getAngle():this.rotate(t,e)}getAngle(){return this.store.get("angle",0)}rotate(t,e={}){const n=this.getAngle();if(e.center){const r=this.getSize(),s=this.getPosition(),c=this.getBBox().getCenter();c.rotate(n-t,e.center);const f=c.x-r.width/2-s.x,d=c.y-r.height/2-s.y;this.startBatch("rotate",{angle:t,options:e}),this.setPosition(s.x+f,s.y+d,e),this.rotate(t,Object.assign(Object.assign({},e),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",e.absolute?t:(n+t)%360,e);return this}getBBox(t={}){if(t.deep){const e=this.getDescendants({deep:!0,breadthFirst:!0});return e.push(this),En.getCellsBBox(e)}return Ot.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(t,e){const n=this.getBBox(),r=n.getCenter(),s=t.getTerminal(e);if(s==null)return r;const c=s.port;if(!c||!this.hasPort(c))return r;const f=this.getPort(c);if(!f||!f.group)return r;const p=this.getPortsPosition(f.group)[c].position,v=z.create(p).translate(n.getOrigin()),C=this.getAngle();return C&&v.rotate(-C,r),v}fit(t={}){const n=(this.getChildren()||[]).filter(p=>p.isNode());if(n.length===0)return this;this.startBatch("fit-embeds",t),t.deep&&n.forEach(p=>p.fit(t));let{x:r,y:s,width:c,height:f}=En.getCellsBBox(n);const d=b.GH.normalizeSides(t.padding);return r-=d.left,s-=d.top,c+=d.left+d.right,f+=d.bottom+d.top,this.store.set({position:{x:r,y:s},size:{width:c,height:f}},t),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(t){this.setPortContainerMarkup(t)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||Vn.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(t,e={}){return this.store.set("portContainerMarkup",Vn.clone(t),e),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(t){this.setPortMarkup(t)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||Vn.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(t,e={}){return this.store.set("portMarkup",Vn.clone(t),e),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(t){this.setPortLabelMarkup(t)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||Vn.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(t,e={}){return this.store.set("portLabelMarkup",Vn.clone(t),e),this}get ports(){const t=this.store.get("ports",{items:[]});return t.items==null&&(t.items=[]),t}getPorts(){return b.QK.cloneDeep(this.ports.items)}getPortsByGroup(t){return this.getPorts().filter(e=>e.group===t)}getPort(t){return b.QK.cloneDeep(this.ports.items.find(e=>e.id&&e.id===t))}getPortAt(t){return this.ports.items[t]||null}hasPorts(){return this.ports.items.length>0}hasPort(t){return this.getPortIndex(t)!==-1}getPortIndex(t){const e=typeof t=="string"?t:t.id;return e!=null?this.ports.items.findIndex(n=>n.id===e):-1}getPortsPosition(t){const e=this.getSize();return this.port.getPortsLayoutByGroup(t,new Ot(0,0,e.width,e.height)).reduce((r,s)=>{const c=s.portLayout;return r[s.portId]={position:Object.assign({},c.position),angle:c.angle||0},r},{})}getPortProp(t,e){return this.getPropByPath(this.prefixPortPath(t,e))}setPortProp(t,e,n,r){if(typeof e=="string"||Array.isArray(e)){const f=this.prefixPortPath(t,e),d=n;return this.setPropByPath(f,d,r)}const s=this.prefixPortPath(t),c=e;return this.setPropByPath(s,c,n)}removePortProp(t,e,n){return typeof e=="string"||Array.isArray(e)?this.removePropByPath(this.prefixPortPath(t,e),n):this.removePropByPath(this.prefixPortPath(t),e)}portProp(t,e,n,r){return e==null?this.getPortProp(t):typeof e=="string"||Array.isArray(e)?arguments.length===2?this.getPortProp(t,e):n==null?this.removePortProp(t,e,r):this.setPortProp(t,e,n,r):this.setPortProp(t,e,n)}prefixPortPath(t,e){const n=this.getPortIndex(t);if(n===-1)throw new Error(`Unable to find port with id: "${t}"`);return e==null||e===""?["ports","items",`${n}`]:Array.isArray(e)?["ports","items",`${n}`,...e]:`ports/items/${n}/${e}`}addPort(t,e){const n=[...this.ports.items];return n.push(t),this.setPropByPath("ports/items",n,e),this}addPorts(t,e){return this.setPropByPath("ports/items",[...this.ports.items,...t],e),this}insertPort(t,e,n){const r=[...this.ports.items];return r.splice(t,0,e),this.setPropByPath("ports/items",r,n),this}removePort(t,e={}){return this.removePortAt(this.getPortIndex(t),e)}removePortAt(t,e={}){if(t>=0){const n=[...this.ports.items];n.splice(t,1),e.rewrite=!0,this.setPropByPath("ports/items",n,e)}return this}removePorts(t,e){let n;if(Array.isArray(t)){if(n=e||{},t.length){n.rewrite=!0;const s=[...this.ports.items].filter(c=>!t.some(f=>{const d=typeof f=="string"?f:f.id;return c.id===d}));this.setPropByPath("ports/items",s,n)}}else n=t||{},n.rewrite=!0,this.setPropByPath("ports/items",[],n);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(t,e){return this.port.getPortsLayoutByGroup(t,e)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const t=this.ports,e={};t.items.forEach(c=>{c.id&&(e[c.id]=!0)});const n={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(c=>{c.id&&!e[c.id]&&(n[c.id]=!0)});const s=this.model;s&&!b.QK.isEmpty(n)&&(s.getConnectedEdges(this,{incoming:!0}).forEach(d=>{const p=d.getTargetPortId();p&&n[p]&&d.remove()}),s.getConnectedEdges(this,{outgoing:!0}).forEach(d=>{const p=d.getSourcePortId();p&&n[p]&&d.remove()}))}validatePorts(){const t={},e=[];return this.ports.items.forEach(n=>{typeof n!="object"&&e.push(`Invalid port ${n}.`),n.id==null&&(n.id=this.generatePortId()),t[n.id]&&e.push("Duplicitied port id."),t[n.id]=!0}),e}generatePortId(){return b.kf.uuid()}updatePortData(){const t=this.validatePorts();if(t.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(t.join(" "));const e=this.port?this.port.getPorts():null;this.port=new hc(this.ports);const n=this.port.getPorts(),r=e?n.filter(c=>e.find(f=>f.id===c.id)?null:c):[...n],s=e?e.filter(c=>n.find(f=>f.id===c.id)?null:c):[];r.length>0&&this.notify("ports:added",{added:r,cell:this,node:this}),s.length>0&&this.notify("ports:removed",{removed:s,cell:this,node:this})}}Er.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}},function(l){l.toStringTag=`X6.${l.name}`;function t(e){if(e==null)return!1;if(e instanceof l)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===l.toStringTag)&&typeof r.isNode=="function"&&typeof r.isEdge=="function"&&typeof r.prop=="function"&&typeof r.attr=="function"&&typeof r.size=="function"&&typeof r.position=="function"}l.isNode=t}(Er||(Er={})),function(l){l.config({propHooks(t){var{ports:e}=t,n=rl(t,["ports"]);return e&&(n.ports=Array.isArray(e)?{items:e}:e),n}})}(Er||(Er={})),function(l){l.registry=qe.create({type:"node",process(t,e){if(Bo.exist(t,!0))throw new Error(`Node with name '${t}' was registered by anthor Edge`);if(typeof e=="function")return e.config({shape:t}),e;let n=l;const{inherit:r}=e,s=rl(e,["inherit"]);if(r)if(typeof r=="string"){const f=this.get(r);f==null?this.onNotFound(r,"inherited"):n=f}else n=r;s.constructorName==null&&(s.constructorName=t);const c=n.define.call(n,s);return c.config({shape:t}),c}}),Bo.setNodeRegistry(l.registry)}(Er||(Er={})),function(l){let t=0;function e(s){return s?b.kf.pascalCase(s):(t+=1,`CustomNode${t}`)}function n(s){const{constructorName:c,overwrite:f}=s,d=rl(s,["constructorName","overwrite"]),p=b.QK.createClass(e(c||d.shape),this);return p.config(d),d.shape&&l.registry.register(d.shape,p,f),p}l.define=n;function r(s){const c=s.shape||"rect",f=l.registry.get(c);return f?new f(s):l.registry.onNotFound(c)}l.create=r}(Er||(Er={}));var ca=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};class Yn extends En{get[Symbol.toStringTag](){return Yn.toStringTag}constructor(t={}){super(t)}preprocess(t,e){const{source:n,sourceCell:r,sourcePort:s,sourcePoint:c,target:f,targetCell:d,targetPort:p,targetPoint:v}=t,y=ca(t,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),O=F=>typeof F=="string"||typeof F=="number";if(n!=null)if(En.isCell(n))y.source={cell:n.id};else if(O(n))y.source={cell:n};else if(z.isPoint(n))y.source=n.toJSON();else if(Array.isArray(n))y.source={x:n[0],y:n[1]};else{const F=n.cell;En.isCell(F)?y.source=Object.assign(Object.assign({},n),{cell:F.id}):y.source=n}if(r!=null||s!=null){let F=y.source;if(r!=null){const Z=O(r)?r:r.id;F?F.cell=Z:F=y.source={cell:Z}}s!=null&&F&&(F.port=s)}else c!=null&&(y.source=z.create(c).toJSON());if(f!=null)if(En.isCell(f))y.target={cell:f.id};else if(O(f))y.target={cell:f};else if(z.isPoint(f))y.target=f.toJSON();else if(Array.isArray(f))y.target={x:f[0],y:f[1]};else{const F=f.cell;En.isCell(F)?y.target=Object.assign(Object.assign({},f),{cell:F.id}):y.target=f}if(d!=null||p!=null){let F=y.target;if(d!=null){const Z=O(d)?d:d.id;F?F.cell=Z:F=y.target={cell:Z}}p!=null&&F&&(F.port=p)}else v!=null&&(y.target=z.create(v).toJSON());return super.preprocess(y,e)}setup(){super.setup(),this.on("change:labels",t=>this.onLabelsChanged(t)),this.on("change:vertices",t=>this.onVertexsChanged(t))}isEdge(){return!0}disconnect(t={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},t),this}get source(){return this.getSource()}set source(t){this.setSource(t)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(t,e,n={}){return this.setTerminal("source",t,e,n)}get target(){return this.getTarget()}set target(t){this.setTarget(t)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(t,e,n={}){return this.setTerminal("target",t,e,n)}getTerminal(t){return Object.assign({},this.store.get(t))}setTerminal(t,e,n,r={}){if(En.isCell(e))return this.store.set(t,b.QK.merge({},n,{cell:e.id}),r),this;const s=e;return z.isPoint(e)||s.x!=null&&s.y!=null?(this.store.set(t,b.QK.merge({},n,{x:s.x,y:s.y}),r),this):(this.store.set(t,b.QK.cloneDeep(e),r),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(t){const e=this[t];if(z.isPointLike(e))return z.create(e);const n=this.getTerminalCell(t);return n?n.getConnectionPoint(this,t):new z}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(t){if(this.model){const e=t==="source"?this.getSourceCellId():this.getTargetCellId();if(e)return this.model.getCell(e)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(t){let e=this;const n={};for(;e&&e.isEdge();){if(n[e.id])return null;n[e.id]=!0,e=e.getTerminalCell(t)}return e&&e.isNode()?e:null}get router(){return this.getRouter()}set router(t){t==null?this.removeRouter():this.setRouter(t)}getRouter(){return this.store.get("router")}setRouter(t,e,n){return typeof t=="object"?this.store.set("router",t,e):this.store.set("router",{name:t,args:e},n),this}removeRouter(t={}){return this.store.remove("router",t),this}get connector(){return this.getConnector()}set connector(t){t==null?this.removeConnector():this.setConnector(t)}getConnector(){return this.store.get("connector")}setConnector(t,e,n){return typeof t=="object"?this.store.set("connector",t,e):this.store.set("connector",{name:t,args:e},n),this}removeConnector(t={}){return this.store.remove("connector",t)}getDefaultLabel(){const t=this.constructor,e=this.store.get("defaultLabel")||t.defaultLabel||{};return b.QK.cloneDeep(e)}get labels(){return this.getLabels()}set labels(t){this.setLabels(t)}getLabels(){return[...this.store.get("labels",[])].map(t=>this.parseLabel(t))}setLabels(t,e={}){return this.store.set("labels",Array.isArray(t)?t:[t],e),this}insertLabel(t,e,n={}){const r=this.getLabels(),s=r.length;let c=e!=null&&Number.isFinite(e)?e:s;return c<0&&(c=s+c+1),r.splice(c,0,this.parseLabel(t)),this.setLabels(r,n)}appendLabel(t,e={}){return this.insertLabel(t,-1,e)}getLabelAt(t){const e=this.getLabels();return t!=null&&Number.isFinite(t)?this.parseLabel(e[t]):null}setLabelAt(t,e,n={}){if(t!=null&&Number.isFinite(t)){const r=this.getLabels();r[t]=this.parseLabel(e),this.setLabels(r,n)}return this}removeLabelAt(t,e={}){const n=this.getLabels(),r=t!=null&&Number.isFinite(t)?t:-1,s=n.splice(r,1);return this.setLabels(n,e),s.length?s[0]:null}parseLabel(t){return typeof t=="string"?this.constructor.parseStringLabel(t):t}onLabelsChanged({previous:t,current:e}){const n=t&&e?e.filter(s=>t.find(c=>s===c||b.QK.isEqual(s,c))?null:s):e?[...e]:[],r=t&&e?t.filter(s=>e.find(c=>s===c||b.QK.isEqual(s,c))?null:s):t?[...t]:[];n.length>0&&this.notify("labels:added",{added:n,cell:this,edge:this}),r.length>0&&this.notify("labels:removed",{removed:r,cell:this,edge:this})}get vertices(){return this.getVertices()}set vertices(t){this.setVertices(t)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(t,e={}){const n=Array.isArray(t)?t:[t];return this.store.set("vertices",n.map(r=>z.toJSON(r)),e),this}insertVertex(t,e,n={}){const r=this.getVertices(),s=r.length;let c=e!=null&&Number.isFinite(e)?e:s;return c<0&&(c=s+c+1),r.splice(c,0,z.toJSON(t)),this.setVertices(r,n)}appendVertex(t,e={}){return this.insertVertex(t,-1,e)}getVertexAt(t){return t!=null&&Number.isFinite(t)?this.getVertices()[t]:null}setVertexAt(t,e,n={}){if(t!=null&&Number.isFinite(t)){const r=this.getVertices();r[t]=e,this.setVertices(r,n)}return this}removeVertexAt(t,e={}){const n=this.getVertices(),r=t!=null&&Number.isFinite(t)?t:-1;return n.splice(r,1),this.setVertices(n,e)}onVertexsChanged({previous:t,current:e}){const n=t&&e?e.filter(s=>t.find(c=>z.equals(s,c))?null:s):e?[...e]:[],r=t&&e?t.filter(s=>e.find(c=>z.equals(s,c))?null:s):t?[...t]:[];n.length>0&&this.notify("vertexs:added",{added:n,cell:this,edge:this}),r.length>0&&this.notify("vertexs:removed",{removed:r,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||Vn.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}translate(t,e,n={}){return n.translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(r=>({x:(r.x||0)+t,y:(r.y||0)+e}),n)}scale(t,e,n,r={}){return this.applyToPoints(s=>z.create(s).scale(t,e,n).toJSON(),r)}applyToPoints(t,e={}){const n={},r=this.getSource(),s=this.getTarget();z.isPointLike(r)&&(n.source=t(r)),z.isPointLike(s)&&(n.target=t(s));const c=this.getVertices();return c.length>0&&(n.vertices=c.map(t)),this.store.set(n,e),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const t=[this.getSourcePoint(),...this.getVertices().map(e=>z.create(e)),this.getTargetPoint()];return new te(t)}updateParent(t){let e=null;const n=this.getSourceCell(),r=this.getTargetCell(),s=this.getParent();return n&&r&&(n===r||n.isDescendantOf(r)?e=r:r.isDescendantOf(n)?e=n:e=En.getCommonAncestor(n,r)),s&&e&&e.id!==s.id&&s.unembed(this,t),e&&(!s||s.id!==e.id)&&e.embed(this,t),e}hasLoop(t={}){const e=this.getSource(),n=this.getTarget(),r=e.cell,s=n.cell;if(!r||!s)return!1;let c=r===s;if(!c&&t.deep&&this._model){const f=this.getSourceCell(),d=this.getTargetCell();f&&d&&(c=f.isAncestorOf(d,t)||d.isAncestorOf(f,t))}return c}getFragmentAncestor(){const t=[this,this.getSourceNode(),this.getTargetNode()].filter(e=>e!=null);return this.getCommonAncestor(...t)}isFragmentDescendantOf(t){const e=this.getFragmentAncestor();return!!e&&(e.id===t.id||e.isDescendantOf(t))}}Yn.defaults={},function(l){function t(e,n){const r=e,s=n;return r.cell===s.cell?r.port===s.port||r.port==null&&s.port==null:!1}l.equalTerminals=t}(Yn||(Yn={})),function(l){l.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}};function t(e){return{attrs:{label:{text:e}}}}l.parseStringLabel=t}(Yn||(Yn={})),function(l){l.toStringTag=`X6.${l.name}`;function t(e){if(e==null)return!1;if(e instanceof l)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===l.toStringTag)&&typeof r.isNode=="function"&&typeof r.isEdge=="function"&&typeof r.prop=="function"&&typeof r.attr=="function"&&typeof r.disconnect=="function"&&typeof r.getSource=="function"&&typeof r.getTarget=="function"}l.isEdge=t}(Yn||(Yn={})),function(l){l.registry=qe.create({type:"edge",process(t,e){if(Bo.exist(t,!1))throw new Error(`Edge with name '${t}' was registered by anthor Node`);if(typeof e=="function")return e.config({shape:t}),e;let n=l;const{inherit:r="edge"}=e,s=ca(e,["inherit"]);if(typeof r=="string"){const f=this.get(r||"edge");f==null&&r?this.onNotFound(r,"inherited"):n=f}else n=r;s.constructorName==null&&(s.constructorName=t);const c=n.define.call(n,s);return c.config({shape:t}),c}}),Bo.setEdgeRegistry(l.registry)}(Yn||(Yn={})),function(l){let t=0;function e(s){return s?b.kf.pascalCase(s):(t+=1,`CustomEdge${t}`)}function n(s){const{constructorName:c,overwrite:f}=s,d=ca(s,["constructorName","overwrite"]),p=b.QK.createClass(e(c||d.shape),this);return p.config(d),d.shape&&l.registry.register(d.shape,p,f),p}l.define=n;function r(s){const c=s.shape||"edge",f=l.registry.get(c);return f?new f(s):l.registry.onNotFound(c)}l.create=r}(Yn||(Yn={})),function(l){const t="basic.edge";l.config({shape:t,propHooks(e){const{label:n,vertices:r}=e,s=ca(e,["label","vertices"]);if(n){s.labels==null&&(s.labels=[]);const c=typeof n=="string"?l.parseStringLabel(n):n;s.labels.push(c)}return r&&Array.isArray(r)&&(s.vertices=r.map(c=>z.create(c).toJSON())),s}}),l.registry.register(t,l)}(Yn||(Yn={}));var il=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class sl extends b.ew{constructor(t,e={}){super(),this.length=0,this.comparator=e.comparator||"zIndex",this.clean(),t&&this.reset(t,{silent:!0})}toJSON(){return this.cells.map(t=>t.toJSON())}add(t,e,n){let r,s;typeof e=="number"?(r=e,s=Object.assign({merge:!1},n)):(r=this.length,s=Object.assign({merge:!1},e)),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);const c=Array.isArray(t)?t:[t],f=this.comparator&&typeof e!="number"&&s.sort!==!1,d=this.comparator||null;let p=!1;const v=[],C=[];return c.forEach(y=>{const O=this.get(y);O?s.merge&&!y.isSameStore(O)&&(O.setProp(y.getProp(),n),C.push(O),f&&!p&&(d==null||typeof d=="function"?p=O.hasChanged():typeof d=="string"?p=O.hasChanged(d):p=d.some(F=>O.hasChanged(F)))):(v.push(y),this.reference(y))}),v.length&&(f&&(p=!0),this.cells.splice(r,0,...v),this.length=this.cells.length),p&&this.sort({silent:!0}),s.silent||(v.forEach((y,O)=>{const F={cell:y,index:r+O,options:s};this.trigger("added",F),s.dryrun||y.notify("added",Object.assign({},F))}),p&&this.trigger("sorted"),(v.length||C.length)&&this.trigger("updated",{added:v,merged:C,removed:[],options:s})),this}remove(t,e={}){const n=Array.isArray(t)?t:[t],r=this.removeCells(n,e);return!e.silent&&r.length>0&&this.trigger("updated",{options:e,removed:r,added:[],merged:[]}),Array.isArray(t)?r:r[0]}removeCells(t,e){const n=[];for(let r=0;r<t.length;r+=1){const s=this.get(t[r]);if(s==null)continue;const c=this.cells.indexOf(s);this.cells.splice(c,1),this.length-=1,delete this.map[s.id],n.push(s),this.unreference(s),e.dryrun||s.remove(),e.silent||(this.trigger("removed",{cell:s,index:c,options:e}),e.dryrun||s.notify("removed",{cell:s,index:c,options:e}))}return n}reset(t,e={}){const n=this.cells.slice();if(n.forEach(r=>this.unreference(r)),this.clean(),this.add(t,Object.assign({silent:!0},e)),!e.silent){const r=this.cells.slice();this.trigger("reseted",{options:e,previous:n,current:r});const s=[],c=[];r.forEach(f=>{n.some(p=>p.id===f.id)||s.push(f)}),n.forEach(f=>{r.some(p=>p.id===f.id)||c.push(f)}),this.trigger("updated",{options:e,added:s,removed:c,merged:[]})}return this}push(t,e){return this.add(t,this.length,e)}pop(t){const e=this.at(this.length-1);return this.remove(e,t)}unshift(t,e){return this.add(t,0,e)}shift(t){const e=this.at(0);return this.remove(e,t)}get(t){if(t==null)return null;const e=typeof t=="string"||typeof t=="number"?t:t.id;return this.map[e]||null}has(t){return this.get(t)!=null}at(t){return t<0&&(t+=this.length),this.cells[t]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(t){return this.cells.indexOf(t)}toArray(){return this.cells.slice()}sort(t={}){return this.comparator!=null&&(this.cells=b.RO.sortBy(this.cells,this.comparator),t.silent||this.trigger("sorted")),this}clone(){const t=this.constructor;return new t(this.cells.slice(),{comparator:this.comparator})}reference(t){this.map[t.id]=t,t.on("*",this.notifyCellEvent,this)}unreference(t){t.off("*",this.notifyCellEvent,this),delete this.map[t.id]}notifyCellEvent(t,e){const n=e.cell;this.trigger(`cell:${t}`,e),n&&(n.isNode()?this.trigger(`node:${t}`,Object.assign(Object.assign({},e),{node:n})):n.isEdge()&&this.trigger(`edge:${t}`,Object.assign(Object.assign({},e),{edge:n})))}clean(){this.length=0,this.cells=[],this.map={}}dispose(){this.reset([])}}il([sl.dispose()],sl.prototype,"dispose",null);var dc=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class gs extends b.ew{get[Symbol.toStringTag](){return gs.toStringTag}constructor(t=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new sl(t),this.setup()}notify(t,e){this.trigger(t,e);const n=this.graph;return n&&(t==="sorted"||t==="reseted"||t==="updated"?n.trigger(`model:${t}`,e):n.trigger(t,e)),this}setup(){const t=this.collection;t.on("sorted",()=>this.notify("sorted",null)),t.on("updated",e=>this.notify("updated",e)),t.on("cell:change:zIndex",()=>this.sortOnChangeZ()),t.on("added",({cell:e})=>{this.onCellAdded(e)}),t.on("removed",e=>{const n=e.cell;this.onCellRemoved(n,e.options),this.notify("cell:removed",e),n.isNode()?this.notify("node:removed",Object.assign(Object.assign({},e),{node:n})):n.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},e),{edge:n}))}),t.on("reseted",e=>{this.onReset(e.current),this.notify("reseted",e)}),t.on("edge:change:source",({edge:e})=>this.onEdgeTerminalChanged(e,"source")),t.on("edge:change:target",({edge:e})=>{this.onEdgeTerminalChanged(e,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(t){const e=t.id;t.isEdge()?(t.updateParent(),this.edges[e]=!0,this.onEdgeTerminalChanged(t,"source"),this.onEdgeTerminalChanged(t,"target")):this.nodes[e]=!0}onCellRemoved(t,e){const n=t.id;if(t.isEdge()){delete this.edges[n];const r=t.getSource(),s=t.getTarget();if(r&&r.cell){const c=this.outgoings[r.cell],f=c?c.indexOf(n):-1;f>=0&&(c.splice(f,1),c.length===0&&delete this.outgoings[r.cell])}if(s&&s.cell){const c=this.incomings[s.cell],f=c?c.indexOf(n):-1;f>=0&&(c.splice(f,1),c.length===0&&delete this.incomings[s.cell])}}else delete this.nodes[n];e.clear||(e.disconnectEdges?this.disconnectConnectedEdges(t,e):this.removeConnectedEdges(t,e)),t.model===this&&(t.model=null)}onReset(t){this.nodes={},this.edges={},this.outgoings={},this.incomings={},t.forEach(e=>this.onCellAdded(e))}onEdgeTerminalChanged(t,e){const n=e==="source"?this.outgoings:this.incomings,r=t.previous(e);if(r&&r.cell){const c=En.isCell(r.cell)?r.cell.id:r.cell,f=n[c],d=f?f.indexOf(t.id):-1;d>=0&&(f.splice(d,1),f.length===0&&delete n[c])}const s=t.getTerminal(e);if(s&&s.cell){const c=En.isCell(s.cell)?s.cell.id:s.cell,f=n[c]||[];f.indexOf(t.id)===-1&&f.push(t.id),n[c]=f}}prepareCell(t,e){return!t.model&&(!e||!e.dryrun)&&(t.model=this),t.zIndex==null&&t.setZIndex(this.getMaxZIndex()+1,{silent:!0}),t}resetCells(t,e={}){return t.map(n=>this.prepareCell(n,Object.assign(Object.assign({},e),{dryrun:!0}))),this.collection.reset(t,e),t.map(n=>this.prepareCell(n,{options:e})),this}clear(t={}){const e=this.getCells();if(e.length===0)return this;const n=Object.assign(Object.assign({},t),{clear:!0});return this.batchUpdate("clear",()=>{const r=e.sort((s,c)=>{const f=s.isEdge()?1:2,d=c.isEdge()?1:2;return f-d});for(;r.length>0;){const s=r.shift();s&&s.remove(n)}},n),this}addNode(t,e={}){const n=Er.isNode(t)?t:this.createNode(t);return this.addCell(n,e),n}updateNode(t,e={}){const n=this.createNode(t),r=n.getProp();return n.dispose(),this.updateCell(r,e)}createNode(t){return Er.create(t)}addEdge(t,e={}){const n=Yn.isEdge(t)?t:this.createEdge(t);return this.addCell(n,e),n}createEdge(t){return Yn.create(t)}updateEdge(t,e={}){const n=this.createEdge(t),r=n.getProp();return n.dispose(),this.updateCell(r,e)}addCell(t,e={}){return Array.isArray(t)?this.addCells(t,e):(!this.collection.has(t)&&!this.addings.has(t)&&(this.addings.set(t,!0),this.collection.add(this.prepareCell(t,e),e),t.eachChild(n=>this.addCell(n,e)),this.addings.delete(t)),this)}addCells(t,e={}){const n=t.length;if(n===0)return this;const r=Object.assign(Object.assign({},e),{position:n-1,maxPosition:n-1});return this.startBatch("add",Object.assign(Object.assign({},r),{cells:t})),t.forEach(s=>{this.addCell(s,r),r.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},r),{cells:t})),this}updateCell(t,e={}){const n=t.id&&this.getCell(t.id);return n?this.batchUpdate("update",()=>(Object.entries(t).forEach(([r,s])=>n.setProp(r,s,e)),!0),t):!1}removeCell(t,e={}){const n=typeof t=="string"?this.getCell(t):t;return n&&this.has(n)?this.collection.remove(n,e):null}updateCellId(t,e){if(t.id===e)return;this.startBatch("update",{id:e}),t.prop("id",e);const n=t.clone({keepId:!0});return this.addCell(n),this.getConnectedEdges(t).forEach(s=>{const c=s.getSourceCell(),f=s.getTargetCell();c===t&&s.setSource(Object.assign(Object.assign({},s.getSource()),{cell:e})),f===t&&s.setTarget(Object.assign(Object.assign({},s.getTarget()),{cell:e}))}),this.removeCell(t),this.stopBatch("update",{id:e}),n}removeCells(t,e={}){return t.length?this.batchUpdate("remove",()=>t.map(n=>this.removeCell(n,e))):[]}removeConnectedEdges(t,e={}){const n=this.getConnectedEdges(t);return n.forEach(r=>{r.remove(e)}),n}disconnectConnectedEdges(t,e={}){const n=typeof t=="string"?t:t.id;this.getConnectedEdges(t).forEach(r=>{const s=r.getSourceCellId(),c=r.getTargetCellId();s===n&&r.setSource({x:0,y:0},e),c===n&&r.setTarget({x:0,y:0},e)})}has(t){return this.collection.has(t)}total(){return this.collection.length}indexOf(t){return this.collection.indexOf(t)}getCell(t){return this.collection.get(t)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const t=this.collection.first();return t&&t.getZIndex()||0}getMaxZIndex(){const t=this.collection.last();return t&&t.getZIndex()||0}getCellsFromCache(t){return t?Object.keys(t).map(e=>this.getCell(e)).filter(e=>e!=null):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(t){const e=typeof t=="string"?t:t.id,n=this.outgoings[e];return n?n.map(r=>this.getCell(r)).filter(r=>r&&r.isEdge()):null}getIncomingEdges(t){const e=typeof t=="string"?t:t.id,n=this.incomings[e];return n?n.map(r=>this.getCell(r)).filter(r=>r&&r.isEdge()):null}getConnectedEdges(t,e={}){const n=[],r=typeof t=="string"?this.getCell(t):t;if(r==null)return n;const s={},c=e.indirect;let f=e.incoming,d=e.outgoing;f==null&&d==null&&(f=d=!0);const p=(v,C)=>{const y=C?this.getOutgoingEdges(v):this.getIncomingEdges(v);if(y!=null&&y.forEach(O=>{s[O.id]||(n.push(O),s[O.id]=!0,c&&(f&&p(O,!1),d&&p(O,!0)))}),c&&v.isEdge()){const O=C?v.getTargetCell():v.getSourceCell();O&&O.isEdge()&&(s[O.id]||(n.push(O),p(O,C)))}};if(d&&p(r,!0),f&&p(r,!1),e.deep){const v=r.getDescendants({deep:!0}),C={};v.forEach(O=>{O.isNode()&&(C[O.id]=!0)});const y=(O,F)=>{const Z=F?this.getOutgoingEdges(O.id):this.getIncomingEdges(O.id);Z!=null&&Z.forEach(X=>{if(!s[X.id]){const tt=X.getSourceCell(),ht=X.getTargetCell();if(!e.enclosed&&tt&&C[tt.id]&&ht&&C[ht.id])return;n.push(X),s[X.id]=!0}})};v.forEach(O=>{O.isEdge()||(d&&y(O,!0),f&&y(O,!1))})}return n}isBoundary(t,e){const n=typeof t=="string"?this.getCell(t):t,r=e?this.getIncomingEdges(n):this.getOutgoingEdges(n);return r==null||r.length===0}getBoundaryNodes(t){const e=[];return Object.keys(this.nodes).forEach(n=>{if(this.isBoundary(n,t)){const r=this.getCell(n);r&&e.push(r)}}),e}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(t){return this.isBoundary(t,!0)}isLeaf(t){return this.isBoundary(t,!1)}getNeighbors(t,e={}){let n=e.incoming,r=e.outgoing;n==null&&r==null&&(n=r=!0);const c=this.getConnectedEdges(t,e).reduce((f,d)=>{const p=d.hasLoop(e),v=d.getSourceCell(),C=d.getTargetCell();return n&&v&&v.isNode()&&!f[v.id]&&(p||v!==t&&(!e.deep||!v.isDescendantOf(t)))&&(f[v.id]=v),r&&C&&C.isNode()&&!f[C.id]&&(p||C!==t&&(!e.deep||!C.isDescendantOf(t)))&&(f[C.id]=C),f},{});if(t.isEdge()){if(n){const f=t.getSourceCell();f&&f.isNode()&&!c[f.id]&&(c[f.id]=f)}if(r){const f=t.getTargetCell();f&&f.isNode()&&!c[f.id]&&(c[f.id]=f)}}return Object.keys(c).map(f=>c[f])}isNeighbor(t,e,n={}){let r=n.incoming,s=n.outgoing;return r==null&&s==null&&(r=s=!0),this.getConnectedEdges(t,n).some(c=>{const f=c.getSourceCell(),d=c.getTargetCell();return!!(r&&f&&f.id===e.id||s&&d&&d.id===e.id)})}getSuccessors(t,e={}){const n=[];return this.search(t,(r,s)=>{r!==t&&this.matchDistance(s,e.distance)&&n.push(r)},Object.assign(Object.assign({},e),{outgoing:!0})),n}isSuccessor(t,e,n={}){let r=!1;return this.search(t,(s,c)=>{if(s===e&&s!==t&&this.matchDistance(c,n.distance))return r=!0,!1},Object.assign(Object.assign({},n),{outgoing:!0})),r}getPredecessors(t,e={}){const n=[];return this.search(t,(r,s)=>{r!==t&&this.matchDistance(s,e.distance)&&n.push(r)},Object.assign(Object.assign({},e),{incoming:!0})),n}isPredecessor(t,e,n={}){let r=!1;return this.search(t,(s,c)=>{if(s===e&&s!==t&&this.matchDistance(c,n.distance))return r=!0,!1},Object.assign(Object.assign({},n),{incoming:!0})),r}matchDistance(t,e){return e==null?!0:typeof e=="function"?e(t):Array.isArray(e)&&e.includes(t)?!0:t===e}getCommonAncestor(...t){const e=[];return t.forEach(n=>{n&&(Array.isArray(n)?e.push(...n):e.push(n))}),En.getCommonAncestor(...e)}getSubGraph(t,e={}){const n=[],r={},s=[],c=[],f=d=>{r[d.id]||(n.push(d),r[d.id]=d,d.isEdge()&&c.push(d),d.isNode()&&s.push(d))};return t.forEach(d=>{f(d),e.deep&&d.getDescendants({deep:!0}).forEach(v=>f(v))}),c.forEach(d=>{const p=d.getSourceCell(),v=d.getTargetCell();p&&!r[p.id]&&(n.push(p),r[p.id]=p,p.isNode()&&s.push(p)),v&&!r[v.id]&&(n.push(v),r[v.id]=v,v.isNode()&&s.push(v))}),s.forEach(d=>{this.getConnectedEdges(d,e).forEach(v=>{const C=v.getSourceCell(),y=v.getTargetCell();!r[v.id]&&C&&r[C.id]&&y&&r[y.id]&&(n.push(v),r[v.id]=v)})}),n}cloneSubGraph(t,e={}){const n=this.getSubGraph(t,e);return this.cloneCells(n)}cloneCells(t){return En.cloneCells(t)}getNodesFromPoint(t,e){const n=typeof t=="number"?{x:t,y:e||0}:t;return this.getNodes().filter(r=>r.getBBox().containsPoint(n))}getNodesInArea(t,e,n,r,s){const c=typeof t=="number"?new Ot(t,e,n,r):Ot.create(t),f=typeof t=="number"?s:e,d=f&&f.strict;return this.getNodes().filter(p=>{const v=p.getBBox();return d?c.containsRect(v):c.isIntersectWithRect(v)})}getEdgesInArea(t,e,n,r,s){const c=typeof t=="number"?new Ot(t,e,n,r):Ot.create(t),f=typeof t=="number"?s:e,d=f&&f.strict;return this.getEdges().filter(p=>{const v=p.getBBox();return v.width===0?v.inflate(1,0):v.height===0&&v.inflate(0,1),d?c.containsRect(v):c.isIntersectWithRect(v)})}getNodesUnderNode(t,e={}){const n=t.getBBox();return(e.by==null||e.by==="bbox"?this.getNodesInArea(n):this.getNodesFromPoint(n[e.by])).filter(s=>t.id!==s.id&&!s.isDescendantOf(t))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(t,e={}){return En.getCellsBBox(t,e)}search(t,e,n={}){n.breadthFirst?this.breadthFirstSearch(t,e,n):this.depthFirstSearch(t,e,n)}breadthFirstSearch(t,e,n={}){const r=[],s={},c={};for(r.push(t),c[t.id]=0;r.length>0;){const f=r.shift();if(f==null||s[f.id]||(s[f.id]=!0,b.Iw.call(e,this,f,c[f.id])===!1))continue;this.getNeighbors(f,n).forEach(p=>{c[p.id]=c[f.id]+1,r.push(p)})}}depthFirstSearch(t,e,n={}){const r=[],s={},c={};for(r.push(t),c[t.id]=0;r.length>0;){const f=r.pop();if(f==null||s[f.id]||(s[f.id]=!0,b.Iw.call(e,this,f,c[f.id])===!1))continue;const d=this.getNeighbors(f,n),p=r.length;d.forEach(v=>{c[v.id]=c[f.id]+1,r.splice(p,0,v)})}}getShortestPath(t,e,n={}){const r={};this.getEdges().forEach(p=>{const v=p.getSourceCellId(),C=p.getTargetCellId();v&&C&&(r[v]||(r[v]=[]),r[C]||(r[C]=[]),r[v].push(C),n.directed||r[C].push(v))});const s=typeof t=="string"?t:t.id,c=b.Db.run(r,s,n.weight),f=[];let d=typeof e=="string"?e:e.id;for(c[d]&&f.push(d);d=c[d];)f.unshift(d);return f}translate(t,e,n){return this.getCells().filter(r=>!r.hasParent()).forEach(r=>r.translate(t,e,n)),this}resize(t,e,n){return this.resizeCells(t,e,this.getCells(),n)}resizeCells(t,e,n,r={}){const s=this.getCellsBBox(n);if(s){const c=Math.max(t/s.width,0),f=Math.max(e/s.height,0),d=s.getOrigin();n.forEach(p=>p.scale(c,f,d,r))}return this}toJSON(t={}){return gs.toJSON(this.getCells(),t)}parseJSON(t){return gs.fromJSON(t)}fromJSON(t,e={}){const n=this.parseJSON(t);return this.resetCells(n,e),this}startBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)+1,this.notify("batch:start",{name:t,data:e}),this}stopBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)-1,this.notify("batch:stop",{name:t,data:e}),this}batchUpdate(t,e,n={}){this.startBatch(t,n);const r=e();return this.stopBatch(t,n),r}hasActiveBatch(t=Object.keys(this.batches)){return(Array.isArray(t)?t:[t]).some(n=>this.batches[n]>0)}dispose(){this.collection.dispose()}}dc([gs.dispose()],gs.prototype,"dispose",null),function(l){l.toStringTag=`X6.${l.name}`;function t(e){if(e==null)return!1;if(e instanceof l)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===l.toStringTag)&&typeof r.addNode=="function"&&typeof r.addEdge=="function"&&r.collection!=null}l.isModel=t}(gs||(gs={})),function(l){function t(n,r={}){return{cells:n.map(s=>s.toJSON(r))}}l.toJSON=t;function e(n){const r=[];return Array.isArray(n)?r.push(...n):(n.cells&&r.push(...n.cells),n.nodes&&n.nodes.forEach(s=>{s.shape==null&&(s.shape="rect"),r.push(s)}),n.edges&&n.edges.forEach(s=>{s.shape==null&&(s.shape="edge"),r.push(s)})),r.map(s=>{const c=s.shape;if(c){if(Er.registry.exist(c))return Er.create(s);if(Yn.registry.exist(c))return Yn.create(s)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}l.fromJSON=e}(gs||(gs={}));var to=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};class Rs extends Er{get label(){return this.getLabel()}set label(t){this.setLabel(t)}getLabel(){return this.getAttrByPath("text/text")}setLabel(t,e){return t==null?this.removeLabel():this.setAttrByPath("text/text",t,e),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}(function(l){l.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},l.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},l.config({attrs:{text:Object.assign({},l.labelAttr)},propHooks(t){const{label:e}=t,n=to(t,["label"]);return e&&b.QK.setByPath(n,"attrs/text/text",e),n},visible:!0})})(Rs||(Rs={}));var Hn=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};function Xi(l,t="body"){return[{tagName:l,selector:t},{tagName:"text",selector:"label"}]}function su(l="xlink:href"){return e=>{const{imageUrl:n,imageWidth:r,imageHeight:s}=e,c=Hn(e,["imageUrl","imageWidth","imageHeight"]);if(n!=null||r!=null||s!=null){const f=()=>{if(c.attrs){const d=c.attrs.image;n!=null&&(d[l]=n),r!=null&&(d.width=r),s!=null&&(d.height=s),c.attrs.image=d}};c.attrs?(c.attrs.image==null&&(c.attrs.image={}),f()):(c.attrs={image:{}},f())}return c}}function jo(l,t,e={}){const n={constructorName:l,markup:Xi(l,e.selector),attrs:{[l]:Object.assign({},Rs.bodyAttr)}};return(e.parent||Rs).define(b.QK.merge(n,t,{shape:l}))}const ua=jo("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}}),ko=Yn.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}}),ps=jo("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});var gc=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};class po extends Rs{get points(){return this.getPoints()}set points(t){this.setPoints(t)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(t,e){return t==null?this.removePoints():this.setAttrByPath("body/refPoints",po.pointsToString(t),e),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}(function(l){function t(e){return typeof e=="string"?e:e.map(n=>Array.isArray(n)?n.join(","):z.isPointLike(n)?`${n.x}, ${n.y}`:"").join(" ")}l.pointsToString=t,l.config({propHooks(e){const{points:n}=e,r=gc(e,["points"]);if(n){const s=t(n);s&&b.QK.setByPath(r,"attrs/body/refPoints",s)}return r}})})(po||(po={}));const El=jo("polygon",{},{parent:po}),Ia=jo("polyline",{},{parent:po});var Al=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};const pi=Rs.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(l){const{path:t}=l,e=Al(l,["path"]);return t&&b.QK.setByPath(e,"attrs/body/refD",t),e}});var fa=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};const ou=Rs.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},b.t4.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:b.is.ns.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},Rs.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(l){const{text:t}=l,e=fa(l,["text"]);return t&&b.QK.setByPath(e,"attrs/label/text",t),e},attrHooks:{text:{set(l,{cell:t,view:e,refBBox:n,elem:r,attrs:s}){if(r instanceof HTMLElement)r.textContent=l;else{const c=s.style||{},f={text:l,width:-5,height:"100%"},d=Object.assign({textVerticalAnchor:"middle"},c),p=D.presets.textWrap;return b.Iw.call(p.set,this,f,{cell:t,view:e,elem:r,refBBox:n,attrs:d}),{fill:c.color||null}}},position(l,{refBBox:t,elem:e}){if(e instanceof SVGElement)return t.getCenter()}}}}),ms=jo("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:su()},{selector:"image"}),pc=jo("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}});class $r extends Rn{constructor(){super(...arguments),this.portsCache={}}get[Symbol.toStringTag](){return $r.toStringTag}getContainerClassName(){const t=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||t.push(this.prefixClassName("node-immovable")),t.join(" ")}updateClassName(t){const e=t.target;if(e.hasAttribute("magnet")){const n=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?b.is.removeClass(e,n):b.is.addClass(e,n)}else{const n=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(n):this.addClass(n)}}isNodeView(){return!0}confirmUpdate(t,e={}){let n=t;return this.hasAction(n,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(n,"render")?(this.render(),n=this.removeAction(n,["render","update","resize","translate","rotate","ports","tools"])):(n=this.handleAction(n,"resize",()=>this.resize(),"update"),n=this.handleAction(n,"update",()=>this.update(),A.useCSSSelector?"ports":null),n=this.handleAction(n,"translate",()=>this.translate()),n=this.handleAction(n,"rotate",()=>this.rotate()),n=this.handleAction(n,"ports",()=>this.renderPorts()),n=this.handleAction(n,"tools",()=>{this.getFlag("tools")===t?this.renderTools():this.updateTools(e)})),n}update(t){this.cleanCache(),A.useCSSSelector&&this.removePorts();const e=this.cell,n=e.getSize(),r=e.getAttrs();this.updateAttrs(this.container,r,{attrs:t===r?null:t,rootBBox:new Ot(0,0,n.width,n.height),selectors:this.selectors}),A.useCSSSelector&&this.renderPorts()}renderMarkup(){const t=this.cell.markup;if(t){if(typeof t=="string")throw new TypeError("Not support string markup.");return this.renderJSONMarkup(t)}throw new TypeError("Invalid node markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container);this.selectors=e.selectors,this.container.appendChild(e.fragment)}render(){return this.empty(),this.renderMarkup(),this.resize(),this.updateTransform(),A.useCSSSelector||this.renderPorts(),this.renderTools(),this}resize(){this.cell.getAngle()&&this.rotate(),this.update()}translate(){this.updateTransform()}rotate(){this.updateTransform()}getTranslationString(){const t=this.cell.getPosition();return`translate(${t.x},${t.y})`}getRotationString(){const t=this.cell.getAngle();if(t){const e=this.cell.getSize();return`rotate(${t},${e.width/2},${e.height/2})`}}updateTransform(){let t=this.getTranslationString();const e=this.getRotationString();e&&(t+=` ${e}`),this.container.setAttribute("transform",t)}findPortElem(t,e){const n=t?this.portsCache[t]:null;if(!n)return null;const r=n.portContentElement,s=n.portContentSelectors||{};return this.findOne(e,r,s)}cleanPortsCache(){this.portsCache={}}removePorts(){Object.values(this.portsCache).forEach(t=>{b.is.remove(t.portElement)})}renderPorts(){const t=this.container,e=[];t.childNodes.forEach(c=>{e.push(c)});const n=this.cell.getParsedPorts(),r=b.RO.groupBy(n,"zIndex"),s="auto";r[s]&&r[s].forEach(c=>{const f=this.getPortElement(c);t.append(f),e.push(f)}),Object.keys(r).forEach(c=>{if(c!==s){const f=parseInt(c,10);this.appendPorts(r[c],f,e)}}),this.updatePorts()}appendPorts(t,e,n){const r=t.map(s=>this.getPortElement(s));n[e]||e<0?b.is.before(n[Math.max(e,0)],r):b.is.append(this.container,r)}getPortElement(t){const e=this.portsCache[t.id];return e?e.portElement:this.createPortElement(t)}createPortElement(t){let e=Vn.renderMarkup(this.cell.getPortContainerMarkup());const n=e.elem;if(n==null)throw new Error("Invalid port container markup.");e=Vn.renderMarkup(this.getPortMarkup(t));const r=e.elem,s=e.selectors;if(r==null)throw new Error("Invalid port markup.");this.setAttrs({port:t.id,"port-group":t.group},r);let c="x6-port";t.group&&(c+=` x6-port-${t.group}`),b.is.addClass(n,c),b.is.addClass(n,"x6-port"),b.is.addClass(r,"x6-port-body"),n.appendChild(r);let f=s,d,p;if(this.existPortLabel(t)){if(e=Vn.renderMarkup(this.getPortLabelMarkup(t.label)),d=e.elem,p=e.selectors,d==null)throw new Error("Invalid port label markup.");if(s&&p){for(const C in p)if(s[C]&&C!==this.rootSelector)throw new Error("Selectors within port must be unique.");f=Object.assign(Object.assign({},s),p)}b.is.addClass(d,"x6-port-label"),n.appendChild(d)}return this.portsCache[t.id]={portElement:n,portSelectors:f,portLabelElement:d,portLabelSelectors:p,portContentElement:r,portContentSelectors:s},this.graph.options.onPortRendered&&this.graph.options.onPortRendered({port:t,node:this.cell,container:n,selectors:f,labelContainer:d,labelSelectors:p,contentContainer:r,contentSelectors:s}),n}updatePorts(){const t=this.cell.getParsedGroups(),e=Object.keys(t);e.length===0?this.updatePortGroup():e.forEach(n=>this.updatePortGroup(n))}updatePortGroup(t){const e=Ot.fromSize(this.cell.getSize()),n=this.cell.getPortsLayoutByGroup(t,e);for(let r=0,s=n.length;r<s;r+=1){const c=n[r],f=c.portId,d=this.portsCache[f]||{},p=c.portLayout;if(this.applyPortTransform(d.portElement,p),c.portAttrs!=null){const C={selectors:d.portSelectors||{}};c.portSize&&(C.rootBBox=Ot.fromSize(c.portSize)),this.updateAttrs(d.portElement,c.portAttrs,C)}const v=c.labelLayout;if(v&&d.portLabelElement&&(this.applyPortTransform(d.portLabelElement,v,-(p.angle||0)),v.attrs)){const C={selectors:d.portLabelSelectors||{}};c.labelSize&&(C.rootBBox=Ot.fromSize(c.labelSize)),this.updateAttrs(d.portLabelElement,v.attrs,C)}}}applyPortTransform(t,e,n=0){const r=e.angle,s=e.position,c=b.is.createSVGMatrix().rotate(n).translate(s.x||0,s.y||0).rotate(r||0);b.is.transform(t,c,{absolute:!0})}getPortMarkup(t){return t.markup||this.cell.portMarkup}getPortLabelMarkup(t){return t.markup||this.cell.portLabelMarkup}existPortLabel(t){return t.attrs&&t.attrs.text}getEventArgs(t,e,n){const r=this,s=r.cell,c=s;return e==null||n==null?{e:t,view:r,node:s,cell:c}:{e:t,x:e,y:n,view:r,node:s,cell:c}}getPortEventArgs(t,e,n){const r=this,s=r.cell,c=s;return n?{e:t,x:n.x,y:n.y,view:r,node:s,cell:c,port:e}:{e:t,view:r,node:s,cell:c,port:e}}notifyMouseDown(t,e,n){super.onMouseDown(t,e,n),this.notify("node:mousedown",this.getEventArgs(t,e,n))}notifyMouseMove(t,e,n){super.onMouseMove(t,e,n),this.notify("node:mousemove",this.getEventArgs(t,e,n))}notifyMouseUp(t,e,n){super.onMouseUp(t,e,n),this.notify("node:mouseup",this.getEventArgs(t,e,n))}notifyPortEvent(t,e,n){const r=this.findAttr("port",e.target);if(r){const s=e.type;t==="node:port:mouseenter"?e.type="mouseenter":t==="node:port:mouseleave"&&(e.type="mouseleave"),this.notify(t,this.getPortEventArgs(e,r,n)),e.type=s}}onClick(t,e,n){super.onClick(t,e,n),this.notify("node:click",this.getEventArgs(t,e,n)),this.notifyPortEvent("node:port:click",t,{x:e,y:n})}onDblClick(t,e,n){super.onDblClick(t,e,n),this.notify("node:dblclick",this.getEventArgs(t,e,n)),this.notifyPortEvent("node:port:dblclick",t,{x:e,y:n})}onContextMenu(t,e,n){super.onContextMenu(t,e,n),this.notify("node:contextmenu",this.getEventArgs(t,e,n)),this.notifyPortEvent("node:port:contextmenu",t,{x:e,y:n})}onMouseDown(t,e,n){this.isPropagationStopped(t)||(this.notifyMouseDown(t,e,n),this.notifyPortEvent("node:port:mousedown",t,{x:e,y:n}),this.startNodeDragging(t,e,n))}onMouseMove(t,e,n){const r=this.getEventData(t),s=r.action;if(s==="magnet")this.dragMagnet(t,e,n);else{if(s==="move"){const f=r.targetView||this;f.dragNode(t,e,n),f.notify("node:moving",{e:t,x:e,y:n,view:f,cell:f.cell,node:f.cell})}this.notifyMouseMove(t,e,n),this.notifyPortEvent("node:port:mousemove",t,{x:e,y:n})}this.setEventData(t,r)}onMouseUp(t,e,n){const r=this.getEventData(t),s=r.action;s==="magnet"?this.stopMagnetDragging(t,e,n):(this.notifyMouseUp(t,e,n),this.notifyPortEvent("node:port:mouseup",t,{x:e,y:n}),s==="move"&&(r.targetView||this).stopNodeDragging(t,e,n));const c=r.targetMagnet;c&&this.onMagnetClick(t,c,e,n),this.checkMouseleave(t)}onMouseOver(t){super.onMouseOver(t),this.notify("node:mouseover",this.getEventArgs(t)),this.notifyPortEvent("node:port:mouseenter",t),this.notifyPortEvent("node:port:mouseover",t)}onMouseOut(t){super.onMouseOut(t),this.notify("node:mouseout",this.getEventArgs(t)),this.notifyPortEvent("node:port:mouseleave",t),this.notifyPortEvent("node:port:mouseout",t)}onMouseEnter(t){this.updateClassName(t),super.onMouseEnter(t),this.notify("node:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("node:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,r){super.onMouseWheel(t,e,n,r),this.notify("node:mousewheel",Object.assign({delta:r},this.getEventArgs(t,e,n)))}onMagnetClick(t,e,n,r){const s=this.graph;s.view.getMouseMovedCount(t)>s.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:e},this.getEventArgs(t,n,r)))}onMagnetDblClick(t,e,n,r){this.notify("node:magnet:dblclick",Object.assign({magnet:e},this.getEventArgs(t,n,r)))}onMagnetContextMenu(t,e,n,r){this.notify("node:magnet:contextmenu",Object.assign({magnet:e},this.getEventArgs(t,n,r)))}onMagnetMouseDown(t,e,n,r){this.startMagnetDragging(t,n,r)}onCustomEvent(t,e,n,r){this.notify("node:customevent",Object.assign({name:e},this.getEventArgs(t,n,r))),super.onCustomEvent(t,e,n,r)}prepareEmbedding(t){const e=this.graph,r=this.getEventData(t).cell||this.cell,s=e.findViewByCell(r),c=e.snapToGrid(t.clientX,t.clientY);this.notify("node:embed",{e:t,node:r,view:s,cell:r,x:c.x,y:c.y,currentParent:r.getParent()})}processEmbedding(t,e){const n=e.cell||this.cell,r=e.graph||this.graph,s=r.options.embedding,c=s.findParent;let f=typeof c=="function"?b.Iw.call(c,r,{view:this,node:this.cell}).filter(y=>En.isCell(y)&&this.cell.id!==y.id&&!y.isDescendantOf(this.cell)):r.model.getNodesUnderNode(n,{by:c});if(s.frontOnly&&f.length>0){const y=b.RO.groupBy(f,"zIndex"),O=b.RO.max(Object.keys(y).map(F=>parseInt(F,10)));O&&(f=y[O])}f=f.filter(y=>y.visible);let d=null;const p=e.candidateEmbedView,v=s.validate;for(let y=f.length-1;y>=0;y-=1){const O=f[y];if(p&&p.cell.id===O.id){d=p;break}else{const F=O.findView(r);if(v&&b.Iw.call(v,r,{child:this.cell,parent:F.cell,childView:this,parentView:F})){d=F;break}}}this.clearEmbedding(e),d&&d.highlight(null,{type:"embedding"}),e.candidateEmbedView=d;const C=r.snapToGrid(t.clientX,t.clientY);this.notify("node:embedding",{e:t,cell:n,node:n,view:r.findViewByCell(n),x:C.x,y:C.y,currentParent:n.getParent(),candidateParent:d?d.cell:null})}clearEmbedding(t){const e=t.candidateEmbedView;e&&(e.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null)}finalizeEmbedding(t,e){this.graph.startBatch("embedding");const n=e.cell||this.cell,r=e.graph||this.graph,s=r.findViewByCell(n),c=n.getParent(),f=e.candidateEmbedView;if(f?(f.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null,(c==null||c.id!==f.cell.id)&&f.cell.insertChild(n,void 0,{ui:!0})):c&&c.unembed(n,{ui:!0}),r.model.getConnectedEdges(n,{deep:!0}).forEach(d=>{d.updateParent({ui:!0})}),s&&f){const d=r.snapToGrid(t.clientX,t.clientY);s.notify("node:embedded",{e:t,cell:n,x:d.x,y:d.y,node:n,view:r.findViewByCell(n),previousParent:c,currentParent:n.getParent()})}this.graph.stopBatch("embedding")}getDelegatedView(){let t=this.cell,e=this;for(;e&&!t.isEdge();){if(!t.hasParent()||e.can("stopDelegateOnDragging"))return e;t=t.getParent(),e=this.graph.findViewByCell(t)}return null}validateMagnet(t,e,n){if(e.getAttribute("magnet")!=="passive"){const r=this.graph.options.connecting.validateMagnet;return r?b.Iw.call(r,this.graph,{e:n,magnet:e,view:t,cell:t.cell}):!0}return!1}startMagnetDragging(t,e,n){if(!this.can("magnetConnectable"))return;t.stopPropagation();const r=t.currentTarget,s=this.graph;this.setEventData(t,{targetMagnet:r}),this.validateMagnet(this,r,t)?(s.options.magnetThreshold<=0&&this.startConnectting(t,r,e,n),this.setEventData(t,{action:"magnet"}),this.stopPropagation(t)):this.onMouseDown(t,e,n),s.view.delegateDragEvents(t,this)}startConnectting(t,e,n,r){this.graph.model.startBatch("add-edge");const s=this.createEdgeFromMagnet(e,n,r);s.setEventData(t,s.prepareArrowheadDragging("target",{x:n,y:r,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(t,{edgeView:s}),s.notifyMouseDown(t,n,r)}getDefaultEdge(t,e){let n;const r=this.graph.options.connecting.createEdge;return r&&(n=b.Iw.call(r,this.graph,{sourceMagnet:e,sourceView:t,sourceCell:t.cell})),n}createEdgeFromMagnet(t,e,n){const r=this.graph,s=r.model,c=this.getDefaultEdge(this,t);return c.setSource(Object.assign(Object.assign({},c.getSource()),this.getEdgeTerminal(t,e,n,c,"source"))),c.setTarget(Object.assign(Object.assign({},c.getTarget()),{x:e,y:n})),c.addTo(s,{async:!1,ui:!0}),c.findView(r)}dragMagnet(t,e,n){const r=this.getEventData(t),s=r.edgeView;if(s)s.onMouseMove(t,e,n),this.autoScrollGraph(t.clientX,t.clientY);else{const c=this.graph,f=c.options.magnetThreshold,d=this.getEventTarget(t),p=r.targetMagnet;if(f==="onleave"){if(p===d||p.contains(d))return}else if(c.view.getMouseMovedCount(t)<=f)return;this.startConnectting(t,p,e,n)}}stopMagnetDragging(t,e,n){const s=this.eventData(t).edgeView;s&&(s.onMouseUp(t,e,n),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(t,e,n){this.notify("node:unhandled:mousedown",{e:t,x:e,y:n,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(t,e,n,r,s){let c=[s];const f=this.graph.getPlugin("selection");if(f&&f.isSelectionMovable()){const d=f.getSelectedCells();d.includes(s)&&(c=d.filter(p=>p.isNode()))}c.forEach(d=>{this.notify(t,{e,x:n,y:r,cell:d,node:d,view:d.findView(this.graph)})})}getRestrictArea(t){const e=this.graph.options.translating.restrict,n=typeof e=="function"?b.Iw.call(e,this.graph,t):e;return typeof n=="number"?this.graph.transform.getGraphArea().inflate(n):n===!0?this.graph.transform.getGraphArea():n||null}startNodeDragging(t,e,n){const r=this.getDelegatedView();if(r==null||!r.can("nodeMovable"))return this.notifyUnhandledMouseDown(t,e,n);this.setEventData(t,{targetView:r,action:"move"});const s=z.create(r.cell.getPosition());r.setEventData(t,{moving:!1,offset:s.diff(e,n),restrict:this.getRestrictArea(r)})}dragNode(t,e,n){const r=this.cell,s=this.graph,c=s.getGridSize(),f=this.getEventData(t),d=f.offset,p=f.restrict;f.moving||(f.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",t,e,n,this.cell)),this.autoScrollGraph(t.clientX,t.clientY);const v=it.snapToGrid(e+d.x,c),C=it.snapToGrid(n+d.y,c);r.setPosition(v,C,{restrict:p,deep:!0,ui:!0}),s.options.embedding.enabled&&(f.embedding||(this.prepareEmbedding(t),f.embedding=!0),this.processEmbedding(t,f))}stopNodeDragging(t,e,n){const r=this.getEventData(t);r.embedding&&this.finalizeEmbedding(t,r),r.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",t,e,n,this.cell)),r.moving=!1,r.embedding=!1}autoScrollGraph(t,e){const n=this.graph.getPlugin("scroller");n&&n.autoScroll(t,e)}}(function(l){l.toStringTag=`X6.${l.name}`;function t(e){if(e==null)return!1;if(e instanceof l)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===l.toStringTag)&&typeof r.isNodeView=="function"&&typeof r.isEdgeView=="function"&&typeof r.confirmUpdate=="function"&&typeof r.update=="function"&&typeof r.findPortElem=="function"&&typeof r.resize=="function"&&typeof r.rotate=="function"&&typeof r.translate=="function"}l.isNodeView=t})($r||($r={})),$r.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}}),$r.registry.register("node",$r,!0);var Vo=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};class Ls extends Rn{constructor(){super(...arguments),this.POINT_ROUNDING=2,this.labelDestroyFn={}}get[Symbol.toStringTag](){return Ls.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const t=this.sourceView;if(!t){const n=this.cell.getSource();return new Ot(n.x,n.y)}const e=this.sourceMagnet;return t.isEdgeElement(e)?new Ot(this.sourceAnchor.x,this.sourceAnchor.y):t.getBBoxOfElement(e||t.container)}get targetBBox(){const t=this.targetView;if(!t){const n=this.cell.getTarget();return new Ot(n.x,n.y)}const e=this.targetMagnet;return t.isEdgeElement(e)?new Ot(this.targetAnchor.x,this.targetAnchor.y):t.getBBoxOfElement(e||t.container)}isEdgeView(){return!0}confirmUpdate(t,e={}){let n=t;if(this.hasAction(n,"source")){if(!this.updateTerminalProperties("source"))return n;n=this.removeAction(n,"source")}if(this.hasAction(n,"target")){if(!this.updateTerminalProperties("target"))return n;n=this.removeAction(n,"target")}return this.hasAction(n,"render")?(this.render(),n=this.removeAction(n,["render","update","labels","tools"]),n):(n=this.handleAction(n,"update",()=>this.update(e)),n=this.handleAction(n,"labels",()=>this.onLabelsChange(e)),n=this.handleAction(n,"tools",()=>this.renderTools()),n)}render(){return this.empty(),this.renderMarkup(),this.labelContainer=null,this.renderLabels(),this.update(),this.renderTools(),this}renderMarkup(){const t=this.cell.markup;if(t){if(typeof t=="string")throw new TypeError("Not support string markup.");return this.renderJSONMarkup(t)}throw new TypeError("Invalid edge markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container);this.selectors=e.selectors,this.container.append(e.fragment)}customizeLabels(){if(this.labelContainer){const t=this.cell,e=t.labels;for(let n=0,r=e.length;n<r;n+=1){const s=e[n],c=this.labelCache[n],f=this.labelSelectors[n],d=this.graph.options.onEdgeLabelRendered;if(d){const p=d({edge:t,label:s,container:c,selectors:f});p&&(this.labelDestroyFn[n]=p)}}}}destroyCustomizeLabels(){const t=this.cell.labels;if(this.labelCache&&this.labelSelectors&&this.labelDestroyFn)for(let e=0,n=t.length;e<n;e+=1){const r=this.labelDestroyFn[e],s=this.labelCache[e],c=this.labelSelectors[e];r&&s&&c&&r({edge:this.cell,label:t[e],container:s,selectors:c})}this.labelDestroyFn={}}renderLabels(){const t=this.cell,e=t.getLabels(),n=e.length;let r=this.labelContainer;if(this.labelCache={},this.labelSelectors={},n<=0)return r&&r.parentNode&&r.parentNode.removeChild(r),this;r?this.empty(r):(r=b.is.createSvgElement("g"),this.addClass(this.prefixClassName("edge-labels"),r),this.labelContainer=r);for(let s=0,c=e.length;s<c;s+=1){const f=e[s],d=this.normalizeLabelMarkup(this.parseLabelMarkup(f.markup));let p,v;if(d)p=d.node,v=d.selectors;else{const y=t.getDefaultLabel(),O=this.normalizeLabelMarkup(this.parseLabelMarkup(y.markup));p=O.node,v=O.selectors}p.setAttribute("data-index",`${s}`),r.appendChild(p);const C=this.rootSelector;if(v[C])throw new Error("Ambiguous label root selector.");v[C]=p,this.labelCache[s]=p,this.labelSelectors[s]=v}return r.parentNode==null&&this.container.appendChild(r),this.updateLabels(),this.customizeLabels(),this}onLabelsChange(t={}){this.destroyCustomizeLabels(),this.shouldRerenderLabels(t)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(t={}){const e=this.cell.previous("labels");if(e==null)return!0;if("propertyPathArray"in t&&"propertyValue"in t){const n=t.propertyPathArray||[],r=n.length;if(r>1){const s=n[1];if(e[s]){if(r===2)return typeof t.propertyValue=="object"&&b.QK.has(t.propertyValue,"markup");if(n[2]!=="markup")return!1}}}return!0}parseLabelMarkup(t){return t?typeof t=="string"?this.parseLabelStringMarkup(t):this.parseJSONMarkup(t):null}parseLabelStringMarkup(t){const e=b.OW.createVectors(t),n=document.createDocumentFragment();for(let r=0,s=e.length;r<s;r+=1){const c=e[r].node;n.appendChild(c)}return{fragment:n,selectors:{}}}normalizeLabelMarkup(t){if(t==null)return;const e=t.fragment;if(!(e instanceof DocumentFragment)||!e.hasChildNodes())throw new Error("Invalid label markup.");let n;const r=e.childNodes;return r.length>1||r[0].nodeName.toUpperCase()!=="G"?n=b.OW.create("g").append(e):n=b.OW.create(r[0]),n.addClass(this.prefixClassName("edge-label")),{node:n.node,selectors:t.selectors}}updateLabels(){if(this.labelContainer){const t=this.cell,e=t.labels,n=this.can("edgeLabelMovable"),r=t.getDefaultLabel();for(let s=0,c=e.length;s<c;s+=1){const f=this.labelCache[s],d=this.labelSelectors[s];f.setAttribute("cursor",n?"move":"default");const p=e[s],v=b.QK.merge({},r.attrs,p.attrs);this.updateAttrs(f,v,{selectors:d,rootBBox:p.size?Ot.fromSize(p.size):void 0})}}}renderTools(){const t=this.cell.getTools();return this.addTools(t),this}update(t={}){this.cleanCache(),this.updateConnection(t);const e=this.cell.getAttrs(),{text:n}=e,r=Vo(e,["text"]);return r!=null&&this.updateAttrs(this.container,r,{selectors:this.selectors}),this.updateLabelPositions(),this.updateTools(t),this}removeRedundantLinearVertices(t={}){const e=this.cell,n=e.getVertices(),r=[this.sourceAnchor,...n,this.targetAnchor],s=r.length,c=new te(r);c.simplify({threshold:.01});const f=c.points.map(p=>p.toJSON()),d=f.length;return s===d?0:(e.setVertices(f.slice(1,d-1),t),s-d)}getTerminalView(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalAnchor(t){switch(t){case"source":return z.create(this.sourceAnchor);case"target":return z.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalConnectionPoint(t){switch(t){case"source":return z.create(this.sourcePoint);case"target":return z.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalMagnet(t,e={}){switch(t){case"source":{if(e.raw)return this.sourceMagnet;const n=this.sourceView;return n?this.sourceMagnet||n.container:null}case"target":{if(e.raw)return this.targetMagnet;const n=this.targetView;return n?this.targetMagnet||n.container:null}default:throw new Error(`Unknown terminal type '${t}'`)}}updateConnection(t={}){const e=this.cell;if(t.translateBy&&e.isFragmentDescendantOf(t.translateBy)){const n=t.tx||0,r=t.ty||0;this.routePoints=new te(this.routePoints).translate(n,r).points,this.translateConnectionPoints(n,r),this.path.translate(n,r)}else{const n=e.getVertices(),r=this.findAnchors(n);this.sourceAnchor=r.source,this.targetAnchor=r.target,this.routePoints=this.findRoutePoints(n);const s=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=s.source,this.targetPoint=s.target;const c=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,c.source||this.sourcePoint,c.target||this.targetPoint)}this.cleanCache()}findAnchors(t){const e=this.cell,n=e.source,r=e.target,s=t[0],c=t[t.length-1];return r.priority&&!n.priority?this.findAnchorsOrdered("target",c,"source",s):this.findAnchorsOrdered("source",s,"target",c)}findAnchorsOrdered(t,e,n,r){let s,c;const f=this.cell,d=f[t],p=f[n],v=this.getTerminalView(t),C=this.getTerminalView(n),y=this.getTerminalMagnet(t),O=this.getTerminalMagnet(n);if(v){let F;e?F=z.create(e):C?F=O:F=z.create(p),s=this.getAnchor(d.anchor,v,y,F,t)}else s=z.create(d);if(C){const F=z.create(r||s);c=this.getAnchor(p.anchor,C,O,F,n)}else c=z.isPointLike(p)?z.create(p):new z;return{[t]:s,[n]:c}}getAnchor(t,e,n,r,s){const c=e.isEdgeElement(n),f=this.graph.options.connecting;let d=typeof t=="string"?{name:t}:t;if(!d){const C=c?(s==="source"?f.sourceEdgeAnchor:f.targetEdgeAnchor)||f.edgeAnchor:(s==="source"?f.sourceAnchor:f.targetAnchor)||f.anchor;d=typeof C=="string"?{name:C}:C}if(!d)throw new Error("Anchor should be specified.");let p;const v=d.name;if(c){const C=Mr.registry.get(v);if(typeof C!="function")return Mr.registry.onNotFound(v);p=b.Iw.call(C,this,e,n,r,d.args||{},s)}else{const C=pn.registry.get(v);if(typeof C!="function")return pn.registry.onNotFound(v);p=b.Iw.call(C,this,e,n,r,d.args||{},s)}return p?p.round(this.POINT_ROUNDING):new z}findRoutePoints(t=[]){const e=this.graph.options.connecting.router||go.presets.normal,n=this.cell.getRouter()||e;let r;if(typeof n=="function")r=b.Iw.call(n,this,t,{},this);else{const s=typeof n=="string"?n:n.name,c=typeof n=="string"?{}:n.args||{},f=s?go.registry.get(s):go.presets.normal;if(typeof f!="function")return go.registry.onNotFound(s);r=b.Iw.call(f,this,t,c,this)}return r==null?t.map(s=>z.create(s)):r.map(s=>z.create(s))}findConnectionPoints(t,e,n){const r=this.cell,s=this.graph.options.connecting,c=r.getSource(),f=r.getTarget(),d=this.sourceView,p=this.targetView,v=t[0],C=t[t.length-1];let y;if(d&&!d.isEdgeElement(this.sourceMagnet)){const F=this.sourceMagnet||d.container,Z=v||n,X=new Ft(Z,e),tt=c.connectionPoint||s.sourceConnectionPoint||s.connectionPoint;y=this.getConnectionPoint(tt,d,F,X,"source")}else y=e;let O;if(p&&!p.isEdgeElement(this.targetMagnet)){const F=this.targetMagnet||p.container,Z=f.connectionPoint||s.targetConnectionPoint||s.connectionPoint,X=C||e,tt=new Ft(X,n);O=this.getConnectionPoint(Z,p,F,tt,"target")}else O=n;return{source:y,target:O}}getConnectionPoint(t,e,n,r,s){const c=r.end;if(t==null)return c;const f=typeof t=="string"?t:t.name,d=typeof t=="string"?{}:t.args,p=_s.registry.get(f);if(typeof p!="function")return _s.registry.onNotFound(f);const v=b.Iw.call(p,this,r,e,n,d||{},s);return v?v.round(this.POINT_ROUNDING):c}findMarkerPoints(t,e,n){const r=C=>{const y=this.cell.getAttrs(),O=Object.keys(y);for(let F=0,Z=O.length;F<Z;F+=1){const X=y[O[F]];if(X[`${C}Marker`]||X[`${C}-marker`]){const tt=X.strokeWidth||X["stroke-width"];if(tt)return parseFloat(tt);break}}return null},s=t[0],c=t[t.length-1];let f,d;const p=r("source");p&&(f=e.clone().move(s||n,-p));const v=r("target");return v&&(d=n.clone().move(c||e,-v)),this.sourceMarkerPoint=f||e.clone(),this.targetMarkerPoint=d||n.clone(),{source:f,target:d}}findPath(t,e,n){const r=this.cell.getConnector()||this.graph.options.connecting.connector;let s,c,f;if(typeof r=="string"?s=r:(s=r.name,c=r.args),s){const p=Fo.registry.get(s);if(typeof p!="function")return Fo.registry.onNotFound(s);f=p}else f=Fo.presets.normal;const d=b.Iw.call(f,this,e,n,t,Object.assign(Object.assign({},c),{raw:!0}),this);return typeof d=="string"?qt.parse(d):d}translateConnectionPoints(t,e){this.sourcePoint.translate(t,e),this.targetPoint.translate(t,e),this.sourceAnchor.translate(t,e),this.targetAnchor.translate(t,e),this.sourceMarkerPoint.translate(t,e),this.targetMarkerPoint.translate(t,e)}updateLabelPositions(){if(this.labelContainer==null)return this;if(!this.path)return this;const e=this.cell,n=e.getLabels();if(n.length===0)return this;const r=e.getDefaultLabel(),s=this.normalizeLabelPosition(r.position);for(let c=0,f=n.length;c<f;c+=1){const d=n[c],p=this.labelCache[c];if(!p)continue;const v=this.normalizeLabelPosition(d.position),C=b.QK.merge({},s,v),y=this.getLabelTransformationMatrix(C);p.setAttribute("transform",b.is.matrixToTransformString(y))}return this}updateTerminalProperties(t){const e=this.cell,n=this.graph,r=e[t],s=r&&r.cell,c=`${t}View`;if(!s)return this[c]=null,this.updateTerminalMagnet(t),!0;const f=n.getCellById(s);if(!f)throw new Error(`Edge's ${t} node with id "${s}" not exists`);const d=f.findView(n);return d?(this[c]=d,this.updateTerminalMagnet(t),!0):!1}updateTerminalMagnet(t){const e=`${t}Magnet`,n=this.getTerminalView(t);if(n){let r=n.getMagnetFromEdgeTerminal(this.cell[t]);r===n.container&&(r=null),this[e]=r}else this[e]=null}getLabelPositionAngle(t){const e=this.cell.getLabelAt(t);return e&&e.position&&typeof e.position=="object"&&e.position.angle||0}getLabelPositionArgs(t){const e=this.cell.getLabelAt(t);if(e&&e.position&&typeof e.position=="object")return e.position.options}getDefaultLabelPositionArgs(){const t=this.cell.getDefaultLabel();if(t&&t.position&&typeof t.position=="object")return t.position.options}mergeLabelPositionArgs(t,e){return t===null?null:t===void 0?e===null?null:e:b.QK.merge({},e,t)}getConnection(){return this.path!=null?this.path.clone():null}getConnectionPathData(){if(this.path==null)return"";const t=this.cache.pathCache;return b.QK.has(t,"data")||(t.data=this.path.serialize()),t.data||""}getConnectionSubdivisions(){if(this.path==null)return null;const t=this.cache.pathCache;return b.QK.has(t,"segmentSubdivisions")||(t.segmentSubdivisions=this.path.getSegmentSubdivisions()),t.segmentSubdivisions}getConnectionLength(){if(this.path==null)return 0;const t=this.cache.pathCache;return b.QK.has(t,"length")||(t.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),t.length}getPointAtLength(t){return this.path==null?null:this.path.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(t){return this.path==null?null:(b.GH.isPercentage(t)&&(t=parseFloat(t)/100),this.path.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(t){return this.path==null?null:this.path.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(t){return this.path==null?null:this.path.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(t){return this.path==null?null:this.path.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(t){return this.path==null?null:this.path.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(t){return this.path==null?null:this.path.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(t,e,n,r){const s={distance:0};let c=0,f;typeof n=="number"?(c=n,f=r):f=n,f!=null&&(s.options=f);const d=f&&f.absoluteOffset,p=!(f&&f.absoluteDistance),v=f&&f.absoluteDistance&&f.reverseDistance,C=this.path,y={segmentSubdivisions:this.getConnectionSubdivisions()},O=new z(t,e),F=C.closestPointT(O,y),Z=this.getConnectionLength()||0;let X=C.lengthAtT(F,y);p&&(X=Z>0?X/Z:0),v&&(X=-1*(Z-X)||1),s.distance=X;let tt;d||(tt=C.tangentAtT(F));let ht;if(tt)ht=tt.pointOffset(O);else{const mt=C.pointAtT(F),Tt=O.diff(mt);ht={x:Tt.x,y:Tt.y}}return s.offset=ht,s.angle=c,s}normalizeLabelPosition(t){return typeof t=="number"?{distance:t}:t}getLabelTransformationMatrix(t){const e=this.normalizeLabelPosition(t),n=e.options||{},r=e.angle||0,s=e.distance,c=s>0&&s<=1;let f=0;const d={x:0,y:0},p=e.offset;p&&(typeof p=="number"?f=p:(p.x!=null&&(d.x=p.x),p.y!=null&&(d.y=p.y)));const v=d.x!==0||d.y!==0||f===0,C=n.keepGradient,y=n.ensureLegibility,O=this.path,F={segmentSubdivisions:this.getConnectionSubdivisions()},Z=c?s*this.getConnectionLength():s,X=O.tangentAtLength(Z,F);let tt,ht=r;if(X){if(v)tt=X.start,tt.translate(d);else{const mt=X.clone();mt.rotate(-90,X.start),mt.setLength(f),tt=mt.end}C&&(ht=X.angle()+r,y&&(ht=ot.normalize((ht+90)%180-90)))}else tt=O.start,v&&tt.translate(d);return b.is.createSVGMatrix().translate(tt.x,tt.y).rotate(ht)}getVertexIndex(t,e){const r=this.cell.getVertices(),s=this.getClosestPointLength(new z(t,e));let c=0;if(s!=null)for(const f=r.length;c<f;c+=1){const d=r[c],p=this.getClosestPointLength(d);if(p!=null&&s<p)break}return c}getEventArgs(t,e,n){const r=this,s=r.cell,c=s;return e==null||n==null?{e:t,view:r,edge:s,cell:c}:{e:t,x:e,y:n,view:r,edge:s,cell:c}}notifyUnhandledMouseDown(t,e,n){this.notify("edge:unhandled:mousedown",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(t,e,n){super.onMouseDown(t,e,n),this.notify("edge:mousedown",this.getEventArgs(t,e,n))}notifyMouseMove(t,e,n){super.onMouseMove(t,e,n),this.notify("edge:mousemove",this.getEventArgs(t,e,n))}notifyMouseUp(t,e,n){super.onMouseUp(t,e,n),this.notify("edge:mouseup",this.getEventArgs(t,e,n))}onClick(t,e,n){super.onClick(t,e,n),this.notify("edge:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){super.onDblClick(t,e,n),this.notify("edge:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){super.onContextMenu(t,e,n),this.notify("edge:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){this.notifyMouseDown(t,e,n),this.startEdgeDragging(t,e,n)}onMouseMove(t,e,n){const r=this.getEventData(t);switch(r.action){case"drag-label":{this.dragLabel(t,e,n);break}case"drag-arrowhead":{this.dragArrowhead(t,e,n);break}case"drag-edge":{this.dragEdge(t,e,n);break}default:break}return this.notifyMouseMove(t,e,n),r}onMouseUp(t,e,n){const r=this.getEventData(t);switch(r.action){case"drag-label":{this.stopLabelDragging(t,e,n);break}case"drag-arrowhead":{this.stopArrowheadDragging(t,e,n);break}case"drag-edge":{this.stopEdgeDragging(t,e,n);break}default:break}return this.notifyMouseUp(t,e,n),this.checkMouseleave(t),r}onMouseOver(t){super.onMouseOver(t),this.notify("edge:mouseover",this.getEventArgs(t))}onMouseOut(t){super.onMouseOut(t),this.notify("edge:mouseout",this.getEventArgs(t))}onMouseEnter(t){super.onMouseEnter(t),this.notify("edge:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("edge:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,r){super.onMouseWheel(t,e,n,r),this.notify("edge:mousewheel",Object.assign({delta:r},this.getEventArgs(t,e,n)))}onCustomEvent(t,e,n,r){if(b.is.findParentByClass(t.target,"edge-tool",this.container)){if(t.stopPropagation(),this.can("useEdgeTools")){if(e==="edge:remove"){this.cell.remove({ui:!0});return}this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,n,r)))}this.notifyMouseDown(t,n,r)}else this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,n,r))),super.onCustomEvent(t,e,n,r)}onLabelMouseDown(t,e,n){this.notifyMouseDown(t,e,n),this.startLabelDragging(t,e,n),this.getEventData(t).stopPropagation&&t.stopPropagation()}startEdgeDragging(t,e,n){if(!this.can("edgeMovable")){this.notifyUnhandledMouseDown(t,e,n);return}this.setEventData(t,{x:e,y:n,moving:!1,action:"drag-edge"})}dragEdge(t,e,n){const r=this.getEventData(t);r.moving||(r.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(e-r.x,n-r.y,{ui:!0}),this.setEventData(t,{x:e,y:n}),this.notify("edge:moving",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(t,e,n){const r=this.getEventData(t);r.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})),r.moving=!1}prepareArrowheadDragging(t,e){const n=this.getTerminalMagnet(t),r={action:"drag-arrowhead",x:e.x,y:e.y,isNewEdge:e.isNewEdge===!0,terminalType:t,initialMagnet:n,initialTerminal:b.QK.clone(this.cell[t]),fallbackAction:e.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(t),options:e.options};return this.beforeArrowheadDragging(r),r}createValidateConnectionArgs(t){const e=[];e[4]=t,e[5]=this;let n,r=0,s=0;t==="source"?(r=2,n="target"):(s=2,n="source");const c=this.cell[n],f=c.cell;if(f){let d;const p=e[r]=this.graph.findViewByCell(f);p&&(d=p.getMagnetFromEdgeTerminal(c),d===p.container&&(d=void 0)),e[r+1]=d}return(d,p)=>(e[s]=d,e[s+1]=d.container===p?void 0:p,e)}beforeArrowheadDragging(t){t.zIndex=this.cell.zIndex,this.cell.toFront();const e=this.container.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(t)}afterArrowheadDragging(t){t.zIndex!=null&&(this.cell.setZIndex(t.zIndex,{ui:!0}),t.zIndex=null);const e=this.container;e.style.pointerEvents=t.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(t)}validateConnection(t,e,n,r,s,c,f){const d=this.graph.options.connecting,p=d.allowLoop,v=d.allowNode,C=d.allowEdge,y=d.allowPort,O=d.allowMulti,F=d.validateConnection,Z=c?c.cell:null,X=s==="target"?n:t,tt=s==="target"?r:e;let ht=!0;const mt=Tt=>{const Lt=s==="source"?f?f.port:null:Z?Z.getSourcePortId():null,ie=s==="target"?f?f.port:null:Z?Z.getTargetPortId():null;return b.Iw.call(Tt,this.graph,{edge:Z,edgeView:c,sourceView:t,targetView:n,sourcePort:Lt,targetPort:ie,sourceMagnet:e,targetMagnet:r,sourceCell:t?t.cell:null,targetCell:n?n.cell:null,type:s})};if(p!=null&&(typeof p=="boolean"?!p&&t===n&&(ht=!1):ht=mt(p)),ht&&y!=null&&(typeof y=="boolean"?!y&&tt&&(ht=!1):ht=mt(y)),ht&&C!=null&&(typeof C=="boolean"?!C&&Ls.isEdgeView(X)&&(ht=!1):ht=mt(C)),ht&&v!=null&&tt==null&&(typeof v=="boolean"?!v&&$r.isNodeView(X)&&(ht=!1):ht=mt(v)),ht&&O!=null&&c){const Tt=c.cell,Lt=s==="source"?f:Tt.getSource(),ie=s==="target"?f:Tt.getTarget(),je=f?this.graph.getCellById(f.cell):null;if(Lt&&ie&&Lt.cell&&ie.cell&&je)if(typeof O=="function")ht=mt(O);else{const nn=this.graph.model.getConnectedEdges(je,{outgoing:s==="source",incoming:s==="target"});nn.length&&(O==="withPort"?nn.some(Ye=>{const tn=Ye.getSource(),mn=Ye.getTarget();return tn&&mn&&tn.cell===Lt.cell&&mn.cell===ie.cell&&tn.port!=null&&tn.port===Lt.port&&mn.port!=null&&mn.port===ie.port})&&(ht=!1):O||nn.some(Ye=>{const tn=Ye.getSource(),mn=Ye.getTarget();return tn&&mn&&tn.cell===Lt.cell&&mn.cell===ie.cell})&&(ht=!1))}}return ht&&F!=null&&(ht=mt(F)),ht}allowConnectToBlank(t){const e=this.graph,r=e.options.connecting.allowBlank;if(typeof r!="function")return!!r;const s=e.findViewByCell(t),c=t.getSourceCell(),f=t.getTargetCell(),d=e.findViewByCell(c),p=e.findViewByCell(f);return b.Iw.call(r,e,{edge:t,edgeView:s,sourceCell:c,targetCell:f,sourceView:d,targetView:p,sourcePort:t.getSourcePortId(),targetPort:t.getTargetPortId(),sourceMagnet:s.sourceMagnet,targetMagnet:s.targetMagnet})}validateEdge(t,e,n){const r=this.graph;if(!this.allowConnectToBlank(t)){const c=t.getSourceCellId(),f=t.getTargetCellId();if(!(c&&f))return!1}const s=r.options.connecting.validateEdge;return s?b.Iw.call(s,r,{edge:t,type:e,previous:n}):!0}arrowheadDragging(t,e,n,r){r.x=e,r.y=n,r.currentTarget!==t&&(r.currentMagnet&&r.currentView&&r.currentView.unhighlight(r.currentMagnet,{type:"magnetAdsorbed"}),r.currentView=this.graph.findViewByElem(t),r.currentView?(r.currentMagnet=r.currentView.findMagnet(t),r.currentMagnet&&this.validateConnection(...r.getValidateConnectionArgs(r.currentView,r.currentMagnet),r.currentView.getEdgeTerminal(r.currentMagnet,e,n,this.cell,r.terminalType))?r.currentView.highlight(r.currentMagnet,{type:"magnetAdsorbed"}):r.currentMagnet=null):r.currentMagnet=null),r.currentTarget=t,this.cell.prop(r.terminalType,{x:e,y:n},Object.assign(Object.assign({},r.options),{ui:!0}))}arrowheadDragged(t,e,n){const r=t.currentView,s=t.currentMagnet;if(!s||!r)return;r.unhighlight(s,{type:"magnetAdsorbed"});const c=t.terminalType,f=r.getEdgeTerminal(s,e,n,this.cell,c);this.cell.setTerminal(c,f,{ui:!0})}snapArrowhead(t,e,n){const r=this.graph,{snap:s,allowEdge:c}=r.options.connecting,f=typeof s=="object"&&s.radius||50,d=typeof s=="object"&&s.anchor||"center",p=r.renderer.findViewsInArea({x:t-f,y:e-f,width:2*f,height:2*f},{nodeOnly:!0});if(c){const Tt=r.renderer.findEdgeViewsFromPoint({x:t,y:e},f).filter(Lt=>Lt!==this);p.push(...Tt)}const v=n.closestView||null,C=n.closestMagnet||null;n.closestView=null,n.closestMagnet=null;let y,O=Number.MAX_SAFE_INTEGER;const F=new z(t,e);p.forEach(Tt=>{if(Tt.container.getAttribute("magnet")!=="false"){if(Tt.isNodeView())y=d==="center"?Tt.cell.getBBox().getCenter().distance(F):Tt.cell.getBBox().getNearestPointToPoint(F).distance(F);else if(Tt.isEdgeView()){const Lt=Tt.getClosestPoint(F);Lt?y=Lt.distance(F):y=Number.MAX_SAFE_INTEGER}y<f&&y<O&&(C===Tt.container||this.validateConnection(...n.getValidateConnectionArgs(Tt,null),Tt.getEdgeTerminal(Tt.container,t,e,this.cell,n.terminalType)))&&(O=y,n.closestView=Tt,n.closestMagnet=Tt.container)}Tt.container.querySelectorAll("[magnet]").forEach(Lt=>{if(Lt.getAttribute("magnet")!=="false"){const ie=Tt.getBBoxOfElement(Lt);y=F.distance(ie.getCenter()),y<f&&y<O&&(C===Lt||this.validateConnection(...n.getValidateConnectionArgs(Tt,Lt),Tt.getEdgeTerminal(Lt,t,e,this.cell,n.terminalType)))&&(O=y,n.closestView=Tt,n.closestMagnet=Lt)}})});let Z;const X=n.terminalType,tt=n.closestView,ht=n.closestMagnet,mt=C!==ht;if(v&&mt&&v.unhighlight(C,{type:"magnetAdsorbed"}),tt){if(!mt)return;tt.highlight(ht,{type:"magnetAdsorbed"}),Z=tt.getEdgeTerminal(ht,t,e,this.cell,X)}else Z={x:t,y:e};this.cell.setTerminal(X,Z,{},Object.assign(Object.assign({},n.options),{ui:!0}))}snapArrowheadEnd(t){const e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(n,{type:"magnetAdsorbed"}),t.currentMagnet=e.findMagnet(n)),t.closestView=null,t.closestMagnet=null}finishEmbedding(t){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(t.zIndex=null)}fallbackConnection(t){switch(t.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(t.terminalType,t.initialTerminal,{ui:!0});break}}notifyConnectionEvent(t,e){const n=t.terminalType,r=t.initialTerminal,s=this.cell[n];if(s&&!Yn.equalTerminals(r,s)){const f=this.graph,d=r,p=d.cell?f.getCellById(d.cell):null,v=d.port,C=p?f.findViewByCell(p):null,y=p||t.isNewEdge?null:z.create(r).toJSON(),O=s,F=O.cell?f.getCellById(O.cell):null,Z=O.port,X=F?f.findViewByCell(F):null,tt=F?null:z.create(s).toJSON();this.notify("edge:connected",{e,previousCell:p,previousPort:v,previousView:C,previousPoint:y,currentCell:F,currentView:X,currentPort:Z,currentPoint:tt,previousMagnet:t.initialMagnet,currentMagnet:t.currentMagnet,edge:this.cell,view:this,type:n,isNew:t.isNewEdge})}}highlightAvailableMagnets(t){const e=this.graph,n=e.model.getCells();t.marked={};for(let r=0,s=n.length;r<s;r+=1){const c=e.findViewByCell(n[r]);if(!c||c.cell.id===this.cell.id)continue;const f=Array.prototype.slice.call(c.container.querySelectorAll("[magnet]"));c.container.getAttribute("magnet")!=="false"&&f.push(c.container);const d=f.filter(p=>this.validateConnection(...t.getValidateConnectionArgs(c,p),c.getEdgeTerminal(p,t.x,t.y,this.cell,t.terminalType)));if(d.length>0){for(let p=0,v=d.length;p<v;p+=1)c.highlight(d[p],{type:"magnetAvailable"});c.highlight(null,{type:"nodeAvailable"}),t.marked[c.cell.id]=d}}}unhighlightAvailableMagnets(t){const e=t.marked||{};Object.keys(e).forEach(n=>{const r=this.graph.findViewByCell(n);r&&(e[n].forEach(c=>{r.unhighlight(c,{type:"magnetAvailable"})}),r.unhighlight(null,{type:"nodeAvailable"}))}),t.marked=null}startArrowheadDragging(t,e,n){if(!this.can("arrowheadMovable")){this.notifyUnhandledMouseDown(t,e,n);return}const s=t.target.getAttribute("data-terminal"),c=this.prepareArrowheadDragging(s,{x:e,y:n});this.setEventData(t,c)}dragArrowhead(t,e,n){const r=this.getEventData(t);this.graph.options.connecting.snap?this.snapArrowhead(e,n,r):this.arrowheadDragging(this.getEventTarget(t),e,n,r)}stopArrowheadDragging(t,e,n){const r=this.graph,s=this.getEventData(t);r.options.connecting.snap?this.snapArrowheadEnd(s):this.arrowheadDragged(s,e,n),this.validateEdge(this.cell,s.terminalType,s.initialTerminal)?(this.finishEmbedding(s),this.notifyConnectionEvent(s,t)):this.fallbackConnection(s),this.afterArrowheadDragging(s)}startLabelDragging(t,e,n){if(this.can("edgeLabelMovable")){const r=t.currentTarget,s=parseInt(r.getAttribute("data-index"),10),c=this.getLabelPositionAngle(s),f=this.getLabelPositionArgs(s),d=this.getDefaultLabelPositionArgs(),p=this.mergeLabelPositionArgs(f,d);this.setEventData(t,{index:s,positionAngle:c,positionArgs:p,stopPropagation:!0,action:"drag-label"})}else this.setEventData(t,{stopPropagation:!0});this.graph.view.delegateDragEvents(t,this)}dragLabel(t,e,n){const r=this.getEventData(t),s=this.cell.getLabelAt(r.index),c=b.QK.merge({},s,{position:this.getLabelPosition(e,n,r.positionAngle,r.positionArgs)});this.cell.setLabelAt(r.index,c)}stopLabelDragging(t,e,n){}}(function(l){l.toStringTag=`X6.${l.name}`;function t(e){if(e==null)return!1;if(e instanceof l)return!0;const n=e[Symbol.toStringTag],r=e;return(n==null||n===l.toStringTag)&&typeof r.isNodeView=="function"&&typeof r.isEdgeView=="function"&&typeof r.confirmUpdate=="function"&&typeof r.update=="function"&&typeof r.getConnection=="function"}l.isEdgeView=t})(Ls||(Ls={})),Ls.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],tools:["tools"],vertices:["vertices","update"]}}),Ls.registry.register("edge",Ls,!0);var Si=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class qi extends Kn{get disposeContainer(){return!1}get options(){return this.graph.options}constructor(t){super(),this.graph=t;const{selectors:e,fragment:n}=Vn.parseJSONMarkup(qi.markup);this.background=e.background,this.grid=e.grid,this.svg=e.svg,this.defs=e.defs,this.viewport=e.viewport,this.primer=e.primer,this.stage=e.stage,this.decorator=e.decorator,this.overlay=e.overlay,this.container=this.options.container,this.restore=qi.snapshoot(this.container),b.is.addClass(this.container,this.prefixClassName("graph")),b.is.append(this.container,n),this.delegateEvents()}delegateEvents(){const t=this.constructor;return super.delegateEvents(t.events),this}guard(t,e){return t.type==="mousedown"&&t.button===2||this.options.guard&&this.options.guard(t,e)?!0:t.data&&t.data.guarded!==void 0?t.data.guarded:!(e&&e.cell&&En.isCell(e.cell)||this.svg===t.target||this.container===t.target||this.svg.contains(t.target))}findView(t){return this.graph.findViewByElem(t)}onDblClick(t){this.options.preventDefaultDblClick&&t.preventDefault();const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onDblClick(e,r.x,r.y):this.graph.trigger("blank:dblclick",{e,x:r.x,y:r.y})}onClick(t){if(this.getMouseMovedCount(t)<=this.options.clickThreshold){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onClick(e,r.x,r.y):this.graph.trigger("blank:click",{e,x:r.x,y:r.y})}}isPreventDefaultContextMenu(t){let e=this.options.preventDefaultContextMenu;return typeof e=="function"&&(e=b.Iw.call(e,this.graph,{view:t})),e}onContextMenu(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.isPreventDefaultContextMenu(n)&&t.preventDefault(),this.guard(e,n))return;const r=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onContextMenu(e,r.x,r.y):this.graph.trigger("blank:contextmenu",{e,x:r.x,y:r.y})}delegateDragEvents(t,e){t.data==null&&(t.data={}),this.setEventData(t,{currentView:e||null,mouseMovedCount:0,startPosition:{x:t.clientX,y:t.clientY}});const n=this.constructor;this.delegateDocumentEvents(n.documentEvents,t.data),this.undelegateEvents()}getMouseMovedCount(t){return this.getEventData(t).mouseMovedCount||0}onMouseDown(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;this.options.preventDefaultMouseDown&&t.preventDefault();const r=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onMouseDown(e,r.x,r.y):(this.options.preventDefaultBlankAction&&["touchstart"].includes(e.type)&&t.preventDefault(),this.graph.trigger("blank:mousedown",{e,x:r.x,y:r.y})),this.delegateDragEvents(e,n)}onMouseMove(t){const e=this.getEventData(t),n=e.startPosition;if(n&&n.x===t.clientX&&n.y===t.clientY||(e.mouseMovedCount==null&&(e.mouseMovedCount=0),e.mouseMovedCount+=1,e.mouseMovedCount<=this.options.moveThreshold))return;const s=this.normalizeEvent(t),c=this.graph.snapToGrid(s.clientX,s.clientY),f=e.currentView;f?f.onMouseMove(s,c.x,c.y):this.graph.trigger("blank:mousemove",{e:s,x:c.x,y:c.y}),this.setEventData(s,e)}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),n=this.graph.snapToGrid(e.clientX,e.clientY),s=this.getEventData(t).currentView;if(s?s.onMouseUp(e,n.x,n.y):this.graph.trigger("blank:mouseup",{e,x:n.x,y:n.y}),!t.isPropagationStopped()){const c=new b.is.EventObject(t,{type:"click",data:t.data});this.onClick(c)}t.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(!this.guard(e,n))if(n)n.onMouseOver(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseover",{e})}}onMouseOut(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(!this.guard(e,n))if(n)n.onMouseOut(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseout",{e})}}onMouseEnter(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.findViewByElem(e.relatedTarget);if(n){if(r===n)return;n.onMouseEnter(e)}else{if(r)return;this.graph.trigger("graph:mouseenter",{e})}}onMouseLeave(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=this.graph.findViewByElem(e.relatedTarget);if(n){if(r===n)return;n.onMouseLeave(e)}else{if(r)return;this.graph.trigger("graph:mouseleave",{e})}}onMouseWheel(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const r=e.originalEvent,s=this.graph.snapToGrid(r.clientX,r.clientY),c=Math.max(-1,Math.min(1,r.wheelDelta||-r.detail));n?n.onMouseWheel(e,s.x,s.y,c):this.graph.trigger("blank:mousewheel",{e,delta:c,x:s.x,y:s.y})}onCustomEvent(t){const e=t.currentTarget,n=e.getAttribute("event")||e.getAttribute("data-event");if(n){const r=this.findView(e);if(r){const s=this.normalizeEvent(t);if(this.guard(s,r))return;const c=this.graph.snapToGrid(s.clientX,s.clientY);r.onCustomEvent(s,n,c.x,c.y)}}}handleMagnetEvent(t,e){const n=t.currentTarget,r=n.getAttribute("magnet");if(r&&r.toLowerCase()!=="false"){const s=this.findView(n);if(s){const c=this.normalizeEvent(t);if(this.guard(c,s))return;const f=this.graph.snapToGrid(c.clientX,c.clientY);b.Iw.call(e,this.graph,s,c,n,f.x,f.y)}}}onMagnetMouseDown(t){this.handleMagnetEvent(t,(e,n,r,s,c)=>{e.onMagnetMouseDown(n,r,s,c)})}onMagnetDblClick(t){this.handleMagnetEvent(t,(e,n,r,s,c)=>{e.onMagnetDblClick(n,r,s,c)})}onMagnetContextMenu(t){const e=this.findView(t.target);this.isPreventDefaultContextMenu(e)&&t.preventDefault(),this.handleMagnetEvent(t,(n,r,s,c,f)=>{n.onMagnetContextMenu(r,s,c,f)})}onLabelMouseDown(t){const e=t.currentTarget,n=this.findView(e);if(n){const r=this.normalizeEvent(t);if(this.guard(r,n))return;const s=this.graph.snapToGrid(r.clientX,r.clientY);n.onLabelMouseDown(r,s.x,s.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}Si([Kn.dispose()],qi.prototype,"dispose",null),function(l){const t=`${A.prefixCls}-graph`;l.markup=[{ns:b.is.ns.xhtml,tagName:"div",selector:"background",className:`${t}-background`},{ns:b.is.ns.xhtml,tagName:"div",selector:"grid",className:`${t}-grid`},{ns:b.is.ns.svg,tagName:"svg",selector:"svg",className:`${t}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":b.is.ns.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${t}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${t}-svg-primer`},{tagName:"g",selector:"stage",className:`${t}-svg-stage`},{tagName:"g",selector:"decorator",className:`${t}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${t}-svg-overlay`}]}]}];function e(n){const r=n.cloneNode();return n.childNodes.forEach(s=>r.appendChild(s)),()=>{for(b.is.empty(n);n.attributes.length>0;)n.removeAttribute(n.attributes[0].name);for(let s=0,c=r.attributes.length;s<c;s+=1){const f=r.attributes[s];n.setAttribute(f.name,f.value)}r.childNodes.forEach(s=>n.appendChild(s))}}l.snapshoot=e}(qi||(qi={})),function(l){const t=A.prefixCls;l.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${t}-cell`]:"onMouseEnter",[`mouseleave  .${t}-cell`]:"onMouseLeave",[`mouseenter  .${t}-cell-tools`]:"onMouseEnter",[`mouseleave  .${t}-cell-tools`]:"onMouseLeave",[`mousedown   .${t}-cell [event]`]:"onCustomEvent",[`touchstart  .${t}-cell [event]`]:"onCustomEvent",[`mousedown   .${t}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${t}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${t}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${t}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${t}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${t}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${t}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${t}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${t}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${t}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${t}-cell image`]:"onImageDragStart",[`mousedown   .${t}-edge .${t}-edge-label`]:"onLabelMouseDown",[`touchstart  .${t}-edge .${t}-edge-label`]:"onLabelMouseDown"},l.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}}(qi||(qi={}));const au=`.x6-graph {
  position: relative;
  overflow: hidden;
  outline: none;
  touch-action: none;
}
.x6-graph-background,
.x6-graph-grid,
.x6-graph-svg {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-background-stage,
.x6-graph-grid-stage,
.x6-graph-svg-stage {
  user-select: none;
}
.x6-graph.x6-graph-pannable {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph.x6-graph-panning {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-node {
  cursor: move;
  /* stylelint-disable-next-line */
}
.x6-node.x6-node-immovable {
  cursor: default;
}
.x6-node * {
  -webkit-user-drag: none;
}
.x6-node .scalable * {
  vector-effect: non-scaling-stroke;
}
.x6-node [magnet='true'] {
  cursor: crosshair;
  transition: opacity 0.3s;
}
.x6-node [magnet='true']:hover {
  opacity: 0.7;
}
.x6-node foreignObject {
  display: block;
  overflow: visible;
  background-color: transparent;
}
.x6-node foreignObject > body {
  position: static;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: visible;
  background-color: transparent;
}
.x6-edge .source-marker,
.x6-edge .target-marker {
  vector-effect: non-scaling-stroke;
}
.x6-edge .connection {
  stroke-linejoin: round;
  fill: none;
}
.x6-edge .connection-wrap {
  cursor: move;
  opacity: 0;
  fill: none;
  stroke: #000;
  stroke-width: 15;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.x6-edge .connection-wrap:hover {
  opacity: 0.4;
  stroke-opacity: 0.4;
}
.x6-edge .vertices {
  cursor: move;
  opacity: 0;
}
.x6-edge .vertices .vertex {
  fill: #1abc9c;
}
.x6-edge .vertices .vertex :hover {
  fill: #34495e;
  stroke: none;
}
.x6-edge .vertices .vertex-remove {
  cursor: pointer;
  fill: #fff;
}
.x6-edge .vertices .vertex-remove-area {
  cursor: pointer;
  opacity: 0.1;
}
.x6-edge .vertices .vertex-group:hover .vertex-remove-area {
  opacity: 1;
}
.x6-edge .arrowheads {
  cursor: move;
  opacity: 0;
}
.x6-edge .arrowheads .arrowhead {
  fill: #1abc9c;
}
.x6-edge .arrowheads .arrowhead :hover {
  fill: #f39c12;
  stroke: none;
}
.x6-edge .tools {
  cursor: pointer;
  opacity: 0;
}
.x6-edge .tools .tool-options {
  display: none;
}
.x6-edge .tools .tool-remove circle {
  fill: #f00;
}
.x6-edge .tools .tool-remove path {
  fill: #fff;
}
.x6-edge:hover .vertices,
.x6-edge:hover .arrowheads,
.x6-edge:hover .tools {
  opacity: 1;
}
.x6-highlight-opacity {
  opacity: 0.3;
}
.x6-cell-tool-editor {
  position: relative;
  display: inline-block;
  min-height: 1em;
  margin: 0;
  padding: 0;
  line-height: 1;
  white-space: normal;
  text-align: center;
  vertical-align: top;
  overflow-wrap: normal;
  outline: none;
  transform-origin: 0 0;
  -webkit-user-drag: none;
}
.x6-edge-tool-editor {
  border: 1px solid #275fc5;
  border-radius: 2px;
}
`;class zr extends b.JT{get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}constructor(t){super(),this.graph=t,this.init()}init(){}}var lu=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Ra extends zr{init(){A.autoInsertCSS&&b.mf.ensure("core",au)}dispose(){b.mf.clean("core")}}lu([Ra.dispose()],Ra.prototype,"dispose",null);var cu=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e},eo;(function(l){function t(e){const{grid:n,panning:r,mousewheel:s,embedding:c}=e,f=cu(e,["grid","panning","mousewheel","embedding"]),d=e.container;if(d!=null)f.width==null&&(f.width=d.clientWidth),f.height==null&&(f.height=d.clientHeight);else throw new Error("Ensure the container of the graph is specified and valid");const p=b.QK.merge({},l.defaults,f),v={size:10,visible:!1};return typeof n=="number"?p.grid={size:n,visible:!1}:typeof n=="boolean"?p.grid=Object.assign(Object.assign({},v),{visible:n}):p.grid=Object.assign(Object.assign({},v),n),["panning","mousewheel","embedding"].forEach(y=>{const O=e[y];typeof O=="boolean"?p[y].enabled=O:p[y]=Object.assign(Object.assign({},p[y]),O)}),p}l.get=t})(eo||(eo={})),function(l){l.defaults={x:0,y:0,scaling:{min:.01,max:16},grid:{size:10,visible:!1},background:!1,panning:{enabled:!1,eventTypes:["leftMouseDown"]},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:A.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:A.prefix("available-magnet")}}},connecting:{snap:!1,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,allowBlank:!0,allowMulti:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",router:"normal",connector:"normal",validateConnection({type:t,sourceView:e,targetView:n}){return(t==="target"?n:e)!=null},createEdge(){return new ko}},translating:{restrict:!1},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},async:!0,virtual:!1,guard:()=>!1}}(eo||(eo={}));var mc=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},uu=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};class Ol extends zr{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(t){this.grid.visible!==t&&(this.grid.visible=t,this.update())}getGridSize(){return this.grid.size}setGridSize(t){this.grid.size=Math.max(t,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(t){this.clear(),this.instance=null,Object.assign(this.grid,t),this.patterns=this.resolveGrid(t),this.update()}update(t={}){const e=this.grid.size;if(e<=1||!this.grid.visible)return this.clear();const n=this.graph.matrix(),r=this.getInstance(),s=Array.isArray(t)?t:[t];this.patterns.forEach((d,p)=>{const v=`pattern_${p}`,C=n.a||1,y=n.d||1,{update:O,markup:F}=d,Z=uu(d,["update","markup"]),X=Object.assign(Object.assign(Object.assign({},Z),s[p]),{sx:C,sy:y,ox:n.e||0,oy:n.f||0,width:e*C,height:e*y});r.has(v)||r.add(v,b.OW.create("pattern",{id:v,patternUnits:"userSpaceOnUse"},b.OW.createVectors(F)).node);const tt=r.get(v);typeof O=="function"&&O(tt.childNodes[0],X);let ht=X.ox%X.width;ht<0&&(ht+=X.width);let mt=X.oy%X.height;mt<0&&(mt+=X.height),b.is.attr(tt,{x:ht,y:mt,width:X.width,height:X.height})});const c=new XMLSerializer().serializeToString(r.root),f=`url(data:image/svg+xml;base64,${btoa(c)})`;this.elem.style.backgroundImage=f}getInstance(){return this.instance||(this.instance=new Yt),this.instance}resolveGrid(t){if(!t)return[];const e=t.type;if(e==null)return[Object.assign(Object.assign({},Yt.presets.dot),t.args)];const n=Yt.registry.get(e);if(n){let r=t.args||[];return Array.isArray(r)||(r=[r]),Array.isArray(n)?n.map((s,c)=>Object.assign(Object.assign({},s),r[c])):[Object.assign(Object.assign({},n),r[0])]}return Yt.registry.onNotFound(e)}dispose(){this.stopListening(),this.clear()}}mc([zr.dispose()],Ol.prototype,"dispose",null);class vs extends zr{get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get stage(){return this.graph.view.stage}init(){this.resize()}getMatrix(){const t=this.viewport.getAttribute("transform");return t!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=t),b.is.createSVGMatrix(this.viewportMatrix)}setMatrix(t){const e=b.is.createSVGMatrix(t),n=b.is.matrixToTransformString(e);this.viewport.setAttribute("transform",n),this.viewportMatrix=e,this.viewportTransformString=n}resize(t,e){let n=t===void 0?this.options.width:t,r=e===void 0?this.options.height:e;this.options.width=n,this.options.height=r,typeof n=="number"&&(n=Math.round(n)),typeof r=="number"&&(r=Math.round(r)),this.container.style.width=n==null?"":`${n}px`,this.container.style.height=r==null?"":`${r}px`;const s=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},s)),this}getComputedSize(){let t=this.options.width,e=this.options.height;return b.GH.isNumber(t)||(t=this.container.clientWidth),b.GH.isNumber(e)||(e=this.container.clientHeight),{width:t,height:e}}getScale(){return b.is.matrixToScale(this.getMatrix())}scale(t,e=t,n=0,r=0){if(t=this.clampScale(t),e=this.clampScale(e),n||r){const c=this.getTranslation(),f=c.tx-n*(t-1),d=c.ty-r*(e-1);(f!==c.tx||d!==c.ty)&&this.translate(f,d)}const s=this.getMatrix();return s.a=t,s.d=e,this.setMatrix(s),this.graph.trigger("scale",{sx:t,sy:e,ox:n,oy:r}),this}clampScale(t){const e=this.graph.options.scaling;return b.GH.clamp(t,e.min||.01,e.max||16)}getZoom(){return this.getScale().sx}zoom(t,e){e=e||{};let n=t,r=t;const s=this.getScale(),c=this.getComputedSize();let f=c.width/2,d=c.height/2;if(e.absolute||(n+=s.sx,r+=s.sy),e.scaleGrid&&(n=Math.round(n/e.scaleGrid)*e.scaleGrid,r=Math.round(r/e.scaleGrid)*e.scaleGrid),e.maxScale&&(n=Math.min(e.maxScale,n),r=Math.min(e.maxScale,r)),e.minScale&&(n=Math.max(e.minScale,n),r=Math.max(e.minScale,r)),e.center&&(f=e.center.x,d=e.center.y),n=this.clampScale(n),r=this.clampScale(r),f||d){const p=this.getTranslation(),v=f-(f-p.tx)*(n/s.sx),C=d-(d-p.ty)*(r/s.sy);(v!==p.tx||C!==p.ty)&&this.translate(v,C)}return this.scale(n,r),this}getRotation(){return b.is.matrixToRotation(this.getMatrix())}rotate(t,e,n){if(e==null||n==null){const s=pt.getBBox(this.stage);e=s.width/2,n=s.height/2}const r=this.getMatrix().translate(e,n).rotate(t).translate(-e,-n);return this.setMatrix(r),this}getTranslation(){return b.is.matrixToTranslation(this.getMatrix())}translate(t,e){const n=this.getMatrix();n.e=t||0,n.f=e||0,this.setMatrix(n);const r=this.getTranslation();return this.options.x=r.tx,this.options.y=r.ty,this.graph.trigger("translate",Object.assign({},r)),this}setOrigin(t,e){return this.translate(t||0,e||0)}fitToContent(t,e,n,r){if(typeof t=="object"){const mt=t;t=mt.gridWidth||1,e=mt.gridHeight||1,n=mt.padding||0,r=mt}else t=t||1,e=e||1,n=n||0,r==null&&(r={});const s=b.GH.normalizeSides(n),c=r.border||0,f=r.contentArea?Ot.create(r.contentArea):this.getContentArea(r);c>0&&f.inflate(c);const d=this.getScale(),p=this.getTranslation(),v=d.sx,C=d.sy;f.x*=v,f.y*=C,f.width*=v,f.height*=C;let y=Math.max(Math.ceil((f.width+f.x)/t),1)*t,O=Math.max(Math.ceil((f.height+f.y)/e),1)*e,F=0,Z=0;(r.allowNewOrigin==="negative"&&f.x<0||r.allowNewOrigin==="positive"&&f.x>=0||r.allowNewOrigin==="any")&&(F=Math.ceil(-f.x/t)*t,F+=s.left,y+=F),(r.allowNewOrigin==="negative"&&f.y<0||r.allowNewOrigin==="positive"&&f.y>=0||r.allowNewOrigin==="any")&&(Z=Math.ceil(-f.y/e)*e,Z+=s.top,O+=Z),y+=s.right,O+=s.bottom,y=Math.max(y,r.minWidth||0),O=Math.max(O,r.minHeight||0),y=Math.min(y,r.maxWidth||Number.MAX_SAFE_INTEGER),O=Math.min(O,r.maxHeight||Number.MAX_SAFE_INTEGER);const X=this.getComputedSize(),tt=y!==X.width||O!==X.height;return(F!==p.tx||Z!==p.ty)&&this.translate(F,Z),tt&&this.resize(y,O),new Ot(-F/v,-Z/C,y/v,O/C)}scaleContentToFit(t={}){this.scaleContentToFitImpl(t)}scaleContentToFitImpl(t={},e=!0){let n,r;if(t.contentArea){const tt=t.contentArea;n=this.graph.localToGraph(tt),r=z.create(tt)}else n=this.getContentBBox(t),r=this.graph.graphToLocal(n);if(!n.width||!n.height)return;const s=b.GH.normalizeSides(t.padding),c=t.minScale||0,f=t.maxScale||Number.MAX_SAFE_INTEGER,d=t.minScaleX||c,p=t.maxScaleX||f,v=t.minScaleY||c,C=t.maxScaleY||f;let y;if(t.viewportArea)y=t.viewportArea;else{const tt=this.getComputedSize(),ht=this.getTranslation();y={x:ht.tx,y:ht.ty,width:tt.width,height:tt.height}}y=Ot.create(y).moveAndExpand({x:s.left,y:s.top,width:-s.left-s.right,height:-s.top-s.bottom});const O=this.getScale();let F=y.width/n.width*O.sx,Z=y.height/n.height*O.sy;t.preserveAspectRatio!==!1&&(F=Z=Math.min(F,Z));const X=t.scaleGrid;if(X&&(F=X*Math.floor(F/X),Z=X*Math.floor(Z/X)),F=b.GH.clamp(F,d,p),Z=b.GH.clamp(Z,v,C),this.scale(F,Z),e){const tt=this.options,ht=y.x-r.x*F-tt.x,mt=y.y-r.y*Z-tt.y;this.translate(ht,mt)}}getContentArea(t={}){return t.useCellGeometry!==!1?this.model.getAllCellsBBox()||new Ot:pt.getBBox(this.stage)}getContentBBox(t={}){return this.graph.localToGraph(this.getContentArea(t))}getGraphArea(){const t=Ot.fromSize(this.getComputedSize());return this.graph.graphToLocal(t)}zoomToRect(t,e={}){const n=Ot.create(t),r=this.graph;e.contentArea=n,e.viewportArea==null&&(e.viewportArea={x:r.options.x,y:r.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(e,!1);const s=n.getCenter();return this.centerPoint(s.x,s.y),this}zoomToFit(t={}){return this.zoomToRect(this.getContentArea(t),t)}centerPoint(t,e){const n=this.getComputedSize(),r=this.getScale(),s=this.getTranslation(),c=n.width/2,f=n.height/2;t=typeof t=="number"?t:c,e=typeof e=="number"?e:f,t=c-t*r.sx,e=f-e*r.sy,(s.tx!==t||s.ty!==e)&&this.translate(t,e)}centerContent(t){const n=this.graph.getContentArea(t).getCenter();this.centerPoint(n.x,n.y)}centerCell(t){return this.positionCell(t,"center")}positionPoint(t,e,n){const r=this.getComputedSize();e=b.GH.normalizePercentage(e,Math.max(0,r.width)),e<0&&(e=r.width+e),n=b.GH.normalizePercentage(n,Math.max(0,r.height)),n<0&&(n=r.height+n);const s=this.getTranslation(),c=this.getScale(),f=e-t.x*c.sx,d=n-t.y*c.sy;(s.tx!==f||s.ty!==d)&&this.translate(f,d)}positionRect(t,e){const n=Ot.create(t);switch(e){case"center":return this.positionPoint(n.getCenter(),"50%","50%");case"top":return this.positionPoint(n.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(n.getTopRight(),"100%",0);case"right":return this.positionPoint(n.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(n.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(n.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(n.getBottomLeft(),0,"100%");case"left":return this.positionPoint(n.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(n.getTopLeft(),0,0);default:return this}}positionCell(t,e){const n=t.getBBox();return this.positionRect(n,e)}positionContent(t,e){const n=this.graph.getContentArea(e);return this.positionRect(n,t)}}var fu=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Ml extends zr{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(t={}){let e=t.size||"auto auto",n=t.position||"center";const r=this.graph.transform.getScale(),s=this.graph.translate();if(typeof n=="object"){const c=s.tx+r.sx*(n.x||0),f=s.ty+r.sy*(n.y||0);n=`${c}px ${f}px`}typeof e=="object"&&(e=Ot.fromSize(e).scale(r.sx,r.sy),e=`${e.width}px ${e.height}px`),this.elem.style.backgroundSize=e,this.elem.style.backgroundPosition=n}drawBackgroundImage(t,e={}){if(!(t instanceof HTMLImageElement)){this.elem.style.backgroundImage="";return}const n=this.optionsCache;if(n&&n.image!==e.image)return;let r;const s=e.opacity,c=e.size;let f=e.repeat||"no-repeat";const d=jn.registry.get(f);if(typeof d=="function"){const v=e.quality||1;t.width*=v,t.height*=v;const C=d(t,e);if(!(C instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");r=C.toDataURL("image/png"),e.repeat&&f!==e.repeat?f=e.repeat:f="repeat",typeof c=="object"?(c.width*=C.width/t.width,c.height*=C.height/t.height):c===void 0&&(e.size={width:C.width/v,height:C.height/v})}else r=t.src,c===void 0&&(e.size={width:t.width,height:t.height});n!=null&&typeof e.size=="object"&&e.image===n.image&&e.repeat===n.repeat&&e.quality===n.quality&&(n.size=b.QK.clone(e.size));const p=this.elem.style;p.backgroundImage=`url(${r})`,p.backgroundRepeat=f,p.opacity=s==null||s>=1?"":`${s}`,this.updateBackgroundImage(e)}updateBackgroundColor(t){this.elem.style.backgroundColor=t||""}updateBackgroundOptions(t){this.graph.options.background=t}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(t){const e=t||{};if(this.updateBackgroundOptions(t),this.updateBackgroundColor(e.color),e.image){this.optionsCache=b.QK.clone(e);const n=document.createElement("img");n.onload=()=>this.drawBackgroundImage(n,t),n.setAttribute("crossorigin","anonymous"),n.src=e.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}fu([zr.dispose()],Ml.prototype,"dispose",null);var Tl=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class ol extends zr{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&this.widgetOptions.enabled===!0}init(){this.onRightMouseDown=this.onRightMouseDown.bind(this),this.onSpaceKeyDown=this.onSpaceKeyDown.bind(this),this.onSpaceKeyUp=this.onSpaceKeyUp.bind(this),this.startListening(),this.updateClassName()}startListening(){this.graph.on("blank:mousedown",this.onMouseDown,this),this.graph.on("node:unhandled:mousedown",this.onMouseDown,this),this.graph.on("edge:unhandled:mousedown",this.onMouseDown,this),b.is.Event.on(this.graph.container,"mousedown",this.onRightMouseDown),b.is.Event.on(document.body,{keydown:this.onSpaceKeyDown,keyup:this.onSpaceKeyUp}),this.mousewheelHandle=new b.is.MouseWheelHandle(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()}stopListening(){this.graph.off("blank:mousedown",this.onMouseDown,this),this.graph.off("node:unhandled:mousedown",this.onMouseDown,this),this.graph.off("edge:unhandled:mousedown",this.onMouseDown,this),b.is.Event.off(this.graph.container,"mousedown",this.onRightMouseDown),b.is.Event.off(document.body,{keydown:this.onSpaceKeyDown,keyup:this.onSpaceKeyUp}),this.mousewheelHandle&&this.mousewheelHandle.disable()}allowPanning(t,e){return t.spaceKey=this.isSpaceKeyPressed,this.pannable&&b.tx.isMatch(t,this.widgetOptions.modifiers,e)}startPanning(t){const e=this.view.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.panning=!0,this.updateClassName(),b.is.Event.on(document.body,{"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),b.is.Event.on(window,"mouseup.panning",this.stopPanning.bind(this))}pan(t){const e=this.view.normalizeEvent(t),n=e.clientX-this.clientX,r=e.clientY-this.clientY;this.clientX=e.clientX,this.clientY=e.clientY,this.graph.translateBy(n,r)}stopPanning(t){this.panning=!1,this.updateClassName(),b.is.Event.off(document.body,".panning"),b.is.Event.off(window,".panning")}updateClassName(){const t=this.view.container,e=this.view.prefixClassName("graph-panning"),n=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(b.is.addClass(t,e),b.is.removeClass(t,n)):(b.is.removeClass(t,e),b.is.addClass(t,n)):(b.is.removeClass(t,e),b.is.removeClass(t,n))}onMouseDown({e:t}){if(!this.allowBlankMouseDown(t))return;const e=this.graph.getPlugin("selection"),n=e&&e.allowRubberband(t,!0);(this.allowPanning(t,!0)||this.allowPanning(t)&&!n)&&this.startPanning(t)}onRightMouseDown(t){const e=this.widgetOptions.eventTypes;e!=null&&e.includes("rightMouseDown")&&t.button===2&&this.allowPanning(t,!0)&&this.startPanning(t)}onMouseWheel(t,e,n){this.graph.translateBy(-e,-n)}onSpaceKeyDown(t){t.which===32&&(this.isSpaceKeyPressed=!0)}onSpaceKeyUp(t){t.which===32&&(this.isSpaceKeyPressed=!1)}allowBlankMouseDown(t){const e=this.widgetOptions.eventTypes;return(e==null?void 0:e.includes("leftMouseDown"))&&t.button===0||(e==null?void 0:e.includes("mouseWheelDown"))&&t.button===1}allowMouseWheel(t){var e;return this.pannable&&!t.ctrlKey&&((e=this.widgetOptions.eventTypes)===null||e===void 0?void 0:e.includes("mouseWheel"))}autoPanning(t,e){const r=this.graph.getGraphArea();let s=0,c=0;t<=r.left+10&&(s=-10),e<=r.top+10&&(c=-10),t>=r.right-10&&(s=10),e>=r.bottom-10&&(c=10),(s!==0||c!==0)&&this.graph.translateBy(-s,-c)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}Tl([zr.dispose()],ol.prototype,"dispose",null);var vc=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class La extends zr{constructor(){super(...arguments),this.cumulatedFactor=1}get widgetOptions(){return this.options.mousewheel}init(){this.container=this.graph.container,this.target=this.widgetOptions.global?document:this.container,this.mousewheelHandle=new b.is.MouseWheelHandle(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.widgetOptions.enabled&&this.enable(!0)}get disabled(){return this.widgetOptions.enabled!==!0}enable(t){(this.disabled||t)&&(this.widgetOptions.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.widgetOptions.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(t){const e=this.widgetOptions.guard;return(e==null||e(t))&&b.tx.isMatch(t,this.widgetOptions.modifiers)}onMouseWheel(t){const e=this.widgetOptions.guard;if((e==null||e(t))&&b.tx.isMatch(t,this.widgetOptions.modifiers)){const n=this.widgetOptions.factor||1.2;this.currentScale==null&&(this.startPos={x:t.clientX,y:t.clientY},this.currentScale=this.graph.transform.getScale().sx),t.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*n*20)/20/this.currentScale,this.cumulatedFactor===1&&(this.cumulatedFactor=1.05)):this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*(1/n)*20)/20/this.currentScale,this.cumulatedFactor===1&&(this.cumulatedFactor=.95)),this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const s=this.currentScale;let c=this.graph.transform.clampScale(s*this.cumulatedFactor);const f=this.widgetOptions.minScale||Number.MIN_SAFE_INTEGER,d=this.widgetOptions.maxScale||Number.MAX_SAFE_INTEGER;if(c=b.GH.clamp(c,f,d),c!==s)if(this.widgetOptions.zoomAtMousePosition){const v=!!this.graph.getPlugin("scroller")?this.graph.clientToLocal(this.startPos):this.graph.clientToGraph(this.startPos);this.graph.zoom(c,{absolute:!0,center:v.clone()})}else this.graph.zoom(c,{absolute:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}vc([b.JT.dispose()],La.prototype,"dispose",null);var hu=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class mo extends zr{init(){this.resetRenderArea=b.Iw.throttle(this.resetRenderArea,200,{leading:!0}),this.resetRenderArea(),this.startListening()}startListening(){this.graph.on("translate",this.resetRenderArea,this),this.graph.on("scale",this.resetRenderArea,this),this.graph.on("resize",this.resetRenderArea,this)}stopListening(){this.graph.off("translate",this.resetRenderArea,this),this.graph.off("scale",this.resetRenderArea,this),this.graph.off("resize",this.resetRenderArea,this)}enableVirtualRender(){this.options.virtual=!0,this.resetRenderArea()}disableVirtualRender(){this.options.virtual=!1,this.graph.renderer.setRenderArea(void 0)}resetRenderArea(){if(this.options.virtual){const t=this.graph.getGraphArea();this.graph.renderer.setRenderArea(t)}}dispose(){this.stopListening()}}hu([zr.dispose()],mo.prototype,"dispose",null);class _l{constructor(){this.isFlushing=!1,this.isFlushPending=!1,this.scheduleId=0,this.queue=[],this.frameInterval=33,this.initialTime=Date.now()}queueJob(t){if(t.priority&Yi.PRIOR)t.cb();else{const e=this.findInsertionIndex(t);e>=0&&this.queue.splice(e,0,t)}}queueFlush(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.scheduleJob())}queueFlushSync(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.flushJobsSync())}clearJobs(){this.queue.length=0,this.isFlushing=!1,this.isFlushPending=!1,this.cancelScheduleJob()}flushJobs(){this.isFlushPending=!1,this.isFlushing=!0;const t=this.getCurrentTime();let e;for(;(e=this.queue.shift())&&(e.cb(),!(this.getCurrentTime()-t>=this.frameInterval)););this.isFlushing=!1,this.queue.length&&this.queueFlush()}flushJobsSync(){this.isFlushPending=!1,this.isFlushing=!0;let t;for(;t=this.queue.shift();)try{t.cb()}catch(e){console.log(e)}this.isFlushing=!1}findInsertionIndex(t){let e=0,n=this.queue.length,r=n-1;const s=t.priority;for(;e<=r;){const c=(r-e>>1)+e;s<=this.queue[c].priority?e=c+1:(n=c,r=c-1)}return n}scheduleJob(){"requestIdleCallback"in window?(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.requestIdleCallback(this.flushJobs.bind(this),{timeout:100})):(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.setTimeout(this.flushJobs.bind(this)))}cancelScheduleJob(){"cancelIdleCallback"in window?(this.scheduleId&&window.cancelIdleCallback(this.scheduleId),this.scheduleId=0):(this.scheduleId&&clearTimeout(this.scheduleId),this.scheduleId=0)}getCurrentTime(){return typeof performance=="object"&&typeof performance.now=="function"?performance.now():Date.now()-this.initialTime}}var Yi;(function(l){l[l.Update=2]="Update",l[l.RenderEdge=4]="RenderEdge",l[l.RenderNode=8]="RenderNode",l[l.PRIOR=1048576]="PRIOR"})(Yi||(Yi={}));var Il=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class Tr extends b.JT{get model(){return this.graph.model}get container(){return this.graph.view.stage}constructor(t){super(),this.views={},this.willRemoveViews={},this.queue=new _l,this.graph=t,this.init()}init(){this.startListening(),this.renderViews(this.model.getCells())}startListening(){this.model.on("reseted",this.onModelReseted,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("reseted",this.onModelReseted,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}onModelReseted({options:t}){this.queue.clearJobs(),this.removeZPivots(),this.resetViews();const e=this.model.getCells();this.renderViews(e,Object.assign(Object.assign({},t),{queue:e.map(n=>n.id)}))}onCellAdded({cell:t,options:e}){this.renderViews([t],e)}onCellRemoved({cell:t}){this.removeViews([t])}onCellZIndexChanged({cell:t,options:e}){const n=this.views[t.id];n&&this.requestViewUpdate(n.view,Tr.FLAG_INSERT,e,Yi.Update,!0)}onCellVisibleChanged({cell:t,current:e}){this.toggleVisible(t,!!e)}requestViewUpdate(t,e,n={},r=Yi.Update,s=!0){const c=t.cell.id,f=this.views[c];if(!f)return;f.flag=e,f.options=n,(t.hasAction(e,["translate","resize","rotate"])||n.async===!1)&&(r=Yi.PRIOR,s=!1),this.queue.queueJob({id:c,priority:r,cb:()=>{this.renderViewInArea(t,e,n);const v=n.queue;if(v){const C=v.indexOf(t.cell.id);C>=0&&v.splice(C,1),v.length===0&&this.graph.trigger("render:done")}}}),this.getEffectedEdges(t).forEach(v=>{this.requestViewUpdate(v.view,v.flag,n,r,!1)}),s&&this.flush()}setRenderArea(t){this.renderArea=t,this.flushWaitingViews()}isViewMounted(t){if(t==null)return!1;const e=this.views[t.cell.id];return e?e.state===Tr.ViewState.MOUNTED:!1}renderViews(t,e={}){t.sort((n,r)=>n.isNode()&&r.isEdge()?-1:0),t.forEach(n=>{const r=n.id,s=this.views;let c=0,f=s[r];if(f)c=Tr.FLAG_INSERT;else{const d=this.createCellView(n);d&&(d.graph=this.graph,c=Tr.FLAG_INSERT|d.getBootstrapFlag(),f={view:d,flag:c,options:e,state:Tr.ViewState.CREATED},this.views[r]=f)}f&&this.requestViewUpdate(f.view,c,e,this.getRenderPriority(f.view),!1)}),this.flush()}renderViewInArea(t,e,n={}){const r=t.cell,s=r.id,c=this.views[s];if(!c)return;let f=0;this.isUpdatable(t)?(f=this.updateView(t,e,n),c.flag=f):c.state===Tr.ViewState.MOUNTED?(f=this.updateView(t,e,n),c.flag=f):c.state=Tr.ViewState.WAITING,f&&r.isEdge()&&!(f&t.getFlag(["source","target"]))&&this.queue.queueJob({id:s,priority:Yi.RenderEdge,cb:()=>{this.updateView(t,e,n)}})}removeViews(t){t.forEach(e=>{const n=e.id,r=this.views[n];r&&(this.willRemoveViews[n]=r,delete this.views[n],this.queue.queueJob({id:n,priority:this.getRenderPriority(r.view),cb:()=>{this.removeView(r.view)}}))}),this.flush()}flush(){this.graph.options.async?this.queue.queueFlush():this.queue.queueFlushSync()}flushWaitingViews(){Object.values(this.views).forEach(t=>{if(t&&t.state===Tr.ViewState.WAITING){const{view:e,flag:n,options:r}=t;this.requestViewUpdate(e,n,r,this.getRenderPriority(e),!1)}}),this.flush()}updateView(t,e,n={}){if(t==null)return 0;if(Rn.isCellView(t)){if(e&Tr.FLAG_REMOVE)return this.removeView(t.cell),0;e&Tr.FLAG_INSERT&&(this.insertView(t),e^=Tr.FLAG_INSERT)}return e?t.confirmUpdate(e,n):0}insertView(t){const e=this.views[t.cell.id];if(e){const n=t.cell.getZIndex(),r=this.addZPivot(n);this.container.insertBefore(t.container,r),t.cell.isVisible()||this.toggleVisible(t.cell,!1),e.state=Tr.ViewState.MOUNTED,this.graph.trigger("view:mounted",{view:t})}}resetViews(){this.willRemoveViews=Object.assign(Object.assign({},this.views),this.willRemoveViews),Object.values(this.willRemoveViews).forEach(t=>{t&&this.removeView(t.view)}),this.views={},this.willRemoveViews={}}removeView(t){const e=t.cell,n=this.willRemoveViews[e.id];n&&t&&(n.view.remove(),delete this.willRemoveViews[e.id],this.graph.trigger("view:unmounted",{view:t}))}toggleVisible(t,e){const n=this.model.getConnectedEdges(t);for(let s=0,c=n.length;s<c;s+=1){const f=n[s];if(e){const d=f.getSourceCell(),p=f.getTargetCell();if(d&&!d.isVisible()||p&&!p.isVisible())continue;this.toggleVisible(f,!0)}else this.toggleVisible(f,!1)}const r=this.views[t.id];r&&b.is.css(r.view.container,{display:e?"unset":"none"})}addZPivot(t=0){this.zPivots==null&&(this.zPivots={});const e=this.zPivots;let n=e[t];if(n)return n;n=e[t]=document.createComment(`z-index:${t+1}`);let r=-1/0;for(const c in e){const f=+c;f<t&&f>r&&(r=f,t-1)}const s=this.container;if(r!==-1/0){const c=e[r];s.insertBefore(n,c.nextSibling)}else s.insertBefore(n,s.firstChild);return n}removeZPivots(){this.zPivots&&Object.values(this.zPivots).forEach(t=>{t&&t.parentNode&&t.parentNode.removeChild(t)}),this.zPivots={}}createCellView(t){const e={graph:this.graph},n=this.graph.options.createCellView;if(n){const s=b.Iw.call(n,this.graph,t);if(s)return new s(t,e);if(s===null)return null}const r=t.view;if(r!=null&&typeof r=="string"){const s=Rn.registry.get(r);return s?new s(t,e):Rn.registry.onNotFound(r)}return t.isNode()?new $r(t,e):t.isEdge()?new Ls(t,e):null}getEffectedEdges(t){const e=[],n=t.cell,r=this.model.getConnectedEdges(n);for(let s=0,c=r.length;s<c;s+=1){const f=r[s],d=this.views[f.id];if(!d)continue;const p=d.view;if(!this.isViewMounted(p))continue;const v=["update"];f.getTargetCell()===n&&v.push("target"),f.getSourceCell()===n&&v.push("source"),e.push({id:f.id,view:p,flag:p.getFlag(v)})}return e}isUpdatable(t){if(t.isNodeView())return this.renderArea?this.renderArea.isIntersectWithRect(t.cell.getBBox()):!0;if(t.isEdgeView()){const e=t.cell,n=e.getSourceCell(),r=e.getTargetCell();if(this.renderArea&&n&&r)return this.renderArea.isIntersectWithRect(n.getBBox())||this.renderArea.isIntersectWithRect(r.getBBox())}return!0}getRenderPriority(t){return t.cell.isNode()?Yi.RenderNode:Yi.RenderEdge}dispose(){this.stopListening(),Object.keys(this.views).forEach(t=>{this.views[t].view.dispose()}),this.views={}}}Il([b.JT.dispose()],Tr.prototype,"dispose",null),function(l){l.FLAG_INSERT=1<<30,l.FLAG_REMOVE=1<<29,l.FLAG_RENDER=(1<<26)-1}(Tr||(Tr={})),function(l){let t;(function(e){e[e.CREATED=0]="CREATED",e[e.MOUNTED=1]="MOUNTED",e[e.WAITING=2]="WAITING"})(t=l.ViewState||(l.ViewState={}))}(Tr||(Tr={}));var yc=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class al extends zr{constructor(){super(...arguments),this.schedule=new Tr(this.graph)}requestViewUpdate(t,e,n={}){this.schedule.requestViewUpdate(t,e,n)}isViewMounted(t){return this.schedule.isViewMounted(t)}setRenderArea(t){this.schedule.setRenderArea(t)}findViewByElem(t){if(t==null)return null;const e=this.options.container,n=typeof t=="string"?e.querySelector(t):t instanceof Element?t:t[0];if(n){const r=this.graph.view.findAttr("data-cell-id",n);if(r){const s=this.schedule.views;if(s[r])return s[r].view}}return null}findViewByCell(t){if(t==null)return null;const e=En.isCell(t)?t.id:t,n=this.schedule.views;return n[e]?n[e].view:null}findViewsFromPoint(t){const e={x:t.x,y:t.y};return this.model.getCells().map(n=>this.findViewByCell(n)).filter(n=>n!=null?pt.getBBox(n.container,{target:this.view.stage}).containsPoint(e):!1)}findEdgeViewsFromPoint(t,e=5){return this.model.getEdges().map(n=>this.findViewByCell(n)).filter(n=>{if(n!=null){const r=n.getClosestPoint(t);if(r)return r.distance(t)<=e}return!1})}findViewsInArea(t,e={}){const n=Ot.create(t);return this.model.getCells().map(r=>this.findViewByCell(r)).filter(r=>{if(r){if(e.nodeOnly&&!r.isNodeView())return!1;const s=pt.getBBox(r.container,{target:this.view.stage});return s.width===0?s.inflate(1,0):s.height===0&&s.inflate(0,1),e.strict?n.containsRect(s):n.isIntersectWithRect(s)}return!1})}dispose(){this.schedule.dispose()}}yc([zr.dispose()],al.prototype,"dispose",null);var Na=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};class bc extends zr{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(t){return this.svg.getElementById(t)!=null}filter(t){let e=t.id;const n=t.name;if(e||(e=`filter-${n}-${this.cid}-${b.kf.hashcode(JSON.stringify(t))}`),!this.isDefined(e)){const r=gr.registry.get(n);if(r==null)return gr.registry.onNotFound(n);const s=r(t.args||{}),c=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},t.attrs),{id:e});b.OW.create(Vn.sanitize(s),c).appendTo(this.defs)}return e}gradient(t){let e=t.id;const n=t.type;if(e||(e=`gradient-${n}-${this.cid}-${b.kf.hashcode(JSON.stringify(t))}`),!this.isDefined(e)){const s=t.stops.map(d=>{const p=d.opacity!=null&&Number.isFinite(d.opacity)?d.opacity:1;return`<stop offset="${d.offset}" stop-color="${d.color}" stop-opacity="${p}"/>`}),c=`<${n}>${s.join("")}</${n}>`,f=Object.assign({id:e},t.attrs);b.OW.create(c,f).appendTo(this.defs)}return e}marker(t){const{id:e,refX:n,refY:r,markerUnits:s,markerOrient:c,tagName:f,children:d}=t,p=Na(t,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let v=e;if(v||(v=`marker-${this.cid}-${b.kf.hashcode(JSON.stringify(t))}`),!this.isDefined(v)){f!=="path"&&delete p.d;const C=b.OW.create("marker",{refX:n,refY:r,id:v,overflow:"visible",orient:c!=null?c:"auto",markerUnits:s||"userSpaceOnUse"},d?d.map(y=>{var{tagName:O}=y,F=Na(y,["tagName"]);return b.OW.create(`${O}`||"path",b.is.kebablizeAttrs(Object.assign(Object.assign({},p),F)))}):[b.OW.create(f||"path",b.is.kebablizeAttrs(p))]);this.defs.appendChild(C.node)}return v}remove(t){const e=this.svg.getElementById(t);e&&e.parentNode&&e.parentNode.removeChild(e)}}class Rl extends zr{getClientMatrix(){return b.is.createSVGMatrix(this.view.stage.getScreenCTM())}getClientOffset(){const t=this.view.svg.getBoundingClientRect();return new z(t.left,t.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(t,e){return(typeof t=="number"?this.clientToLocalPoint(t,e):this.clientToLocalPoint(t.x,t.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(t,e){const n=z.create(t,e);return pt.transformPoint(n,this.graph.matrix())}localToClientPoint(t,e){const n=z.create(t,e);return pt.transformPoint(n,this.getClientMatrix())}localToPagePoint(t,e){return(typeof t=="number"?this.localToGraphPoint(t,e):this.localToGraphPoint(t)).translate(this.getPageOffset())}localToGraphRect(t,e,n,r){const s=Ot.create(t,e,n,r);return pt.transformRectangle(s,this.graph.matrix())}localToClientRect(t,e,n,r){const s=Ot.create(t,e,n,r);return pt.transformRectangle(s,this.getClientMatrix())}localToPageRect(t,e,n,r){return(typeof t=="number"?this.localToGraphRect(t,e,n,r):this.localToGraphRect(t)).translate(this.getPageOffset())}graphToLocalPoint(t,e){const n=z.create(t,e);return pt.transformPoint(n,this.graph.matrix().inverse())}clientToLocalPoint(t,e){const n=z.create(t,e);return pt.transformPoint(n,this.getClientMatrix().inverse())}clientToGraphPoint(t,e){const n=z.create(t,e);return pt.transformPoint(n,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(t,e){const r=z.create(t,e).diff(this.getPageOffset());return this.graphToLocalPoint(r)}graphToLocalRect(t,e,n,r){const s=Ot.create(t,e,n,r);return pt.transformRectangle(s,this.graph.matrix().inverse())}clientToLocalRect(t,e,n,r){const s=Ot.create(t,e,n,r);return pt.transformRectangle(s,this.getClientMatrix().inverse())}clientToGraphRect(t,e,n,r){const s=Ot.create(t,e,n,r);return pt.transformRectangle(s,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(t,e,n,r){const s=Ot.create(t,e,n,r),c=this.getPageOffset();return s.x-=c.x,s.y-=c.y,this.graphToLocalRect(s)}}var xc=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class ll extends zr{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:t,magnet:e,options:n={}}){const r=this.resolveHighlighter(n);if(!r)return;const s=this.getHighlighterId(e,r);if(!this.highlights[s]){const c=r.highlighter;c.highlight(t,e,Object.assign({},r.args)),this.highlights[s]={cellView:t,magnet:e,highlighter:c,args:r.args}}}onCellUnhighlight({magnet:t,options:e={}}){const n=this.resolveHighlighter(e);if(!n)return;const r=this.getHighlighterId(t,n);this.unhighlight(r)}resolveHighlighter(t){const e=this.options;let n=t.highlighter;if(n==null){const f=t.type;n=f&&e.highlighting[f]||e.highlighting.default}if(n==null)return null;const r=typeof n=="string"?{name:n}:n,s=r.name,c=kt.registry.get(s);return c==null?kt.registry.onNotFound(s):(kt.check(s,c),{name:s,highlighter:c,args:r.args||{}})}getHighlighterId(t,e){return b.is.ensureId(t),e.name+t.id+JSON.stringify(e.args)}unhighlight(t){const e=this.highlights[t];e&&(e.highlighter.unhighlight(e.cellView,e.magnet,e.args),delete this.highlights[t])}dispose(){Object.keys(this.highlights).forEach(t=>this.unhighlight(t)),this.stopListening()}}xc([ll.dispose()],ll.prototype,"dispose",null);var Da=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class cl extends zr{getScroller(){const t=this.graph.getPlugin("scroller");return t&&t.options.enabled?t:null}getContainer(){const t=this.getScroller();return t?t.container.parentElement:this.graph.container.parentElement}getSensorTarget(){const t=this.options.autoResize;if(t)return typeof t=="boolean"?this.getContainer():t}init(){if(this.options.autoResize){const e=this.getSensorTarget();e&&b.bB.bind(e,()=>{const n=e.offsetWidth,r=e.offsetHeight;this.resize(n,r)})}}resize(t,e){const n=this.getScroller();n?n.resize(t,e):this.graph.transform.resize(t,e)}dispose(){b.bB.clear(this.graph.container)}}Da([zr.dispose()],cl.prototype,"dispose",null);var Ll=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s};class mi extends b.ew{get container(){return this.options.container}get[Symbol.toStringTag](){return mi.toStringTag}constructor(t){super(),this.installedPlugins=new Set,this.options=eo.get(t),this.css=new Ra(this),this.view=new qi(this),this.defs=new bc(this),this.coord=new Rl(this),this.transform=new vs(this),this.highlight=new ll(this),this.grid=new Ol(this),this.background=new Ml(this),this.options.model?this.model=this.options.model:(this.model=new gs,this.model.graph=this),this.renderer=new al(this),this.panning=new ol(this),this.mousewheel=new La(this),this.virtualRender=new mo(this),this.size=new cl(this)}isNode(t){return t.isNode()}isEdge(t){return t.isEdge()}resetCells(t,e={}){return this.model.resetCells(t,e),this}clearCells(t={}){return this.model.clear(t),this}toJSON(t={}){return this.model.toJSON(t)}parseJSON(t){return this.model.parseJSON(t)}fromJSON(t,e={}){return this.model.fromJSON(t,e),this}getCellById(t){return this.model.getCell(t)}addNode(t,e={}){return this.model.addNode(t,e)}addNodes(t,e={}){return this.addCell(t.map(n=>Er.isNode(n)?n:this.createNode(n)),e)}createNode(t){return this.model.createNode(t)}removeNode(t,e={}){return this.model.removeCell(t,e)}addEdge(t,e={}){return this.model.addEdge(t,e)}addEdges(t,e={}){return this.addCell(t.map(n=>Yn.isEdge(n)?n:this.createEdge(n)),e)}removeEdge(t,e={}){return this.model.removeCell(t,e)}createEdge(t){return this.model.createEdge(t)}addCell(t,e={}){return this.model.addCell(t,e),this}removeCell(t,e={}){return this.model.removeCell(t,e)}removeCells(t,e={}){return this.model.removeCells(t,e)}removeConnectedEdges(t,e={}){return this.model.removeConnectedEdges(t,e)}disconnectConnectedEdges(t,e={}){return this.model.disconnectConnectedEdges(t,e),this}hasCell(t){return this.model.has(t)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(t){return this.model.getOutgoingEdges(t)}getIncomingEdges(t){return this.model.getIncomingEdges(t)}getConnectedEdges(t,e={}){return this.model.getConnectedEdges(t,e)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(t){return this.model.isRoot(t)}isLeafNode(t){return this.model.isLeaf(t)}getNeighbors(t,e={}){return this.model.getNeighbors(t,e)}isNeighbor(t,e,n={}){return this.model.isNeighbor(t,e,n)}getSuccessors(t,e={}){return this.model.getSuccessors(t,e)}isSuccessor(t,e,n={}){return this.model.isSuccessor(t,e,n)}getPredecessors(t,e={}){return this.model.getPredecessors(t,e)}isPredecessor(t,e,n={}){return this.model.isPredecessor(t,e,n)}getCommonAncestor(...t){return this.model.getCommonAncestor(...t)}getSubGraph(t,e={}){return this.model.getSubGraph(t,e)}cloneSubGraph(t,e={}){return this.model.cloneSubGraph(t,e)}cloneCells(t){return this.model.cloneCells(t)}getNodesFromPoint(t,e){return this.model.getNodesFromPoint(t,e)}getNodesInArea(t,e,n,r,s){return this.model.getNodesInArea(t,e,n,r,s)}getNodesUnderNode(t,e={}){return this.model.getNodesUnderNode(t,e)}searchCell(t,e,n={}){return this.model.search(t,e,n),this}getShortestPath(t,e,n={}){return this.model.getShortestPath(t,e,n)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(t,e={}){return this.model.getCellsBBox(t,e)}startBatch(t,e={}){this.model.startBatch(t,e)}stopBatch(t,e={}){this.model.stopBatch(t,e)}batchUpdate(t,e,n){const r=typeof t=="string"?t:"update",s=typeof t=="string"?e:t,c=typeof e=="function"?n:e;this.startBatch(r,c);const f=s();return this.stopBatch(r,c),f}updateCellId(t,e){return this.model.updateCellId(t,e)}findView(t){return En.isCell(t)?this.findViewByCell(t):this.findViewByElem(t)}findViews(t){return Ot.isRectangleLike(t)?this.findViewsInArea(t):z.isPointLike(t)?this.findViewsFromPoint(t):[]}findViewByCell(t){return this.renderer.findViewByCell(t)}findViewByElem(t){return this.renderer.findViewByElem(t)}findViewsFromPoint(t,e){const n=typeof t=="number"?{x:t,y:e}:t;return this.renderer.findViewsFromPoint(n)}findViewsInArea(t,e,n,r,s){const c=typeof t=="number"?{x:t,y:e,width:n,height:r}:t,f=typeof t=="number"?s:e;return this.renderer.findViewsInArea(c,f)}matrix(t){return typeof t=="undefined"?this.transform.getMatrix():(this.transform.setMatrix(t),this)}resize(t,e){const n=this.getPlugin("scroller");return n?n.resize(t,e):this.transform.resize(t,e),this}scale(t,e=t,n=0,r=0){return typeof t=="undefined"?this.transform.getScale():(this.transform.scale(t,e,n,r),this)}zoom(t,e){const n=this.getPlugin("scroller");if(n){if(typeof t=="undefined")return n.zoom();n.zoom(t,e)}else{if(typeof t=="undefined")return this.transform.getZoom();this.transform.zoom(t,e)}return this}zoomTo(t,e={}){const n=this.getPlugin("scroller");return n?n.zoom(t,Object.assign(Object.assign({},e),{absolute:!0})):this.transform.zoom(t,Object.assign(Object.assign({},e),{absolute:!0})),this}zoomToRect(t,e={}){const n=this.getPlugin("scroller");return n?n.zoomToRect(t,e):this.transform.zoomToRect(t,e),this}zoomToFit(t={}){const e=this.getPlugin("scroller");return e?e.zoomToFit(t):this.transform.zoomToFit(t),this}rotate(t,e,n){return typeof t=="undefined"?this.transform.getRotation():(this.transform.rotate(t,e,n),this)}translate(t,e){return typeof t=="undefined"?this.transform.getTranslation():(this.transform.translate(t,e),this)}translateBy(t,e){const n=this.translate(),r=n.tx+t,s=n.ty+e;return this.translate(r,s)}getGraphArea(){return this.transform.getGraphArea()}getContentArea(t={}){return this.transform.getContentArea(t)}getContentBBox(t={}){return this.transform.getContentBBox(t)}fitToContent(t,e,n,r){return this.transform.fitToContent(t,e,n,r)}scaleContentToFit(t={}){return this.transform.scaleContentToFit(t),this}center(t){return this.centerPoint(t)}centerPoint(t,e,n){const r=this.getPlugin("scroller");return r?r.centerPoint(t,e,n):this.transform.centerPoint(t,e),this}centerContent(t){const e=this.getPlugin("scroller");return e?e.centerContent(t):this.transform.centerContent(t),this}centerCell(t,e){const n=this.getPlugin("scroller");return n?n.centerCell(t,e):this.transform.centerCell(t),this}positionPoint(t,e,n,r={}){const s=this.getPlugin("scroller");return s?s.positionPoint(t,e,n,r):this.transform.positionPoint(t,e,n),this}positionRect(t,e,n){const r=this.getPlugin("scroller");return r?r.positionRect(t,e,n):this.transform.positionRect(t,e),this}positionCell(t,e,n){const r=this.getPlugin("scroller");return r?r.positionCell(t,e,n):this.transform.positionCell(t,e),this}positionContent(t,e){const n=this.getPlugin("scroller");return n?n.positionContent(t,e):this.transform.positionContent(t,e),this}snapToGrid(t,e){return this.coord.snapToGrid(t,e)}pageToLocal(t,e,n,r){return Ot.isRectangleLike(t)?this.coord.pageToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.pageToLocalRect(t,e,n,r):this.coord.pageToLocalPoint(t,e)}localToPage(t,e,n,r){return Ot.isRectangleLike(t)?this.coord.localToPageRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.localToPageRect(t,e,n,r):this.coord.localToPagePoint(t,e)}clientToLocal(t,e,n,r){return Ot.isRectangleLike(t)?this.coord.clientToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.clientToLocalRect(t,e,n,r):this.coord.clientToLocalPoint(t,e)}localToClient(t,e,n,r){return Ot.isRectangleLike(t)?this.coord.localToClientRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.localToClientRect(t,e,n,r):this.coord.localToClientPoint(t,e)}localToGraph(t,e,n,r){return Ot.isRectangleLike(t)?this.coord.localToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.localToGraphRect(t,e,n,r):this.coord.localToGraphPoint(t,e)}graphToLocal(t,e,n,r){return Ot.isRectangleLike(t)?this.coord.graphToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.graphToLocalRect(t,e,n,r):this.coord.graphToLocalPoint(t,e)}clientToGraph(t,e,n,r){return Ot.isRectangleLike(t)?this.coord.clientToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof r=="number"?this.coord.clientToGraphRect(t,e,n,r):this.coord.clientToGraphPoint(t,e)}defineFilter(t){return this.defs.filter(t)}defineGradient(t){return this.defs.gradient(t)}defineMarker(t){return this.defs.marker(t)}getGridSize(){return this.grid.getGridSize()}setGridSize(t){return this.grid.setGridSize(t),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(t){return this.grid.draw(t),this}updateBackground(){return this.background.update(),this}drawBackground(t,e){const n=this.getPlugin("scroller");return n!=null&&(this.options.background==null||!e)?n.drawBackground(t,e):this.background.draw(t),this}clearBackground(t){const e=this.getPlugin("scroller");return e!=null&&(this.options.background==null||!t)?e.clearBackground(t):this.background.clear(),this}enableVirtualRender(){return this.virtualRender.enableVirtualRender(),this}disableVirtualRender(){return this.virtualRender.disableVirtualRender(),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(t){return t==null?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():t?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){const t=this.getPlugin("scroller");return t?t.isPannable():this.panning.pannable}enablePanning(){const t=this.getPlugin("scroller");return t?t.enablePanning():this.panning.enablePanning(),this}disablePanning(){const t=this.getPlugin("scroller");return t?t.disablePanning():this.panning.disablePanning(),this}togglePanning(t){return t==null?this.isPannable()?this.disablePanning():this.enablePanning():t!==this.isPannable()&&(t?this.enablePanning():this.disablePanning()),this}use(t,...e){return this.installedPlugins.has(t)||(this.installedPlugins.add(t),t.init(this,...e)),this}getPlugin(t){return Array.from(this.installedPlugins).find(e=>e.name===t)}getPlugins(t){return Array.from(this.installedPlugins).filter(e=>t.includes(e.name))}enablePlugins(t){let e=t;Array.isArray(e)||(e=[e]);const n=this.getPlugins(e);return n==null||n.forEach(r=>{var s;(s=r==null?void 0:r.enable)===null||s===void 0||s.call(r)}),this}disablePlugins(t){let e=t;Array.isArray(e)||(e=[e]);const n=this.getPlugins(e);return n==null||n.forEach(r=>{var s;(s=r==null?void 0:r.disable)===null||s===void 0||s.call(r)}),this}isPluginEnabled(t){var e;const n=this.getPlugin(t);return(e=n==null?void 0:n.isEnabled)===null||e===void 0?void 0:e.call(n)}disposePlugins(t){let e=t;Array.isArray(e)||(e=[e]);const n=this.getPlugins(e);return n==null||n.forEach(r=>{r.dispose(),this.installedPlugins.delete(r)}),this}dispose(t=!0){t&&this.model.dispose(),this.css.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.highlight.dispose(),this.background.dispose(),this.mousewheel.dispose(),this.panning.dispose(),this.view.dispose(),this.renderer.dispose(),this.installedPlugins.forEach(e=>{e.dispose()})}}Ll([b.ew.dispose()],mi.prototype,"dispose",null),function(l){l.View=qi,l.Renderer=al,l.MouseWheel=La,l.DefsManager=bc,l.GridManager=Ol,l.CoordManager=Rl,l.TransformManager=vs,l.HighlightManager=ll,l.BackgroundManager=Ml,l.PanningManager=ol}(mi||(mi={})),function(l){l.toStringTag=`X6.${l.name}`;function t(e){if(e==null)return!1;if(e instanceof l)return!0;const n=e[Symbol.toStringTag];return n==null||n===l.toStringTag}l.isGraph=t}(mi||(mi={})),function(l){function t(e,n){const r=e instanceof HTMLElement?new l({container:e}):new l(e);return n!=null&&r.fromJSON(n),r}l.render=t}(mi||(mi={})),function(l){l.registerNode=Er.registry.register,l.registerEdge=Yn.registry.register,l.registerView=Rn.registry.register,l.registerAttr=D.registry.register,l.registerGrid=Yt.registry.register,l.registerFilter=gr.registry.register,l.registerNodeTool=hn.registry.register,l.registerEdgeTool=Le.registry.register,l.registerBackground=jn.registry.register,l.registerHighlighter=kt.registry.register,l.registerPortLayout=me.registry.register,l.registerPortLabelLayout=oi.registry.register,l.registerMarker=hi.registry.register,l.registerRouter=go.registry.register,l.registerConnector=Fo.registry.register,l.registerAnchor=pn.registry.register,l.registerEdgeAnchor=Mr.registry.register,l.registerConnectionPoint=_s.registry.register}(mi||(mi={})),function(l){l.unregisterNode=Er.registry.unregister,l.unregisterEdge=Yn.registry.unregister,l.unregisterView=Rn.registry.unregister,l.unregisterAttr=D.registry.unregister,l.unregisterGrid=Yt.registry.unregister,l.unregisterFilter=gr.registry.unregister,l.unregisterNodeTool=hn.registry.unregister,l.unregisterEdgeTool=Le.registry.unregister,l.unregisterBackground=jn.registry.unregister,l.unregisterHighlighter=kt.registry.unregister,l.unregisterPortLayout=me.registry.unregister,l.unregisterPortLabelLayout=oi.registry.unregister,l.unregisterMarker=hi.registry.unregister,l.unregisterRouter=go.registry.unregister,l.unregisterConnector=Fo.registry.unregister,l.unregisterAnchor=pn.registry.unregister,l.unregisterEdgeAnchor=Mr.registry.unregister,l.unregisterConnectionPoint=_s.registry.unregister}(mi||(mi={}));var Nl=function(l,t,e,n){var r=arguments.length,s=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(l,t,e,n);else for(var f=l.length-1;f>=0;f--)(c=l[f])&&(s=(r<3?c(s):r>3?c(t,e,s):c(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},Dl=function(l,t){var e={};for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&t.indexOf(n)<0&&(e[n]=l[n]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(l);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(l,n[r])&&(e[n[r]]=l[n[r]]);return e};class vo extends Er{}(function(l){class t extends $r{init(){super.init(),this.cell.on("change:*",this.onCellChangeAny,this)}onCellChangeAny({key:n}){const r=l.shapeMaps[this.cell.shape];if(r){const{effect:s}=r;(!s||s.includes(n))&&this.renderHTMLComponent()}}confirmUpdate(n){const r=super.confirmUpdate(n);return this.handleAction(r,t.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const n=this.selectors&&this.selectors.foContent;if(n){b.is.empty(n);const r=l.shapeMaps[this.cell.shape];if(!r)return;let{html:s}=r;typeof s=="function"&&(s=s(this.cell)),s&&(typeof s=="string"?n.innerHTML=s:b.is.append(n,s))}}dispose(){this.cell.off("change:*",this.onCellChangeAny,this)}}Nl([t.dispose()],t.prototype,"dispose",null),l.View=t,function(e){e.action="html",e.config({bootstrap:[e.action],actions:{html:e.action}}),$r.registry.register("html-view",e,!0)}(t=l.View||(l.View={}))})(vo||(vo={})),function(l){l.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},Vn.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),Er.registry.register("html",l,!0)}(vo||(vo={})),function(l){l.shapeMaps={};function t(e){const{shape:n,html:r,effect:s,inherit:c}=e,f=Dl(e,["shape","html","effect","inherit"]);if(!n)throw new Error("should specify shape in config");l.shapeMaps[n]={html:r,effect:s},mi.registerNode(n,Object.assign({inherit:c||"html"},f),!0)}l.register=t}(vo||(vo={}))},1807:function(At,Et,V){"use strict";var R=V(39546);function M(nt){var J=(0,R.useRef)(nt);return J.current=nt,J}Et.Z=M},23739:function(At,Et,V){"use strict";V.d(Et,{Z:function(){return N}});var R=V(39546),M=function(k){return k!==null&&typeof k=="object"},nt=function(k){return typeof k=="function"},J=function(k){return typeof k=="string"},vt=function(k){return typeof k=="boolean"},q=function(k){return typeof k=="number"},K=function(k){return typeof k=="undefined"},T=!1,x=T;function w(k){x&&(nt(k)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof k)));var I=(0,R.useRef)(k);I.current=(0,R.useMemo)(function(){return k},[k]);var Y=(0,R.useRef)();return Y.current||(Y.current=function(){for(var dt=[],b=0;b<arguments.length;b++)dt[b]=arguments[b];return I.current.apply(this,dt)}),Y.current}var N=w},55838:function(At,Et,V){"use strict";var R=V(39546),M=V(30079),nt=V(36058);const J=vt=>{const{space:q,form:K,children:T}=vt;if(T==null)return null;let x=T;return K&&(x=R.createElement(M.Ux,{override:!0,status:!0},x)),q&&(x=R.createElement(nt.BR,null,x)),x};Et.Z=J},26433:function(At,Et,V){"use strict";V.d(Et,{o2:function(){return vt},yT:function(){return q}});var R=V(35979),M=V(58093);const nt=M.i.map(K=>`${K}-inverse`),J=["success","processing","error","default","warning"];function vt(K){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat((0,R.Z)(nt),(0,R.Z)(M.i)).includes(K):M.i.includes(K)}function q(K){return J.includes(K)}},2267:function(At,Et,V){"use strict";V.d(Et,{Cn:function(){return N},u6:function(){return q}});var R=V(39546),M=V(1884),nt=V(49984);const J=100,q=J*10,K=q+J,T={Modal:J,Drawer:J,Popover:J,Popconfirm:J,Tooltip:J,Tour:J,FloatButton:J},x={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function w(k){return k in T}const N=(k,I)=>{const[,Y]=(0,M.ZP)(),dt=R.useContext(nt.Z),b=w(k);let ot;if(I!==void 0)ot=[I,I];else{let it=dt!=null?dt:0;b?it+=(dt?0:Y.zIndexPopupBase)+T[k]:it+=x[k],ot=[dt===void 0?I:it,it]}return ot}},12277:function(At,Et,V){"use strict";V.d(Et,{m:function(){return T}});var R=V(55595);const M=()=>({height:0,opacity:0}),nt=x=>{const{scrollHeight:w}=x;return{height:w,opacity:1}},J=x=>({height:x?x.offsetHeight:0}),vt=(x,w)=>(w==null?void 0:w.deadline)===!0||w.propertyName==="height",q=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:R.Rf}-motion-collapse`,onAppearStart:M,onEnterStart:M,onAppearActive:nt,onEnterActive:nt,onLeaveStart:J,onLeaveActive:M,onAppearEnd:vt,onEnterEnd:vt,onLeaveEnd:vt,motionDeadline:500}},K=null,T=(x,w,N)=>N!==void 0?N:`${x}-${w}`;Et.Z=q},12706:function(At,Et,V){"use strict";V.d(Et,{Z:function(){return q}});var R=V(60731);function M(K,T,x,w){if(w===!1)return{adjustX:!1,adjustY:!1};const N=w&&typeof w=="object"?w:{},k={};switch(K){case"top":case"bottom":k.shiftX=T.arrowOffsetHorizontal*2+x,k.shiftY=!0,k.adjustY=!0;break;case"left":case"right":k.shiftY=T.arrowOffsetVertical*2+x,k.shiftX=!0,k.adjustX=!0;break}const I=Object.assign(Object.assign({},k),N);return I.shiftX||(I.adjustX=!0),I.shiftY||(I.adjustY=!0),I}const nt={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},J={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},vt=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function q(K){const{arrowWidth:T,autoAdjustOverflow:x,arrowPointAtCenter:w,offset:N,borderRadius:k,visibleFirst:I}=K,Y=T/2,dt={};return Object.keys(nt).forEach(b=>{const ot=w&&J[b]||nt[b],it=Object.assign(Object.assign({},ot),{offset:[0,0],dynamicInset:!0});switch(dt[b]=it,vt.has(b)&&(it.autoArrow=!1),b){case"top":case"topLeft":case"topRight":it.offset[1]=-Y-N;break;case"bottom":case"bottomLeft":case"bottomRight":it.offset[1]=Y+N;break;case"left":case"leftTop":case"leftBottom":it.offset[0]=-Y-N;break;case"right":case"rightTop":case"rightBottom":it.offset[0]=Y+N;break}const jt=(0,R.wZ)({contentRadius:k,limitVerticalRadius:!0});if(w)switch(b){case"topLeft":case"bottomLeft":it.offset[0]=-jt.arrowOffsetHorizontal-Y;break;case"topRight":case"bottomRight":it.offset[0]=jt.arrowOffsetHorizontal+Y;break;case"leftTop":case"rightTop":it.offset[1]=-jt.arrowOffsetHorizontal*2+Y;break;case"leftBottom":case"rightBottom":it.offset[1]=jt.arrowOffsetHorizontal*2-Y;break}it.overflow=M(b,jt,T,x),I&&(it.htmlRegion="visibleFirst")}),dt}},5905:function(At,Et,V){"use strict";V.d(Et,{M2:function(){return M},Tm:function(){return J},wm:function(){return nt}});var R=V(39546);function M(vt){return vt&&R.isValidElement(vt)&&vt.type===R.Fragment}const nt=(vt,q,K)=>R.isValidElement(vt)?R.cloneElement(vt,typeof K=="function"?K(vt.props||{}):K):q;function J(vt,q){return nt(vt,vt,q)}},69444:function(At,Et,V){"use strict";V.d(Et,{G8:function(){return K},ln:function(){return T}});var R=V(39546),M=V(36978);function nt(){}let J=null;function vt(){J=null,rcResetWarned()}let q=null;const K=R.createContext({}),T=()=>{const w=()=>{};return w.deprecated=nt,w};var x=null},49984:function(At,Et,V){"use strict";var R=V(39546);const M=R.createContext(void 0);Et.Z=M},67686:function(At,Et,V){"use strict";V.d(Et,{q:function(){return nt}});var R=V(39546);const M=R.createContext(void 0),nt=J=>{let{children:vt,size:q}=J;const K=R.useContext(M);return R.createElement(M.Provider,{value:q||K},vt)};Et.Z=M},55595:function(At,Et,V){"use strict";V.d(Et,{E_:function(){return q},Rf:function(){return M},dj:function(){return x},oR:function(){return nt},tr:function(){return J}});var R=V(39546);const M="ant",nt="anticon",J=["outlined","borderless","filled","underlined"],vt=(w,N)=>N||(w?`${M}-${w}`:M),q=R.createContext({getPrefixCls:vt,iconPrefixCls:nt}),{Consumer:K}=q,T={};function x(w){const N=R.useContext(q),{getPrefixCls:k,direction:I,getPopupContainer:Y}=N,dt=N[w];return Object.assign(Object.assign({classNames:T,styles:T},dt),{getPrefixCls:k,direction:I,getPopupContainer:Y})}},99436:function(At,Et,V){"use strict";var R=V(39546),M=V(67686);const nt=J=>{const vt=R.useContext(M.Z);return R.useMemo(()=>J?typeof J=="string"?J!=null?J:vt:typeof J=="function"?J(vt):vt:vt,[J,vt])};Et.Z=nt},30079:function(At,Et,V){"use strict";V.d(Et,{RV:function(){return q},Rk:function(){return K},Ux:function(){return x},aM:function(){return T},pg:function(){return w},q3:function(){return J},qI:function(){return vt}});var R=V(39546),M=V(11234),nt=V(6966);const J=R.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),vt=R.createContext(null),q=N=>{const k=(0,nt.Z)(N,["prefixCls"]);return R.createElement(M.RV,Object.assign({},k))},K=R.createContext({prefixCls:""}),T=R.createContext({}),x=N=>{let{children:k,status:I,override:Y}=N;const dt=R.useContext(T),b=R.useMemo(()=>{const ot=Object.assign({},dt);return Y&&delete ot.isFormItemInput,I&&(delete ot.status,delete ot.hasFeedback,delete ot.feedbackIcon),ot},[I,Y,dt]);return R.createElement(T.Provider,{value:b},k)},w=R.createContext(void 0)},36058:function(At,Et,V){"use strict";V.d(Et,{BR:function(){return N},ri:function(){return w}});var R=V(39546),M=V(82187),nt=V.n(M),J=V(43332),vt=V(55595),q=V(99436),K=V(69530),T=function(Y,dt){var b={};for(var ot in Y)Object.prototype.hasOwnProperty.call(Y,ot)&&dt.indexOf(ot)<0&&(b[ot]=Y[ot]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var it=0,ot=Object.getOwnPropertySymbols(Y);it<ot.length;it++)dt.indexOf(ot[it])<0&&Object.prototype.propertyIsEnumerable.call(Y,ot[it])&&(b[ot[it]]=Y[ot[it]]);return b};const x=R.createContext(null),w=(Y,dt)=>{const b=R.useContext(x),ot=R.useMemo(()=>{if(!b)return"";const{compactDirection:it,isFirstItem:jt,isLastItem:z}=b,Ot=it==="vertical"?"-vertical-":"-";return nt()(`${Y}-compact${Ot}item`,{[`${Y}-compact${Ot}first-item`]:jt,[`${Y}-compact${Ot}last-item`]:z,[`${Y}-compact${Ot}item-rtl`]:dt==="rtl"})},[Y,dt,b]);return{compactSize:b==null?void 0:b.compactSize,compactDirection:b==null?void 0:b.compactDirection,compactItemClassnames:ot}},N=Y=>{const{children:dt}=Y;return R.createElement(x.Provider,{value:null},dt)},k=Y=>{const{children:dt}=Y,b=T(Y,["children"]);return R.createElement(x.Provider,{value:R.useMemo(()=>b,[b])},dt)},I=Y=>{const{getPrefixCls:dt,direction:b}=R.useContext(vt.E_),{size:ot,direction:it,block:jt,prefixCls:z,className:Ot,rootClassName:Ft,children:ke}=Y,_n=T(Y,["size","direction","block","prefixCls","className","rootClassName","children"]),It=(0,q.Z)(ye=>ot!=null?ot:ye),ge=dt("space-compact",z),[Me,Se]=(0,K.Z)(ge),Kt=nt()(ge,Se,{[`${ge}-rtl`]:b==="rtl",[`${ge}-block`]:jt,[`${ge}-vertical`]:it==="vertical"},Ot,Ft),Bt=R.useContext(x),te=(0,J.Z)(ke),oe=R.useMemo(()=>te.map((ye,$t)=>{const Ve=(ye==null?void 0:ye.key)||`${ge}-item-${$t}`;return R.createElement(k,{key:Ve,compactSize:It,compactDirection:it,isFirstItem:$t===0&&(!Bt||(Bt==null?void 0:Bt.isFirstItem)),isLastItem:$t===te.length-1&&(!Bt||(Bt==null?void 0:Bt.isLastItem))},ye)}),[ot,te,Bt]);return te.length===0?null:Me(R.createElement("div",Object.assign({className:Kt},_n),oe))};Et.ZP=I},69530:function(At,Et,V){"use strict";V.d(Et,{Z:function(){return T}});var R=V(55010),M=V(27540),J=x=>{const{componentCls:w}=x;return{[w]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}};const vt=x=>{const{componentCls:w,antCls:N}=x;return{[w]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${w}-item:empty`]:{display:"none"},[`${w}-item > ${N}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},q=x=>{const{componentCls:w}=x;return{[w]:{"&-gap-row-small":{rowGap:x.spaceGapSmallSize},"&-gap-row-middle":{rowGap:x.spaceGapMiddleSize},"&-gap-row-large":{rowGap:x.spaceGapLargeSize},"&-gap-col-small":{columnGap:x.spaceGapSmallSize},"&-gap-col-middle":{columnGap:x.spaceGapMiddleSize},"&-gap-col-large":{columnGap:x.spaceGapLargeSize}}}},K=()=>({});var T=(0,R.I$)("Space",x=>{const w=(0,M.IX)(x,{spaceGapSmallSize:x.paddingXS,spaceGapMiddleSize:x.padding,spaceGapLargeSize:x.paddingLG});return[vt(w),q(w),J(w)]},()=>({}),{resetStyle:!1})},49247:function(At,Et,V){"use strict";V.d(Et,{JT:function(){return w},Lx:function(){return q},Nd:function(){return N},Qy:function(){return x},Ro:function(){return J},Wf:function(){return nt},dF:function(){return vt},du:function(){return K},oN:function(){return T},vS:function(){return M}});var R=V(50138);const M={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},nt=function(k){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:k.colorText,fontSize:k.fontSize,lineHeight:k.lineHeight,listStyle:"none",fontFamily:I?"inherit":k.fontFamily}},J=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),vt=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),q=k=>({a:{color:k.colorLink,textDecoration:k.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${k.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:k.colorLinkHover},"&:active":{color:k.colorLinkActive},"&:active, &:hover":{textDecoration:k.linkHoverDecoration,outline:0},"&:focus":{textDecoration:k.linkFocusDecoration,outline:0},"&[disabled]":{color:k.colorTextDisabled,cursor:"not-allowed"}}}),K=(k,I,Y,dt)=>{const b=`[class^="${I}"], [class*=" ${I}"]`,ot=Y?`.${Y}`:b,it={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let jt={};return dt!==!1&&(jt={fontFamily:k.fontFamily,fontSize:k.fontSize}),{[ot]:Object.assign(Object.assign(Object.assign({},jt),it),{[b]:it})}},T=(k,I)=>({outline:`${(0,R.bf)(k.lineWidthFocus)} solid ${k.colorPrimaryBorder}`,outlineOffset:I!=null?I:1,transition:"outline-offset 0s, outline 0s"}),x=(k,I)=>({"&:focus-visible":Object.assign({},T(k,I))}),w=k=>({[`.${k}`]:Object.assign(Object.assign({},J()),{[`.${k} .${k}-icon`]:{display:"block"}})}),N=k=>Object.assign(Object.assign({color:k.colorLink,textDecoration:k.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${k.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},x(k)),{"&:focus, &:hover":{color:k.colorLinkHover},"&:active":{color:k.colorLinkActive}})},5981:function(At,Et,V){"use strict";V.d(Et,{R:function(){return nt}});const R=J=>({animationDuration:J,animationFillMode:"both"}),M=J=>({animationDuration:J,animationFillMode:"both"}),nt=function(J,vt,q,K){const x=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${x}${J}-enter,
      ${x}${J}-appear
    `]:Object.assign(Object.assign({},R(K)),{animationPlayState:"paused"}),[`${x}${J}-leave`]:Object.assign(Object.assign({},M(K)),{animationPlayState:"paused"}),[`
      ${x}${J}-enter${J}-enter-active,
      ${x}${J}-appear${J}-appear-active
    `]:{animationName:vt,animationPlayState:"running"},[`${x}${J}-leave${J}-leave-active`]:{animationName:q,animationPlayState:"running",pointerEvents:"none"}}}},78004:function(At,Et,V){"use strict";V.d(Et,{_y:function(){return b},kr:function(){return nt}});var R=V(50138),M=V(5981);const nt=new R.E4("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),J=new R.E4("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),vt=new R.E4("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),q=new R.E4("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),K=new R.E4("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),T=new R.E4("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),x=new R.E4("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),w=new R.E4("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),N=new R.E4("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),k=new R.E4("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),I=new R.E4("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Y=new R.E4("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),dt={zoom:{inKeyframes:nt,outKeyframes:J},"zoom-big":{inKeyframes:vt,outKeyframes:q},"zoom-big-fast":{inKeyframes:vt,outKeyframes:q},"zoom-left":{inKeyframes:x,outKeyframes:w},"zoom-right":{inKeyframes:N,outKeyframes:k},"zoom-up":{inKeyframes:K,outKeyframes:T},"zoom-down":{inKeyframes:I,outKeyframes:Y}},b=(ot,it)=>{const{antCls:jt}=ot,z=`${jt}-${it}`,{inKeyframes:Ot,outKeyframes:Ft}=dt[it];return[(0,M.R)(z,Ot,Ft,it==="zoom-big-fast"?ot.motionDurationFast:ot.motionDurationMid),{[`
        ${z}-enter,
        ${z}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:ot.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${z}-leave`]:{animationTimingFunction:ot.motionEaseInOutCirc}}]}},60731:function(At,Et,V){"use strict";V.d(Et,{ZP:function(){return q},qN:function(){return nt},wZ:function(){return J}});var R=V(50138),M=V(46229);const nt=8;function J(K){const{contentRadius:T,limitVerticalRadius:x}=K,w=T>12?T+2:12;return{arrowOffsetHorizontal:w,arrowOffsetVertical:x?nt:w}}function vt(K,T){return K?T:{}}function q(K,T,x){const{componentCls:w,boxShadowPopoverArrow:N,arrowOffsetVertical:k,arrowOffsetHorizontal:I}=K,{arrowDistance:Y=0,arrowPlacement:dt={left:!0,right:!0,top:!0,bottom:!0}}=x||{};return{[w]:Object.assign(Object.assign(Object.assign(Object.assign({[`${w}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},(0,M.W)(K,T,N)),{"&:before":{background:T}})]},vt(!!dt.top,{[[`&-placement-top > ${w}-arrow`,`&-placement-topLeft > ${w}-arrow`,`&-placement-topRight > ${w}-arrow`].join(",")]:{bottom:Y,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${w}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":I,[`> ${w}-arrow`]:{left:{_skip_check_:!0,value:I}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,R.bf)(I)})`,[`> ${w}-arrow`]:{right:{_skip_check_:!0,value:I}}}})),vt(!!dt.bottom,{[[`&-placement-bottom > ${w}-arrow`,`&-placement-bottomLeft > ${w}-arrow`,`&-placement-bottomRight > ${w}-arrow`].join(",")]:{top:Y,transform:"translateY(-100%)"},[`&-placement-bottom > ${w}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":I,[`> ${w}-arrow`]:{left:{_skip_check_:!0,value:I}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,R.bf)(I)})`,[`> ${w}-arrow`]:{right:{_skip_check_:!0,value:I}}}})),vt(!!dt.left,{[[`&-placement-left > ${w}-arrow`,`&-placement-leftTop > ${w}-arrow`,`&-placement-leftBottom > ${w}-arrow`].join(",")]:{right:{_skip_check_:!0,value:Y},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${w}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${w}-arrow`]:{top:k},[`&-placement-leftBottom > ${w}-arrow`]:{bottom:k}})),vt(!!dt.right,{[[`&-placement-right > ${w}-arrow`,`&-placement-rightTop > ${w}-arrow`,`&-placement-rightBottom > ${w}-arrow`].join(",")]:{left:{_skip_check_:!0,value:Y},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${w}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${w}-arrow`]:{top:k},[`&-placement-rightBottom > ${w}-arrow`]:{bottom:k}}))}}},46229:function(At,Et,V){"use strict";V.d(Et,{W:function(){return nt},w:function(){return M}});var R=V(50138);function M(J){const{sizePopupArrow:vt,borderRadiusXS:q,borderRadiusOuter:K}=J,T=vt/2,x=0,w=T,N=K*1/Math.sqrt(2),k=T-K*(1-1/Math.sqrt(2)),I=T-q*(1/Math.sqrt(2)),Y=K*(Math.sqrt(2)-1)+q*(1/Math.sqrt(2)),dt=2*T-I,b=Y,ot=2*T-N,it=k,jt=2*T-x,z=w,Ot=T*Math.sqrt(2)+K*(Math.sqrt(2)-2),Ft=K*(Math.sqrt(2)-1),ke=`polygon(${Ft}px 100%, 50% ${Ft}px, ${2*T-Ft}px 100%, ${Ft}px 100%)`,_n=`path('M ${x} ${w} A ${K} ${K} 0 0 0 ${N} ${k} L ${I} ${Y} A ${q} ${q} 0 0 1 ${dt} ${b} L ${ot} ${it} A ${K} ${K} 0 0 0 ${jt} ${z} Z')`;return{arrowShadowWidth:Ot,arrowPath:_n,arrowPolygon:ke}}const nt=(J,vt,q)=>{const{sizePopupArrow:K,arrowPolygon:T,arrowPath:x,arrowShadowWidth:w,borderRadiusXS:N,calc:k}=J;return{pointerEvents:"none",width:K,height:K,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:K,height:k(K).div(2).equal(),background:vt,clipPath:{_multi_value_:!0,value:[T,x]},content:'""'},"&::after":{content:'""',position:"absolute",width:w,height:w,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,R.bf)(N)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:q,zIndex:0,background:"transparent"}}}},65253:function(At,Et,V){"use strict";V.d(Et,{Mj:function(){return J},u_:function(){return nt}});var R=V(39546),M=V(50304);const nt={token:M.Z,override:{override:M.Z},hashed:!0},J=R.createContext(nt)},58093:function(At,Et,V){"use strict";V.d(Et,{i:function(){return R}});const R=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"]},31859:function(At,Et,V){"use strict";V.d(Et,{Z:function(){return dt}});var R=V(68640),M=V(50304),nt=V(52555),vt=b=>{let ot=b,it=b,jt=b,z=b;return b<6&&b>=5?ot=b+1:b<16&&b>=6?ot=b+2:b>=16&&(ot=16),b<7&&b>=5?it=4:b<8&&b>=7?it=5:b<14&&b>=8?it=6:b<16&&b>=14?it=7:b>=16&&(it=8),b<6&&b>=2?jt=1:b>=6&&(jt=2),b>4&&b<8?z=4:b>=8&&(z=6),{borderRadius:b,borderRadiusXS:jt,borderRadiusSM:it,borderRadiusLG:ot,borderRadiusOuter:z}};function q(b){const{motionUnit:ot,motionBase:it,borderRadius:jt,lineWidth:z}=b;return Object.assign({motionDurationFast:`${(it+ot).toFixed(1)}s`,motionDurationMid:`${(it+ot*2).toFixed(1)}s`,motionDurationSlow:`${(it+ot*3).toFixed(1)}s`,lineWidthBold:z+1},vt(jt))}var K=V(56799),T=V(16094);function x(b){const{sizeUnit:ot,sizeStep:it}=b;return{sizeXXL:ot*(it+8),sizeXL:ot*(it+4),sizeLG:ot*(it+2),sizeMD:ot*(it+1),sizeMS:ot*it,size:ot*it,sizeSM:ot*(it-1),sizeXS:ot*(it-2),sizeXXS:ot*(it-3)}}var w=V(84432);const N=(b,ot)=>new w.t(b).setA(ot).toRgbString(),k=(b,ot)=>new w.t(b).darken(ot).toHexString(),I=b=>{const ot=(0,R.R_)(b);return{1:ot[0],2:ot[1],3:ot[2],4:ot[3],5:ot[4],6:ot[5],7:ot[6],8:ot[4],9:ot[5],10:ot[6]}},Y=(b,ot)=>{const it=b||"#fff",jt=ot||"#000";return{colorBgBase:it,colorTextBase:jt,colorText:N(jt,.88),colorTextSecondary:N(jt,.65),colorTextTertiary:N(jt,.45),colorTextQuaternary:N(jt,.25),colorFill:N(jt,.15),colorFillSecondary:N(jt,.06),colorFillTertiary:N(jt,.04),colorFillQuaternary:N(jt,.02),colorBgSolid:N(jt,1),colorBgSolidHover:N(jt,.75),colorBgSolidActive:N(jt,.95),colorBgLayout:k(it,4),colorBgContainer:k(it,0),colorBgElevated:k(it,0),colorBgSpotlight:N(jt,.85),colorBgBlur:"transparent",colorBorder:k(it,15),colorBorderSecondary:k(it,6)}};function dt(b){R.ez.pink=R.ez.magenta,R.Ti.pink=R.Ti.magenta;const ot=Object.keys(M.M).map(it=>{const jt=b[it]===R.ez[it]?R.Ti[it]:(0,R.R_)(b[it]);return Array.from({length:10},()=>1).reduce((z,Ot,Ft)=>(z[`${it}-${Ft+1}`]=jt[Ft],z[`${it}${Ft+1}`]=jt[Ft],z),{})}).reduce((it,jt)=>(it=Object.assign(Object.assign({},it),jt),it),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},b),ot),(0,nt.Z)(b,{generateColorPalettes:I,generateNeutralColorPalettes:Y})),(0,T.Z)(b.fontSize)),x(b)),(0,K.Z)(b)),q(b))}},95806:function(At,Et,V){"use strict";var R=V(50138),M=V(31859);const nt=(0,R.jG)(M.Z);Et.Z=nt},50304:function(At,Et,V){"use strict";V.d(Et,{M:function(){return R}});const R={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},M=Object.assign(Object.assign({},R),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});Et.Z=M},52555:function(At,Et,V){"use strict";V.d(Et,{Z:function(){return M}});var R=V(84432);function M(nt,J){let{generateColorPalettes:vt,generateNeutralColorPalettes:q}=J;const{colorSuccess:K,colorWarning:T,colorError:x,colorInfo:w,colorPrimary:N,colorBgBase:k,colorTextBase:I}=nt,Y=vt(N),dt=vt(K),b=vt(T),ot=vt(x),it=vt(w),jt=q(k,I),z=nt.colorLink||nt.colorInfo,Ot=vt(z),Ft=new R.t(ot[1]).mix(new R.t(ot[3]),50).toHexString();return Object.assign(Object.assign({},jt),{colorPrimaryBg:Y[1],colorPrimaryBgHover:Y[2],colorPrimaryBorder:Y[3],colorPrimaryBorderHover:Y[4],colorPrimaryHover:Y[5],colorPrimary:Y[6],colorPrimaryActive:Y[7],colorPrimaryTextHover:Y[8],colorPrimaryText:Y[9],colorPrimaryTextActive:Y[10],colorSuccessBg:dt[1],colorSuccessBgHover:dt[2],colorSuccessBorder:dt[3],colorSuccessBorderHover:dt[4],colorSuccessHover:dt[4],colorSuccess:dt[6],colorSuccessActive:dt[7],colorSuccessTextHover:dt[8],colorSuccessText:dt[9],colorSuccessTextActive:dt[10],colorErrorBg:ot[1],colorErrorBgHover:ot[2],colorErrorBgFilledHover:Ft,colorErrorBgActive:ot[3],colorErrorBorder:ot[3],colorErrorBorderHover:ot[4],colorErrorHover:ot[5],colorError:ot[6],colorErrorActive:ot[7],colorErrorTextHover:ot[8],colorErrorText:ot[9],colorErrorTextActive:ot[10],colorWarningBg:b[1],colorWarningBgHover:b[2],colorWarningBorder:b[3],colorWarningBorderHover:b[4],colorWarningHover:b[4],colorWarning:b[6],colorWarningActive:b[7],colorWarningTextHover:b[8],colorWarningText:b[9],colorWarningTextActive:b[10],colorInfoBg:it[1],colorInfoBgHover:it[2],colorInfoBorder:it[3],colorInfoBorderHover:it[4],colorInfoHover:it[4],colorInfo:it[6],colorInfoActive:it[7],colorInfoTextHover:it[8],colorInfoText:it[9],colorInfoTextActive:it[10],colorLinkHover:Ot[4],colorLink:Ot[6],colorLinkActive:Ot[7],colorBgMask:new R.t("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}},56799:function(At,Et){"use strict";const V=R=>{const{controlHeight:M}=R;return{controlHeightSM:M*.75,controlHeightXS:M*.5,controlHeightLG:M*1.25}};Et.Z=V},16094:function(At,Et,V){"use strict";var R=V(75906);const M=nt=>{const J=(0,R.Z)(nt),vt=J.map(I=>I.size),q=J.map(I=>I.lineHeight),K=vt[1],T=vt[0],x=vt[2],w=q[1],N=q[0],k=q[2];return{fontSizeSM:T,fontSize:K,fontSizeLG:x,fontSizeXL:vt[3],fontSizeHeading1:vt[6],fontSizeHeading2:vt[5],fontSizeHeading3:vt[4],fontSizeHeading4:vt[3],fontSizeHeading5:vt[2],lineHeight:w,lineHeightLG:k,lineHeightSM:N,fontHeight:Math.round(w*K),fontHeightLG:Math.round(k*x),fontHeightSM:Math.round(N*T),lineHeightHeading1:q[6],lineHeightHeading2:q[5],lineHeightHeading3:q[4],lineHeightHeading4:q[3],lineHeightHeading5:q[2]}};Et.Z=M},75906:function(At,Et,V){"use strict";V.d(Et,{D:function(){return R},Z:function(){return M}});function R(nt){return(nt+8)/nt}function M(nt){const J=Array.from({length:10}).map((vt,q)=>{const K=q-1,T=nt*Math.pow(Math.E,K/5),x=q>1?Math.floor(T):Math.ceil(T);return Math.floor(x/2)*2});return J[1]=nt,J.map(vt=>({size:vt,lineHeight:R(vt)}))}},1884:function(At,Et,V){"use strict";V.d(Et,{NJ:function(){return x},ZP:function(){return I}});var R=V(39546),M=V(50138),nt=V(20747),J=V(65253),vt=V(95806),q=V(50304),K=V(73716),T=function(Y,dt){var b={};for(var ot in Y)Object.prototype.hasOwnProperty.call(Y,ot)&&dt.indexOf(ot)<0&&(b[ot]=Y[ot]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var it=0,ot=Object.getOwnPropertySymbols(Y);it<ot.length;it++)dt.indexOf(ot[it])<0&&Object.prototype.propertyIsEnumerable.call(Y,ot[it])&&(b[ot[it]]=Y[ot[it]]);return b};const x={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},w={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},N={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},k=(Y,dt,b)=>{const ot=b.getDerivativeToken(Y),{override:it}=dt,jt=T(dt,["override"]);let z=Object.assign(Object.assign({},ot),{override:it});return z=(0,K.Z)(z),jt&&Object.entries(jt).forEach(Ot=>{let[Ft,ke]=Ot;const{theme:_n}=ke,It=T(ke,["theme"]);let ge=It;_n&&(ge=k(Object.assign(Object.assign({},z),It),{override:It},_n)),z[Ft]=ge}),z};function I(){const{token:Y,hashed:dt,theme:b,override:ot,cssVar:it}=R.useContext(J.Mj),jt=`${nt.Z}-${dt||""}`,z=b||vt.Z,[Ot,Ft,ke]=(0,M.fp)(z,[q.Z,Y],{salt:jt,override:ot,getComputedToken:k,formatToken:K.Z,cssVar:it&&{prefix:it.prefix,key:it.key,unitless:x,ignore:w,preserve:N}});return[z,ke,dt?Ft:"",Ot,it]}},73716:function(At,Et,V){"use strict";V.d(Et,{Z:function(){return vt}});var R=V(84432),M=V(50304),nt=V(82355),J=function(q,K){var T={};for(var x in q)Object.prototype.hasOwnProperty.call(q,x)&&K.indexOf(x)<0&&(T[x]=q[x]);if(q!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,x=Object.getOwnPropertySymbols(q);w<x.length;w++)K.indexOf(x[w])<0&&Object.prototype.propertyIsEnumerable.call(q,x[w])&&(T[x[w]]=q[x[w]]);return T};function vt(q){const{override:K}=q,T=J(q,["override"]),x=Object.assign({},K);Object.keys(M.Z).forEach(it=>{delete x[it]});const w=Object.assign(Object.assign({},T),x),N=480,k=576,I=768,Y=992,dt=1200,b=1600;if(w.motion===!1){const it="0s";w.motionDurationFast=it,w.motionDurationMid=it,w.motionDurationSlow=it}return Object.assign(Object.assign(Object.assign({},w),{colorFillContent:w.colorFillSecondary,colorFillContentHover:w.colorFill,colorFillAlter:w.colorFillQuaternary,colorBgContainerDisabled:w.colorFillTertiary,colorBorderBg:w.colorBgContainer,colorSplit:(0,nt.Z)(w.colorBorderSecondary,w.colorBgContainer),colorTextPlaceholder:w.colorTextQuaternary,colorTextDisabled:w.colorTextQuaternary,colorTextHeading:w.colorText,colorTextLabel:w.colorTextSecondary,colorTextDescription:w.colorTextTertiary,colorTextLightSolid:w.colorWhite,colorHighlight:w.colorError,colorBgTextHover:w.colorFillSecondary,colorBgTextActive:w.colorFill,colorIcon:w.colorTextTertiary,colorIconHover:w.colorText,colorErrorOutline:(0,nt.Z)(w.colorErrorBg,w.colorBgContainer),colorWarningOutline:(0,nt.Z)(w.colorWarningBg,w.colorBgContainer),fontSizeIcon:w.fontSizeSM,lineWidthFocus:w.lineWidth*3,lineWidth:w.lineWidth,controlOutlineWidth:w.lineWidth*2,controlInteractiveSize:w.controlHeight/2,controlItemBgHover:w.colorFillTertiary,controlItemBgActive:w.colorPrimaryBg,controlItemBgActiveHover:w.colorPrimaryBgHover,controlItemBgActiveDisabled:w.colorFill,controlTmpOutline:w.colorFillQuaternary,controlOutline:(0,nt.Z)(w.colorPrimaryBg,w.colorBgContainer),lineType:w.lineType,borderRadius:w.borderRadius,borderRadiusXS:w.borderRadiusXS,borderRadiusSM:w.borderRadiusSM,borderRadiusLG:w.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:w.sizeXXS,paddingXS:w.sizeXS,paddingSM:w.sizeSM,padding:w.size,paddingMD:w.sizeMD,paddingLG:w.sizeLG,paddingXL:w.sizeXL,paddingContentHorizontalLG:w.sizeLG,paddingContentVerticalLG:w.sizeMS,paddingContentHorizontal:w.sizeMS,paddingContentVertical:w.sizeSM,paddingContentHorizontalSM:w.size,paddingContentVerticalSM:w.sizeXS,marginXXS:w.sizeXXS,marginXS:w.sizeXS,marginSM:w.sizeSM,margin:w.size,marginMD:w.sizeMD,marginLG:w.sizeLG,marginXL:w.sizeXL,marginXXL:w.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:N,screenXSMin:N,screenXSMax:k-1,screenSM:k,screenSMMin:k,screenSMMax:I-1,screenMD:I,screenMDMin:I,screenMDMax:Y-1,screenLG:Y,screenLGMin:Y,screenLGMax:dt-1,screenXL:dt,screenXLMin:dt,screenXLMax:b-1,screenXXL:b,screenXXLMin:b,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new R.t("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new R.t("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new R.t("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),x)}},15619:function(At,Et,V){"use strict";V.d(Et,{Z:function(){return M}});var R=V(58093);function M(nt,J){return R.i.reduce((vt,q)=>{const K=nt[`${q}1`],T=nt[`${q}3`],x=nt[`${q}6`],w=nt[`${q}7`];return Object.assign(Object.assign({},vt),J(q,{lightColor:K,lightBorderColor:T,darkColor:x,textColor:w}))},{})}},55010:function(At,Et,V){"use strict";V.d(Et,{A1:function(){return K},I$:function(){return q},bk:function(){return T}});var R=V(39546),M=V(27540),nt=V(55595),J=V(49247),vt=V(1884);const{genStyleHooks:q,genComponentStyleHook:K,genSubStyleComponent:T}=(0,M.rb)({usePrefix:()=>{const{getPrefixCls:x,iconPrefixCls:w}=(0,R.useContext)(nt.E_);return{rootPrefixCls:x(),iconPrefixCls:w}},useToken:()=>{const[x,w,N,k,I]=(0,vt.ZP)();return{theme:x,realToken:w,hashId:N,token:k,cssVar:I}},useCSP:()=>{const{csp:x}=(0,R.useContext)(nt.E_);return x!=null?x:{}},getResetStyles:(x,w)=>{var N;const k=(0,J.Lx)(x);return[k,{"&":k},(0,J.JT)((N=w==null?void 0:w.prefix.iconPrefixCls)!==null&&N!==void 0?N:nt.oR)]},getCommonStyle:J.du,getCompUnitless:()=>vt.NJ})},82355:function(At,Et,V){"use strict";var R=V(84432);function M(J){return J>=0&&J<=255}function nt(J,vt){const{r:q,g:K,b:T,a:x}=new R.t(J).toRgb();if(x<1)return J;const{r:w,g:N,b:k}=new R.t(vt).toRgb();for(let I=.01;I<=1;I+=.01){const Y=Math.round((q-w*(1-I))/I),dt=Math.round((K-N*(1-I))/I),b=Math.round((T-k*(1-I))/I);if(M(Y)&&M(dt)&&M(b))return new R.t({r:Y,g:dt,b,a:Math.round(I*100)/100}).toRgbString()}return new R.t({r:q,g:K,b:T,a:1}).toRgbString()}Et.Z=nt},79325:function(At,Et,V){"use strict";V.d(Et,{Z:function(){return ye}});var R=V(39546),M=V(82187),nt=V.n(M),J=V(18095),vt=V(31363),q=V(55838),K=V(2267),T=V(12277),x=V(12706),w=V(5905),N=V(69444),k=V(49984),I=V(55595),Y=V(1884),dt=V(50138),b=V(49247),ot=V(78004),it=V(60731),jt=V(46229),z=V(15619),Ot=V(27540),Ft=V(55010);const ke=$t=>{const{calc:Ve,componentCls:$e,tooltipMaxWidth:ae,tooltipColor:Be,tooltipBg:Mn,tooltipBorderRadius:Xe,zIndexPopup:Qn,controlHeight:Un,boxShadowSecondary:Dn,paddingSM:Cn,paddingXS:qt,arrowOffsetHorizontal:qe,sizePopupArrow:on}=$t,pe=Ve(Xe).add(on).add(qe).equal(),Fe=Ve(Xe).mul(2).add(on).equal();return[{[$e]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,b.Wf)($t)),{position:"absolute",zIndex:Qn,display:"block",width:"max-content",maxWidth:ae,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":Mn,[`${$e}-inner`]:{minWidth:Fe,minHeight:Un,padding:`${(0,dt.bf)($t.calc(Cn).div(2).equal())} ${(0,dt.bf)(qt)}`,color:Be,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:Mn,borderRadius:Xe,boxShadow:Dn,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:pe},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${$e}-inner`]:{borderRadius:$t.min(Xe,it.qN)}},[`${$e}-content`]:{position:"relative"}}),(0,z.Z)($t,(ne,Yt)=>{let{darkColor:Zt}=Yt;return{[`&${$e}-${ne}`]:{[`${$e}-inner`]:{backgroundColor:Zt},[`${$e}-arrow`]:{"--antd-arrow-background-color":Zt}}}})),{"&-rtl":{direction:"rtl"}})},(0,it.ZP)($t,"var(--antd-arrow-background-color)"),{[`${$e}-pure`]:{position:"relative",maxWidth:"none",margin:$t.sizePopupArrow}}]},_n=$t=>Object.assign(Object.assign({zIndexPopup:$t.zIndexPopupBase+70},(0,it.wZ)({contentRadius:$t.borderRadius,limitVerticalRadius:!0})),(0,jt.w)((0,Ot.IX)($t,{borderRadiusOuter:Math.min($t.borderRadiusOuter,4)})));var It=function($t){let Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,Ft.I$)("Tooltip",ae=>{const{borderRadius:Be,colorTextLightSolid:Mn,colorBgSpotlight:Xe}=ae,Qn=(0,Ot.IX)(ae,{tooltipMaxWidth:250,tooltipColor:Mn,tooltipBorderRadius:Be,tooltipBg:Xe});return[ke(Qn),(0,ot._y)(ae,"zoom-big-fast")]},_n,{resetStyle:!1,injectStyle:Ve})($t)},ge=V(26433);function Me($t,Ve){const $e=(0,ge.o2)(Ve),ae=nt()({[`${$t}-${Ve}`]:Ve&&$e}),Be={},Mn={};return Ve&&!$e&&(Be.background=Ve,Mn["--antd-arrow-background-color"]=Ve),{className:ae,overlayStyle:Be,arrowStyle:Mn}}var Kt=$t=>{const{prefixCls:Ve,className:$e,placement:ae="top",title:Be,color:Mn,overlayInnerStyle:Xe}=$t,{getPrefixCls:Qn}=R.useContext(I.E_),Un=Qn("tooltip",Ve),[Dn,Cn,qt]=It(Un),qe=Me(Un,Mn),on=qe.arrowStyle,pe=Object.assign(Object.assign({},Xe),qe.overlayStyle),Fe=nt()(Cn,qt,Un,`${Un}-pure`,`${Un}-placement-${ae}`,$e,qe.className);return Dn(R.createElement("div",{className:Fe,style:on},R.createElement("div",{className:`${Un}-arrow`}),R.createElement(J.G,Object.assign({},$t,{className:Cn,prefixCls:Un,overlayInnerStyle:pe}),Be)))},Bt=function($t,Ve){var $e={};for(var ae in $t)Object.prototype.hasOwnProperty.call($t,ae)&&Ve.indexOf(ae)<0&&($e[ae]=$t[ae]);if($t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Be=0,ae=Object.getOwnPropertySymbols($t);Be<ae.length;Be++)Ve.indexOf(ae[Be])<0&&Object.prototype.propertyIsEnumerable.call($t,ae[Be])&&($e[ae[Be]]=$t[ae[Be]]);return $e};const oe=R.forwardRef(($t,Ve)=>{var $e,ae;const{prefixCls:Be,openClassName:Mn,getTooltipContainer:Xe,color:Qn,overlayInnerStyle:Un,children:Dn,afterOpenChange:Cn,afterVisibleChange:qt,destroyTooltipOnHide:qe,destroyOnHidden:on,arrow:pe=!0,title:Fe,overlay:ne,builtinPlacements:Yt,arrowPointAtCenter:Zt=!1,autoAdjustOverflow:He=!0,motion:zn,getPopupContainer:Fn,placement:jn="top",mouseEnterDelay:tr=.1,mouseLeaveDelay:Tn=.1,overlayStyle:Rr,rootClassName:Gn,overlayClassName:kr,styles:qn,classNames:An}=$t,ir=Bt($t,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","destroyOnHidden","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),Ar=!!pe,[,sr]=(0,Y.ZP)(),{getPopupContainer:Lr,getPrefixCls:ze,direction:dr,className:gr,style:Sr,classNames:lr,styles:or}=(0,I.dj)("tooltip"),Nr=(0,N.ln)("Tooltip"),Wr=R.useRef(null),cr=()=>{var ar;(ar=Wr.current)===null||ar===void 0||ar.forceAlign()};R.useImperativeHandle(Ve,()=>{var ar,ui;return{forceAlign:cr,forcePopupAlign:()=>{Nr.deprecated(!1,"forcePopupAlign","forceAlign"),cr()},nativeElement:(ar=Wr.current)===null||ar===void 0?void 0:ar.nativeElement,popupElement:(ui=Wr.current)===null||ui===void 0?void 0:ui.popupElement}});const[Zn,Pr]=(0,vt.Z)(!1,{value:($e=$t.open)!==null&&$e!==void 0?$e:$t.visible,defaultValue:(ae=$t.defaultOpen)!==null&&ae!==void 0?ae:$t.defaultVisible}),Vr=!Fe&&!ne&&Fe!==0,es=ar=>{var ui,pr;Pr(Vr?!1:ar),Vr||((ui=$t.onOpenChange)===null||ui===void 0||ui.call($t,ar),(pr=$t.onVisibleChange)===null||pr===void 0||pr.call($t,ar))},ai=R.useMemo(()=>{var ar,ui;let pr=Zt;return typeof pe=="object"&&(pr=(ui=(ar=pe.pointAtCenter)!==null&&ar!==void 0?ar:pe.arrowPointAtCenter)!==null&&ui!==void 0?ui:Zt),Yt||(0,x.Z)({arrowPointAtCenter:pr,autoAdjustOverflow:He,arrowWidth:Ar?sr.sizePopupArrow:0,borderRadius:sr.borderRadius,offset:sr.marginXXS,visibleFirst:!0})},[Zt,pe,Yt,sr]),ns=R.useMemo(()=>Fe===0?Fe:ne||Fe||"",[ne,Fe]),rs=R.createElement(q.Z,{space:!0},typeof ns=="function"?ns():ns),Dr=ze("tooltip",Be),ws=ze(),Cs=$t["data-popover-inject"];let li=Zn;!("open"in $t)&&!("visible"in $t)&&Vr&&(li=!1);const ei=R.isValidElement(Dn)&&!(0,w.M2)(Dn)?Dn:R.createElement("span",null,Dn),Fr=ei.props,is=!Fr.className||typeof Fr.className=="string"?nt()(Fr.className,Mn||`${Dr}-open`):Fr.className,[Ai,$s,Ss]=It(Dr,!Cs),Gi=Me(Dr,Qn),zs=Gi.arrowStyle,ni=nt()(kr,{[`${Dr}-rtl`]:dr==="rtl"},Gi.className,Gn,$s,Ss,gr,lr.root,An==null?void 0:An.root),ci=nt()(lr.body,An==null?void 0:An.body),[so,ss]=(0,K.Cn)("Tooltip",ir.zIndex),Li=R.createElement(J.Z,Object.assign({},ir,{zIndex:so,showArrow:Ar,placement:jn,mouseEnterDelay:tr,mouseLeaveDelay:Tn,prefixCls:Dr,classNames:{root:ni,body:ci},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zs),or.root),Sr),Rr),qn==null?void 0:qn.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},or.body),Un),qn==null?void 0:qn.body),Gi.overlayStyle)},getTooltipContainer:Fn||Xe||Lr,ref:Wr,builtinPlacements:ai,overlay:rs,visible:li,onVisibleChange:es,afterVisibleChange:Cn!=null?Cn:qt,arrowContent:R.createElement("span",{className:`${Dr}-arrow-content`}),motion:{motionName:(0,T.m)(ws,"zoom-big-fast",$t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:on!=null?on:!!qe}),li?(0,w.Tm)(ei,{className:is}):ei);return Ai(R.createElement(k.Z.Provider,{value:ss},Li))});oe._InternalPanelDoNotUseOrYouWillBeFired=Kt;var ye=oe},20747:function(At,Et,V){"use strict";V.d(Et,{Z:function(){return M}});var R="5.25.1",M=R},32699:function(At,Et,V){At=V.nmd(At);var R;(function(){var M,nt="4.17.21",J=200,vt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",q="Expected a function",K="Invalid `variable` option passed into `_.template`",T="__lodash_hash_undefined__",x=500,w="__lodash_placeholder__",N=1,k=2,I=4,Y=1,dt=2,b=1,ot=2,it=4,jt=8,z=16,Ot=32,Ft=64,ke=128,_n=256,It=512,ge=30,Me="...",Se=800,Kt=16,Bt=1,te=2,oe=3,ye=1/0,$t=9007199254740991,Ve=17976931348623157e292,$e=NaN,ae=4294967295,Be=ae-1,Mn=ae>>>1,Xe=[["ary",ke],["bind",b],["bindKey",ot],["curry",jt],["curryRight",z],["flip",It],["partial",Ot],["partialRight",Ft],["rearg",_n]],Qn="[object Arguments]",Un="[object Array]",Dn="[object AsyncFunction]",Cn="[object Boolean]",qt="[object Date]",qe="[object DOMException]",on="[object Error]",pe="[object Function]",Fe="[object GeneratorFunction]",ne="[object Map]",Yt="[object Number]",Zt="[object Null]",He="[object Object]",zn="[object Promise]",Fn="[object Proxy]",jn="[object RegExp]",tr="[object Set]",Tn="[object String]",Rr="[object Symbol]",Gn="[object Undefined]",kr="[object WeakMap]",qn="[object WeakSet]",An="[object ArrayBuffer]",ir="[object DataView]",Ar="[object Float32Array]",sr="[object Float64Array]",Lr="[object Int8Array]",ze="[object Int16Array]",dr="[object Int32Array]",gr="[object Uint8Array]",Sr="[object Uint8ClampedArray]",lr="[object Uint16Array]",or="[object Uint32Array]",Nr=/\b__p \+= '';/g,Wr=/\b(__p \+=) '' \+/g,cr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Zn=/&(?:amp|lt|gt|quot|#39);/g,Pr=/[&<>"']/g,Vr=RegExp(Zn.source),es=RegExp(Pr.source),ai=/<%-([\s\S]+?)%>/g,ns=/<%([\s\S]+?)%>/g,rs=/<%=([\s\S]+?)%>/g,Dr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ws=/^\w*$/,Cs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,li=/[\\^$.*+?()[\]{}|]/g,ei=RegExp(li.source),Fr=/^\s+/,is=/\s/,Ai=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$s=/\{\n\/\* \[wrapped with (.+)\] \*/,Ss=/,? & /,Gi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zs=/[()=,{}\[\]\/\s]/,ni=/\\(\\)?/g,ci=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,so=/\w*$/,ss=/^[-+]0x[0-9a-f]+$/i,Li=/^0b[01]+$/i,ar=/^\[object .+?Constructor\]$/,ui=/^0o[0-7]+$/i,pr=/^(?:0|[1-9]\d*)$/,Yo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mr=/($^)/,pa=/['\n\r\u2028\u2029\\]/g,Co="\\ud800-\\udfff",ma="\\u0300-\\u036f",Ni="\\ufe20-\\ufe2f",So="\\u20d0-\\u20ff",Zs=ma+Ni+So,va="\\u2700-\\u27bf",Po="a-z\\xdf-\\xf6\\xf8-\\xff",ya="\\xac\\xb1\\xd7\\xf7",Jo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Di="\\u2000-\\u206f",rr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qo="A-Z\\xc0-\\xd6\\xd8-\\xde",Ps="\\ufe0e\\ufe0f",oo=ya+Jo+Di+rr,Oi="['\u2019]",Hs="["+Co+"]",Eo="["+oo+"]",Ur="["+Zs+"]",wr="\\d+",fi="["+va+"]",ao="["+Po+"]",Mi="[^"+Co+oo+wr+va+Po+Qo+"]",Ws="\\ud83c[\\udffb-\\udfff]",za="(?:"+Ur+"|"+Ws+")",Us="[^"+Co+"]",os="(?:\\ud83c[\\udde6-\\uddff]){2}",yi="[\\ud800-\\udbff][\\udc00-\\udfff]",ri="["+Qo+"]",Fi="\\u200d",Gr="(?:"+ao+"|"+Mi+")",kn="(?:"+ri+"|"+Mi+")",as="(?:"+Oi+"(?:d|ll|m|re|s|t|ve))?",hi="(?:"+Oi+"(?:D|LL|M|RE|S|T|VE))?",ta=za+"?",Gs="["+Ps+"]?",Ao="(?:"+Fi+"(?:"+[Us,os,yi].join("|")+")"+Gs+ta+")*",ea="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",di="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bi=Gs+ta+Ao,Bi="(?:"+[fi,os,yi].join("|")+")"+bi,xi="(?:"+[Us+Ur+"?",Ur,os,yi,Hs].join("|")+")",ls=RegExp(Oi,"g"),cs=RegExp(Ur,"g"),lo=RegExp(Ws+"(?="+Ws+")|"+xi+bi,"g"),Es=RegExp([ri+"?"+ao+"+"+as+"(?="+[Eo,ri,"$"].join("|")+")",kn+"+"+hi+"(?="+[Eo,ri+Gr,"$"].join("|")+")",ri+"?"+Gr+"+"+as,ri+"+"+hi,di,ea,wr,Bi].join("|"),"g"),Za=RegExp("["+Fi+Co+Zs+Ps+"]"),As=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ba=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ut=-1,D={};D[Ar]=D[sr]=D[Lr]=D[ze]=D[dr]=D[gr]=D[Sr]=D[lr]=D[or]=!0,D[Qn]=D[Un]=D[An]=D[Cn]=D[ir]=D[qt]=D[on]=D[pe]=D[ne]=D[Yt]=D[He]=D[jn]=D[tr]=D[Tn]=D[kr]=!1;var A={};A[Qn]=A[Un]=A[An]=A[ir]=A[Cn]=A[qt]=A[Ar]=A[sr]=A[Lr]=A[ze]=A[dr]=A[ne]=A[Yt]=A[He]=A[jn]=A[tr]=A[Tn]=A[Rr]=A[gr]=A[Sr]=A[lr]=A[or]=!0,A[on]=A[pe]=A[kr]=!1;var H={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},et={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pt=parseFloat,Mt=parseInt,Nt=typeof V.g=="object"&&V.g&&V.g.Object===Object&&V.g,Ct=typeof self=="object"&&self&&self.Object===Object&&self,kt=Nt||Ct||Function("return this")(),se=Et&&!Et.nodeType&&Et,We=se&&!0&&At&&!At.nodeType&&At,he=We&&We.exports===se,le=he&&Nt.process,Dt=function(){try{var ct=We&&We.require&&We.require("util").types;return ct||le&&le.binding&&le.binding("util")}catch(xt){}}(),Pe=Dt&&Dt.isArrayBuffer,re=Dt&&Dt.isDate,_e=Dt&&Dt.isMap,en=Dt&&Dt.isRegExp,Ue=Dt&&Dt.isSet,gn=Dt&&Dt.isTypedArray;function Ge(ct,xt,bt){switch(bt.length){case 0:return ct.call(xt);case 1:return ct.call(xt,bt[0]);case 2:return ct.call(xt,bt[0],bt[1]);case 3:return ct.call(xt,bt[0],bt[1],bt[2])}return ct.apply(xt,bt)}function un(ct,xt,bt,Ut){for(var de=-1,Ae=ct==null?0:ct.length;++de<Ae;){var Oe=ct[de];xt(Ut,Oe,bt(Oe),ct)}return Ut}function me(ct,xt){for(var bt=-1,Ut=ct==null?0:ct.length;++bt<Ut&&xt(ct[bt],bt,ct)!==!1;);return ct}function rn(ct,xt){for(var bt=ct==null?0:ct.length;bt--&&xt(ct[bt],bt,ct)!==!1;);return ct}function Je(ct,xt){for(var bt=-1,Ut=ct==null?0:ct.length;++bt<Ut;)if(!xt(ct[bt],bt,ct))return!1;return!0}function In(ct,xt){for(var bt=-1,Ut=ct==null?0:ct.length,de=0,Ae=[];++bt<Ut;){var Oe=ct[bt];xt(Oe,bt,ct)&&(Ae[de++]=Oe)}return Ae}function Pn(ct,xt){var bt=ct==null?0:ct.length;return!!bt&&si(ct,xt,0)>-1}function Nn(ct,xt,bt){for(var Ut=-1,de=ct==null?0:ct.length;++Ut<de;)if(bt(xt,ct[Ut]))return!0;return!1}function bn(ct,xt){for(var bt=-1,Ut=ct==null?0:ct.length,de=Array(Ut);++bt<Ut;)de[bt]=xt(ct[bt],bt,ct);return de}function ur(ct,xt){for(var bt=-1,Ut=xt.length,de=ct.length;++bt<Ut;)ct[de+bt]=xt[bt];return ct}function ii(ct,xt,bt,Ut){var de=-1,Ae=ct==null?0:ct.length;for(Ut&&Ae&&(bt=ct[++de]);++de<Ae;)bt=xt(bt,ct[de],de,ct);return bt}function co(ct,xt,bt,Ut){var de=ct==null?0:ct.length;for(Ut&&de&&(bt=ct[--de]);de--;)bt=xt(bt,ct[de],de,ct);return bt}function us(ct,xt){for(var bt=-1,Ut=ct==null?0:ct.length;++bt<Ut;)if(xt(ct[bt],bt,ct))return!0;return!1}var na=Kn("length");function Oo(ct){return ct.split("")}function Mo(ct){return ct.match(Gi)||[]}function wi(ct,xt,bt){var Ut;return bt(ct,function(de,Ae,Oe){if(xt(de,Ae,Oe))return Ut=Ae,!1}),Ut}function Kr(ct,xt,bt,Ut){for(var de=ct.length,Ae=bt+(Ut?1:-1);Ut?Ae--:++Ae<de;)if(xt(ct[Ae],Ae,ct))return Ae;return-1}function si(ct,xt,bt){return xt===xt?Jt(ct,xt,bt):Kr(ct,oi,bt)}function To(ct,xt,bt,Ut){for(var de=bt-1,Ae=ct.length;++de<Ae;)if(Ut(ct[de],xt))return de;return-1}function oi(ct){return ct!==ct}function xa(ct,xt){var bt=ct==null?0:ct.length;return bt?Os(ct,xt)/bt:$e}function Kn(ct){return function(xt){return xt==null?M:xt[ct]}}function Ks(ct){return function(xt){return ct==null?M:ct[xt]}}function Ha(ct,xt,bt,Ut,de){return de(ct,function(Ae,Oe,Ke){bt=Ut?(Ut=!1,Ae):xt(bt,Ae,Oe,Ke)}),bt}function Vn(ct,xt){var bt=ct.length;for(ct.sort(xt);bt--;)ct[bt]=ct[bt].value;return ct}function Os(ct,xt){for(var bt,Ut=-1,de=ct.length;++Ut<de;){var Ae=xt(ct[Ut]);Ae!==M&&(bt=bt===M?Ae:bt+Ae)}return bt}function ra(ct,xt){for(var bt=-1,Ut=Array(ct);++bt<ct;)Ut[bt]=xt(bt);return Ut}function yl(ct,xt){return bn(xt,function(bt){return[bt,ct[bt]]})}function Wa(ct){return ct&&ct.slice(0,be(ct)+1).replace(Fr,"")}function Rn(ct){return function(xt){return ct(xt)}}function vr(ct,xt){return bn(xt,function(bt){return ct[bt]})}function Ci(ct,xt){return ct.has(xt)}function wa(ct,xt){for(var bt=-1,Ut=ct.length;++bt<Ut&&si(xt,ct[bt],0)>-1;);return bt}function fs(ct,xt){for(var bt=ct.length;bt--&&si(xt,ct[bt],0)>-1;);return bt}function Gl(ct,xt){for(var bt=ct.length,Ut=0;bt--;)ct[bt]===xt&&++Ut;return Ut}var Ca=Ks(H),Sa=Ks(B);function bl(ct){return"\\"+lt[ct]}function Ua(ct,xt){return ct==null?M:ct[xt]}function Ms(ct){return Za.test(ct)}function xl(ct){return As.test(ct)}function U(ct){for(var xt,bt=[];!(xt=ct.next()).done;)bt.push(xt.value);return bt}function st(ct){var xt=-1,bt=Array(ct.size);return ct.forEach(function(Ut,de){bt[++xt]=[de,Ut]}),bt}function at(ct,xt){return function(bt){return ct(xt(bt))}}function ft(ct,xt){for(var bt=-1,Ut=ct.length,de=0,Ae=[];++bt<Ut;){var Oe=ct[bt];(Oe===xt||Oe===w)&&(ct[bt]=w,Ae[de++]=bt)}return Ae}function St(ct){var xt=-1,bt=Array(ct.size);return ct.forEach(function(Ut){bt[++xt]=Ut}),bt}function Gt(ct){var xt=-1,bt=Array(ct.size);return ct.forEach(function(Ut){bt[++xt]=[Ut,Ut]}),bt}function Jt(ct,xt,bt){for(var Ut=bt-1,de=ct.length;++Ut<de;)if(ct[Ut]===xt)return Ut;return-1}function ce(ct,xt,bt){for(var Ut=bt+1;Ut--;)if(ct[Ut]===xt)return Ut;return Ut}function Qt(ct){return Ms(ct)?ve(ct):na(ct)}function ue(ct){return Ms(ct)?Qe(ct):Oo(ct)}function be(ct){for(var xt=ct.length;xt--&&is.test(ct.charAt(xt)););return xt}var Re=Ks(et);function ve(ct){for(var xt=lo.lastIndex=0;lo.test(ct);)++xt;return xt}function Qe(ct){return ct.match(lo)||[]}function hn(ct){return ct.match(Es)||[]}var Le=function ct(xt){xt=xt==null?kt:fn.defaults(kt.Object(),xt,fn.pick(kt,ba));var bt=xt.Array,Ut=xt.Date,de=xt.Error,Ae=xt.Function,Oe=xt.Math,Ke=xt.Object,fr=xt.RegExp,yr=xt.String,Xr=xt.TypeError,_o=bt.prototype,ji=Ae.prototype,Or=Ke.prototype,qr=xt["__core-js_shared__"],Ti=ji.toString,pn=Or.hasOwnProperty,Ts=0,gi=function(){var i=/[^.]+$/.exec(qr&&qr.keys&&qr.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Yr=Or.toString,uo=Ti.call(Ke),Ki=kt._,Xs=fr("^"+Ti.call(pn).replace(li,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mr=he?xt.Buffer:M,hs=xt.Symbol,Io=xt.Uint8Array,Kl=Mr?Mr.allocUnsafe:M,Pa=at(Ke.getPrototypeOf,Ke),Xl=Ke.create,ql=Or.propertyIsEnumerable,Ga=_o.splice,Yl=hs?hs.isConcatSpreadable:M,_s=hs?hs.iterator:M,Ro=hs?hs.toStringTag:M,qs=function(){try{var i=Ho(Ke,"defineProperty");return i({},"",{}),i}catch(a){}}(),Ys=xt.clearTimeout!==kt.clearTimeout&&xt.clearTimeout,Ka=Ut&&Ut.now!==kt.Date.now&&Ut.now,Xa=xt.setTimeout!==kt.setTimeout&&xt.setTimeout,Ea=Oe.ceil,qa=Oe.floor,wl=Ke.getOwnPropertySymbols,Cl=Mr?Mr.isBuffer:M,_i=xt.isFinite,Jl=_o.join,fo=at(Ke.keys,Ke),Br=Oe.max,Jr=Oe.min,Ql=Ut.now,tc=xt.parseInt,ec=Oe.random,Aa=_o.reverse,Ya=Ho(xt,"DataView"),ho=Ho(xt,"Map"),Sl=Ho(xt,"Promise"),Js=Ho(xt,"Set"),Oa=Ho(xt,"WeakMap"),Lo=Ho(Ke,"create"),Ma=Oa&&new Oa,ia={},nc=ka(Ya),Yc=ka(ho),sa=ka(Sl),Ja=ka(Js),No=ka(Oa),oa=hs?hs.prototype:M,aa=oa?oa.valueOf:M,la=oa?oa.toString:M;function $(i){if(jr(i)&&!xn(i)&&!(i instanceof On)){if(i instanceof Qr)return i;if(pn.call(i,"__wrapped__"))return wf(i)}return new Qr(i)}var Do=function(){function i(){}return function(a){if(!Ir(a))return{};if(Xl)return Xl(a);i.prototype=a;var g=new i;return i.prototype=M,g}}();function Qa(){}function Qr(i,a){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=M}$.templateSettings={escape:ai,evaluate:ns,interpolate:rs,variable:"",imports:{_:$}},$.prototype=Qa.prototype,$.prototype.constructor=$,Qr.prototype=Do(Qa.prototype),Qr.prototype.constructor=Qr;function On(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function tl(){var i=new On(this.__wrapped__);return i.__actions__=Jn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Jn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Jn(this.__views__),i}function Jc(){if(this.__filtered__){var i=new On(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Qc(){var i=this.__wrapped__.value(),a=this.__dir__,g=xn(i),P=a<0,L=g?i.length:0,W=$h(0,L,this.__views__),rt=W.start,gt=W.end,wt=gt-rt,zt=P?gt:rt-1,Ht=this.__iteratees__,Xt=Ht.length,xe=0,Ze=Jr(wt,this.__takeCount__);if(!g||!P&&L==wt&&Ze==wt)return ht(i,this.__actions__);var ln=[];t:for(;wt--&&xe<Ze;){zt+=a;for(var vn=-1,cn=i[zt];++vn<Xt;){var Ln=Ht[vn],Bn=Ln.iteratee,Hi=Ln.type,Wi=Bn(cn);if(Hi==te)cn=Wi;else if(!Wi){if(Hi==Bt)continue t;break t}}ln[xe++]=cn}return ln}On.prototype=Do(Qa.prototype),On.prototype.constructor=On;function ki(i){var a=-1,g=i==null?0:i.length;for(this.clear();++a<g;){var P=i[a];this.set(P[0],P[1])}}function rc(){this.__data__=Lo?Lo(null):{},this.size=0}function go(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a}function ic(i){var a=this.__data__;if(Lo){var g=a[i];return g===T?M:g}return pn.call(a,i)?a[i]:M}function tu(i){var a=this.__data__;return Lo?a[i]!==M:pn.call(a,i)}function eu(i,a){var g=this.__data__;return this.size+=this.has(i)?0:1,g[i]=Lo&&a===M?T:a,this}ki.prototype.clear=rc,ki.prototype.delete=go,ki.prototype.get=ic,ki.prototype.has=tu,ki.prototype.set=eu;function Ii(i){var a=-1,g=i==null?0:i.length;for(this.clear();++a<g;){var P=i[a];this.set(P[0],P[1])}}function sc(){this.__data__=[],this.size=0}function el(i){var a=this.__data__,g=il(a,i);if(g<0)return!1;var P=a.length-1;return g==P?a.pop():Ga.call(a,g,1),--this.size,!0}function nl(i){var a=this.__data__,g=il(a,i);return g<0?M:a[g][1]}function oc(i){return il(this.__data__,i)>-1}function Pl(i,a){var g=this.__data__,P=il(g,i);return P<0?(++this.size,g.push([i,a])):g[P][1]=a,this}Ii.prototype.clear=sc,Ii.prototype.delete=el,Ii.prototype.get=nl,Ii.prototype.has=oc,Ii.prototype.set=Pl;function Qs(i){var a=-1,g=i==null?0:i.length;for(this.clear();++a<g;){var P=i[a];this.set(P[0],P[1])}}function ac(){this.size=0,this.__data__={hash:new ki,map:new(ho||Ii),string:new ki}}function lc(i){var a=Rc(this,i).delete(i);return this.size-=a?1:0,a}function cc(i){return Rc(this,i).get(i)}function nu(i){return Rc(this,i).has(i)}function Ta(i,a){var g=Rc(this,i),P=g.size;return g.set(i,a),this.size+=g.size==P?0:1,this}Qs.prototype.clear=ac,Qs.prototype.delete=lc,Qs.prototype.get=cc,Qs.prototype.has=nu,Qs.prototype.set=Ta;function Is(i){var a=-1,g=i==null?0:i.length;for(this.__data__=new Qs;++a<g;)this.add(i[a])}function ru(i){return this.__data__.set(i,T),this}function Fo(i){return this.__data__.has(i)}Is.prototype.add=Is.prototype.push=ru,Is.prototype.has=Fo;function ds(i){var a=this.__data__=new Ii(i);this.size=a.size}function uc(){this.__data__=new Ii,this.size=0}function _a(i){var a=this.__data__,g=a.delete(i);return this.size=a.size,g}function iu(i){return this.__data__.get(i)}function fc(i){return this.__data__.has(i)}function En(i,a){var g=this.__data__;if(g instanceof Ii){var P=g.__data__;if(!ho||P.length<J-1)return P.push([i,a]),this.size=++g.size,this;g=this.__data__=new Qs(P)}return g.set(i,a),this.size=g.size,this}ds.prototype.clear=uc,ds.prototype.delete=_a,ds.prototype.get=iu,ds.prototype.has=fc,ds.prototype.set=En;function Bo(i,a){var g=xn(i),P=!g&&Va(i),L=!g&&!P&&Uo(i),W=!g&&!P&&!L&&gl(i),rt=g||P||L||W,gt=rt?ra(i.length,yr):[],wt=gt.length;for(var zt in i)(a||pn.call(i,zt))&&!(rt&&(zt=="length"||L&&(zt=="offset"||zt=="parent")||W&&(zt=="buffer"||zt=="byteLength"||zt=="byteOffset")||Wo(zt,wt)))&&gt.push(zt);return gt}function hc(i){var a=i.length;return a?i[Nl(0,a-1)]:M}function rl(i,a){return Dc(Jn(i),Hn(a,0,i.length))}function Er(i){return Dc(Jn(i))}function ca(i,a,g){(g!==M&&!ro(i[a],g)||g===M&&!(a in i))&&to(i,a,g)}function Yn(i,a,g){var P=i[a];(!(pn.call(i,a)&&ro(P,g))||g===M&&!(a in i))&&to(i,a,g)}function il(i,a){for(var g=i.length;g--;)if(ro(i[g][0],a))return g;return-1}function sl(i,a,g,P){return ps(i,function(L,W,rt){a(P,L,g(L),rt)}),P}function dc(i,a){return i&&zi(a,vi(a),i)}function gs(i,a){return i&&zi(a,Qi(a),i)}function to(i,a,g){a=="__proto__"&&qs?qs(i,a,{configurable:!0,enumerable:!0,value:g,writable:!0}):i[a]=g}function Rs(i,a){for(var g=-1,P=a.length,L=bt(P),W=i==null;++g<P;)L[g]=W?M:Nu(i,a[g]);return L}function Hn(i,a,g){return i===i&&(g!==M&&(i=i<=g?i:g),a!==M&&(i=i>=a?i:a)),i}function Xi(i,a,g,P,L,W){var rt,gt=a&N,wt=a&k,zt=a&I;if(g&&(rt=L?g(i,P,L,W):g(i)),rt!==M)return rt;if(!Ir(i))return i;var Ht=xn(i);if(Ht){if(rt=Zh(i),!gt)return Jn(i,rt)}else{var Xt=Ri(i),xe=Xt==pe||Xt==Fe;if(Uo(i))return tn(i,gt);if(Xt==He||Xt==Qn||xe&&!L){if(rt=wt||xe?{}:hf(i),!gt)return wt?no(i,gs(rt,i)):ul(i,dc(rt,i))}else{if(!A[Xt])return L?i:{};rt=Hh(i,Xt,gt)}}W||(W=new ds);var Ze=W.get(i);if(Ze)return Ze;W.set(i,rt),Lu(i)?i.forEach(function(cn){rt.add(Xi(cn,a,g,cn,i,W))}):qf(i)&&i.forEach(function(cn,Ln){rt.set(Ln,Xi(cn,a,g,Ln,i,W))});var ln=zt?wt?_c:Tc:wt?Qi:vi,vn=Ht?M:ln(i);return me(vn||i,function(cn,Ln){vn&&(Ln=cn,cn=i[Ln]),Yn(rt,Ln,Xi(cn,a,g,Ln,i,W))}),rt}function su(i){var a=vi(i);return function(g){return jo(g,i,a)}}function jo(i,a,g){var P=g.length;if(i==null)return!P;for(i=Ke(i);P--;){var L=g[P],W=a[L],rt=i[L];if(rt===M&&!(L in i)||!W(rt))return!1}return!0}function ua(i,a,g){if(typeof i!="function")throw new Xr(q);return jl(function(){i.apply(M,g)},a)}function ko(i,a,g,P){var L=-1,W=Pn,rt=!0,gt=i.length,wt=[],zt=a.length;if(!gt)return wt;g&&(a=bn(a,Rn(g))),P?(W=Nn,rt=!1):a.length>=J&&(W=Ci,rt=!1,a=new Is(a));t:for(;++L<gt;){var Ht=i[L],Xt=g==null?Ht:g(Ht);if(Ht=P||Ht!==0?Ht:0,rt&&Xt===Xt){for(var xe=zt;xe--;)if(a[xe]===Xt)continue t;wt.push(Ht)}else W(a,Xt,P)||wt.push(Ht)}return wt}var ps=Ds(ms),gc=Ds(pc,!0);function po(i,a){var g=!0;return ps(i,function(P,L,W){return g=!!a(P,L,W),g}),g}function El(i,a,g){for(var P=-1,L=i.length;++P<L;){var W=i[P],rt=a(W);if(rt!=null&&(gt===M?rt===rt&&!ys(rt):g(rt,gt)))var gt=rt,wt=W}return wt}function Ia(i,a,g,P){var L=i.length;for(g=Sn(g),g<0&&(g=-g>L?0:L+g),P=P===M||P>L?L:Sn(P),P<0&&(P+=L),P=g>P?0:Qf(P);g<P;)i[g++]=a;return i}function Al(i,a){var g=[];return ps(i,function(P,L,W){a(P,L,W)&&g.push(P)}),g}function pi(i,a,g,P,L){var W=-1,rt=i.length;for(g||(g=Uh),L||(L=[]);++W<rt;){var gt=i[W];a>0&&g(gt)?a>1?pi(gt,a-1,g,P,L):ur(L,gt):P||(L[L.length]=gt)}return L}var fa=Fa(),ou=Fa(!0);function ms(i,a){return i&&fa(i,a,vi)}function pc(i,a){return i&&ou(i,a,vi)}function $r(i,a){return In(a,function(g){return Go(i[g])})}function Vo(i,a){a=je(a,i);for(var g=0,P=a.length;i!=null&&g<P;)i=i[bo(a[g++])];return g&&g==P?i:M}function Ls(i,a,g){var P=a(i);return xn(i)?P:ur(P,g(i))}function Si(i){return i==null?i===M?Gn:Zt:Ro&&Ro in Ke(i)?Vh(i):Jh(i)}function qi(i,a){return i>a}function au(i,a){return i!=null&&pn.call(i,a)}function zr(i,a){return i!=null&&a in Ke(i)}function lu(i,a,g){return i>=Jr(a,g)&&i<Br(a,g)}function Ra(i,a,g){for(var P=g?Nn:Pn,L=i[0].length,W=i.length,rt=W,gt=bt(W),wt=1/0,zt=[];rt--;){var Ht=i[rt];rt&&a&&(Ht=bn(Ht,Rn(a))),wt=Jr(Ht.length,wt),gt[rt]=!g&&(a||L>=120&&Ht.length>=120)?new Is(rt&&Ht):M}Ht=i[0];var Xt=-1,xe=gt[0];t:for(;++Xt<L&&zt.length<wt;){var Ze=Ht[Xt],ln=a?a(Ze):Ze;if(Ze=g||Ze!==0?Ze:0,!(xe?Ci(xe,ln):P(zt,ln,g))){for(rt=W;--rt;){var vn=gt[rt];if(!(vn?Ci(vn,ln):P(i[rt],ln,g)))continue t}xe&&xe.push(ln),zt.push(Ze)}}return zt}function cu(i,a,g,P){return ms(i,function(L,W,rt){a(P,g(L),W,rt)}),P}function eo(i,a,g){a=je(a,i),i=vf(i,a);var P=i==null?i:i[bo(Fs(a))];return P==null?M:Ge(P,i,g)}function mc(i){return jr(i)&&Si(i)==Qn}function uu(i){return jr(i)&&Si(i)==An}function Ol(i){return jr(i)&&Si(i)==qt}function vs(i,a,g,P,L){return i===a?!0:i==null||a==null||!jr(i)&&!jr(a)?i!==i&&a!==a:fu(i,a,g,P,vs,L)}function fu(i,a,g,P,L,W){var rt=xn(i),gt=xn(a),wt=rt?Un:Ri(i),zt=gt?Un:Ri(a);wt=wt==Qn?He:wt,zt=zt==Qn?He:zt;var Ht=wt==He,Xt=zt==He,xe=wt==zt;if(xe&&Uo(i)){if(!Uo(a))return!1;rt=!0,Ht=!1}if(xe&&!Ht)return W||(W=new ds),rt||gl(i)?cf(i,a,g,P,L,W):Ba(i,a,wt,g,P,L,W);if(!(g&Y)){var Ze=Ht&&pn.call(i,"__wrapped__"),ln=Xt&&pn.call(a,"__wrapped__");if(Ze||ln){var vn=Ze?i.value():i,cn=ln?a.value():a;return W||(W=new ds),L(vn,cn,g,P,W)}}return xe?(W||(W=new ds),hl(i,a,g,P,L,W)):!1}function Ml(i){return jr(i)&&Ri(i)==ne}function Tl(i,a,g,P){var L=g.length,W=L,rt=!P;if(i==null)return!W;for(i=Ke(i);L--;){var gt=g[L];if(rt&&gt[2]?gt[1]!==i[gt[0]]:!(gt[0]in i))return!1}for(;++L<W;){gt=g[L];var wt=gt[0],zt=i[wt],Ht=gt[1];if(rt&&gt[2]){if(zt===M&&!(wt in i))return!1}else{var Xt=new ds;if(P)var xe=P(zt,Ht,wt,i,a,Xt);if(!(xe===M?vs(Ht,zt,Y|dt,P,Xt):xe))return!1}}return!0}function ol(i){if(!Ir(i)||Kh(i))return!1;var a=Go(i)?Xs:ar;return a.test(ka(i))}function vc(i){return jr(i)&&Si(i)==jn}function La(i){return jr(i)&&Ri(i)==tr}function hu(i){return jr(i)&&$c(i.length)&&!!D[Si(i)]}function mo(i){return typeof i=="function"?i:i==null?ts:typeof i=="object"?xn(i)?al(i[0],i[1]):yc(i):xh(i)}function _l(i){if(!Bl(i))return fo(i);var a=[];for(var g in Ke(i))pn.call(i,g)&&g!="constructor"&&a.push(g);return a}function Yi(i){if(!Ir(i))return Yh(i);var a=Bl(i),g=[];for(var P in i)P=="constructor"&&(a||!pn.call(i,P))||g.push(P);return g}function Il(i,a){return i<a}function Tr(i,a){var g=-1,P=Ji(i)?bt(i.length):[];return ps(i,function(L,W,rt){P[++g]=a(L,W,rt)}),P}function yc(i){var a=Lc(i);return a.length==1&&a[0][2]?pf(a[0][0],a[0][1]):function(g){return g===i||Tl(g,i,a)}}function al(i,a){return yu(i)&&gf(a)?pf(bo(i),a):function(g){var P=Nu(g,i);return P===M&&P===a?Du(g,i):vs(a,P,Y|dt)}}function Na(i,a,g,P,L){i!==a&&fa(a,function(W,rt){if(L||(L=new ds),Ir(W))bc(i,a,rt,g,Na,P,L);else{var gt=P?P(xu(i,rt),W,rt+"",i,a,L):M;gt===M&&(gt=W),ca(i,rt,gt)}},Qi)}function bc(i,a,g,P,L,W,rt){var gt=xu(i,g),wt=xu(a,g),zt=rt.get(wt);if(zt){ca(i,g,zt);return}var Ht=W?W(gt,wt,g+"",i,a,rt):M,Xt=Ht===M;if(Xt){var xe=xn(wt),Ze=!xe&&Uo(wt),ln=!xe&&!Ze&&gl(wt);Ht=wt,xe||Ze||ln?xn(gt)?Ht=gt:Zr(gt)?Ht=Jn(gt):Ze?(Xt=!1,Ht=tn(wt,!0)):ln?(Xt=!1,Ht=Wn(wt,!0)):Ht=[]:$l(wt)||Va(wt)?(Ht=gt,Va(gt)?Ht=th(gt):(!Ir(gt)||Go(gt))&&(Ht=hf(wt))):Xt=!1}Xt&&(rt.set(wt,Ht),L(Ht,wt,P,W,rt),rt.delete(wt)),ca(i,g,Ht)}function Rl(i,a){var g=i.length;if(g)return a+=a<0?g:0,Wo(a,g)?i[a]:M}function xc(i,a,g){a.length?a=bn(a,function(W){return xn(W)?function(rt){return Vo(rt,W.length===1?W[0]:W)}:W}):a=[ts];var P=-1;a=bn(a,Rn(sn()));var L=Tr(i,function(W,rt,gt){var wt=bn(a,function(zt){return zt(W)});return{criteria:wt,index:++P,value:W}});return Vn(L,function(W,rt){return $i(W,rt,g)})}function ll(i,a){return Da(i,a,function(g,P){return Du(i,P)})}function Da(i,a,g){for(var P=-1,L=a.length,W={};++P<L;){var rt=a[P],gt=Vo(i,rt);g(gt,rt)&&n(W,je(rt,i),gt)}return W}function cl(i){return function(a){return Vo(a,i)}}function Ll(i,a,g,P){var L=P?To:si,W=-1,rt=a.length,gt=i;for(i===a&&(a=Jn(a)),g&&(gt=bn(i,Rn(g)));++W<rt;)for(var wt=0,zt=a[W],Ht=g?g(zt):zt;(wt=L(gt,Ht,wt,P))>-1;)gt!==i&&Ga.call(gt,wt,1),Ga.call(i,wt,1);return i}function mi(i,a){for(var g=i?a.length:0,P=g-1;g--;){var L=a[g];if(g==P||L!==W){var W=L;Wo(L)?Ga.call(i,L,1):Z(i,L)}}return i}function Nl(i,a){return i+qa(ec()*(a-i+1))}function Dl(i,a,g,P){for(var L=-1,W=Br(Ea((a-i)/(g||1)),0),rt=bt(W);W--;)rt[P?W:++L]=i,i+=g;return rt}function vo(i,a){var g="";if(!i||a<1||a>$t)return g;do a%2&&(g+=i),a=qa(a/2),a&&(i+=i);while(a);return g}function l(i,a){return Nc(mf(i,a,ts),i+"")}function t(i){return hc(pl(i))}function e(i,a){var g=pl(i);return Dc(g,Hn(a,0,g.length))}function n(i,a,g,P){if(!Ir(i))return i;a=je(a,i);for(var L=-1,W=a.length,rt=W-1,gt=i;gt!=null&&++L<W;){var wt=bo(a[L]),zt=g;if(wt==="__proto__"||wt==="constructor"||wt==="prototype")return i;if(L!=rt){var Ht=gt[wt];zt=P?P(Ht,wt,gt):M,zt===M&&(zt=Ir(Ht)?Ht:Wo(a[L+1])?[]:{})}Yn(gt,wt,zt),gt=gt[wt]}return i}var r=Ma?function(i,a){return Ma.set(i,a),i}:ts,s=qs?function(i,a){return qs(i,"toString",{configurable:!0,enumerable:!1,value:ku(a),writable:!0})}:ts;function c(i){return Dc(pl(i))}function f(i,a,g){var P=-1,L=i.length;a<0&&(a=-a>L?0:L+a),g=g>L?L:g,g<0&&(g+=L),L=a>g?0:g-a>>>0,a>>>=0;for(var W=bt(L);++P<L;)W[P]=i[P+a];return W}function d(i,a){var g;return ps(i,function(P,L,W){return g=a(P,L,W),!g}),!!g}function p(i,a,g){var P=0,L=i==null?P:i.length;if(typeof a=="number"&&a===a&&L<=Mn){for(;P<L;){var W=P+L>>>1,rt=i[W];rt!==null&&!ys(rt)&&(g?rt<=a:rt<a)?P=W+1:L=W}return L}return v(i,a,ts,g)}function v(i,a,g,P){var L=0,W=i==null?0:i.length;if(W===0)return 0;a=g(a);for(var rt=a!==a,gt=a===null,wt=ys(a),zt=a===M;L<W;){var Ht=qa((L+W)/2),Xt=g(i[Ht]),xe=Xt!==M,Ze=Xt===null,ln=Xt===Xt,vn=ys(Xt);if(rt)var cn=P||ln;else zt?cn=ln&&(P||xe):gt?cn=ln&&xe&&(P||!Ze):wt?cn=ln&&xe&&!Ze&&(P||!vn):Ze||vn?cn=!1:cn=P?Xt<=a:Xt<a;cn?L=Ht+1:W=Ht}return Jr(W,Be)}function C(i,a){for(var g=-1,P=i.length,L=0,W=[];++g<P;){var rt=i[g],gt=a?a(rt):rt;if(!g||!ro(gt,wt)){var wt=gt;W[L++]=rt===0?0:rt}}return W}function y(i){return typeof i=="number"?i:ys(i)?$e:+i}function O(i){if(typeof i=="string")return i;if(xn(i))return bn(i,O)+"";if(ys(i))return la?la.call(i):"";var a=i+"";return a=="0"&&1/i==-ye?"-0":a}function F(i,a,g){var P=-1,L=Pn,W=i.length,rt=!0,gt=[],wt=gt;if(g)rt=!1,L=Nn;else if(W>=J){var zt=a?null:of(i);if(zt)return St(zt);rt=!1,L=Ci,wt=new Is}else wt=a?[]:gt;t:for(;++P<W;){var Ht=i[P],Xt=a?a(Ht):Ht;if(Ht=g||Ht!==0?Ht:0,rt&&Xt===Xt){for(var xe=wt.length;xe--;)if(wt[xe]===Xt)continue t;a&&wt.push(Xt),gt.push(Ht)}else L(wt,Xt,g)||(wt!==gt&&wt.push(Xt),gt.push(Ht))}return gt}function Z(i,a){return a=je(a,i),i=vf(i,a),i==null||delete i[bo(Fs(a))]}function X(i,a,g,P){return n(i,a,g(Vo(i,a)),P)}function tt(i,a,g,P){for(var L=i.length,W=P?L:-1;(P?W--:++W<L)&&a(i[W],W,i););return g?f(i,P?0:W,P?W+1:L):f(i,P?W+1:0,P?L:W)}function ht(i,a){var g=i;return g instanceof On&&(g=g.value()),ii(a,function(P,L){return L.func.apply(L.thisArg,ur([P],L.args))},g)}function mt(i,a,g){var P=i.length;if(P<2)return P?F(i[0]):[];for(var L=-1,W=bt(P);++L<P;)for(var rt=i[L],gt=-1;++gt<P;)gt!=L&&(W[L]=ko(W[L]||rt,i[gt],a,g));return F(pi(W,1),a,g)}function Tt(i,a,g){for(var P=-1,L=i.length,W=a.length,rt={};++P<L;){var gt=P<W?a[P]:M;g(rt,i[P],gt)}return rt}function Lt(i){return Zr(i)?i:[]}function ie(i){return typeof i=="function"?i:ts}function je(i,a){return xn(i)?i:yu(i,a)?[i]:xf(er(i))}var nn=l;function an(i,a,g){var P=i.length;return g=g===M?P:g,!a&&g>=P?i:f(i,a,g)}var Ye=Ys||function(i){return kt.clearTimeout(i)};function tn(i,a){if(a)return i.slice();var g=i.length,P=Kl?Kl(g):new i.constructor(g);return i.copy(P),P}function mn(i){var a=new i.constructor(i.byteLength);return new Io(a).set(new Io(i)),a}function Pi(i,a){var g=a?mn(i.buffer):i.buffer;return new i.constructor(g,i.byteOffset,i.byteLength)}function br(i){var a=new i.constructor(i.source,so.exec(i));return a.lastIndex=i.lastIndex,a}function _r(i){return aa?Ke(aa.call(i)):{}}function Wn(i,a){var g=a?mn(i.buffer):i.buffer;return new i.constructor(g,i.byteOffset,i.length)}function Vi(i,a){if(i!==a){var g=i!==M,P=i===null,L=i===i,W=ys(i),rt=a!==M,gt=a===null,wt=a===a,zt=ys(a);if(!gt&&!zt&&!W&&i>a||W&&rt&&wt&&!gt&&!zt||P&&rt&&wt||!g&&wt||!L)return 1;if(!P&&!W&&!zt&&i<a||zt&&g&&L&&!P&&!W||gt&&g&&L||!rt&&L||!wt)return-1}return 0}function $i(i,a,g){for(var P=-1,L=i.criteria,W=a.criteria,rt=L.length,gt=g.length;++P<rt;){var wt=Vi(L[P],W[P]);if(wt){if(P>=gt)return wt;var zt=g[P];return wt*(zt=="desc"?-1:1)}}return i.index-a.index}function Ns(i,a,g,P){for(var L=-1,W=i.length,rt=g.length,gt=-1,wt=a.length,zt=Br(W-rt,0),Ht=bt(wt+zt),Xt=!P;++gt<wt;)Ht[gt]=a[gt];for(;++L<rt;)(Xt||L<W)&&(Ht[g[L]]=i[L]);for(;zt--;)Ht[gt++]=i[L++];return Ht}function Ei(i,a,g,P){for(var L=-1,W=i.length,rt=-1,gt=g.length,wt=-1,zt=a.length,Ht=Br(W-gt,0),Xt=bt(Ht+zt),xe=!P;++L<Ht;)Xt[L]=i[L];for(var Ze=L;++wt<zt;)Xt[Ze+wt]=a[wt];for(;++rt<gt;)(xe||L<W)&&(Xt[Ze+g[rt]]=i[L++]);return Xt}function Jn(i,a){var g=-1,P=i.length;for(a||(a=bt(P));++g<P;)a[g]=i[g];return a}function zi(i,a,g,P){var L=!g;g||(g={});for(var W=-1,rt=a.length;++W<rt;){var gt=a[W],wt=P?P(g[gt],i[gt],gt,g,i):M;wt===M&&(wt=i[gt]),L?to(g,gt,wt):Yn(g,gt,wt)}return g}function ul(i,a){return zi(i,vu(i),a)}function no(i,a){return zi(i,uf(i),a)}function yo(i,a){return function(g,P){var L=xn(g)?un:sl,W=a?a():{};return L(g,i,sn(P,2),W)}}function ti(i){return l(function(a,g){var P=-1,L=g.length,W=L>1?g[L-1]:M,rt=L>2?g[2]:M;for(W=i.length>3&&typeof W=="function"?(L--,W):M,rt&&Zi(g[0],g[1],rt)&&(W=L<3?M:W,L=1),a=Ke(a);++P<L;){var gt=g[P];gt&&i(a,gt,P,W)}return a})}function Ds(i,a){return function(g,P){if(g==null)return g;if(!Ji(g))return i(g,P);for(var L=g.length,W=a?L:-1,rt=Ke(g);(a?W--:++W<L)&&P(rt[W],W,rt)!==!1;);return g}}function Fa(i){return function(a,g,P){for(var L=-1,W=Ke(a),rt=P(a),gt=rt.length;gt--;){var wt=rt[i?gt:++L];if(g(W[wt],wt,W)===!1)break}return a}}function wc(i,a,g){var P=a&b,L=Fl(i);function W(){var rt=this&&this!==kt&&this instanceof W?L:i;return rt.apply(P?g:this,arguments)}return W}function $o(i){return function(a){a=er(a);var g=Ms(a)?ue(a):M,P=g?g[0]:a.charAt(0),L=g?an(g,1).join(""):a.slice(1);return P[i]()+L}}function fl(i){return function(a){return ii(ju(Bu(a).replace(ls,"")),i,"")}}function Fl(i){return function(){var a=arguments;switch(a.length){case 0:return new i;case 1:return new i(a[0]);case 2:return new i(a[0],a[1]);case 3:return new i(a[0],a[1],a[2]);case 4:return new i(a[0],a[1],a[2],a[3]);case 5:return new i(a[0],a[1],a[2],a[3],a[4]);case 6:return new i(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new i(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var g=Do(i.prototype),P=i.apply(g,a);return Ir(P)?P:g}}function jh(i,a,g){var P=Fl(i);function L(){for(var W=arguments.length,rt=bt(W),gt=W,wt=ja(L);gt--;)rt[gt]=arguments[gt];var zt=W<3&&rt[0]!==wt&&rt[W-1]!==wt?[]:ft(rt,wt);if(W-=zt.length,W<g)return pu(i,a,Sc,L.placeholder,M,rt,zt,M,M,g-W);var Ht=this&&this!==kt&&this instanceof L?P:i;return Ge(Ht,this,rt)}return L}function sf(i){return function(a,g,P){var L=Ke(a);if(!Ji(a)){var W=sn(g,3);a=vi(a),g=function(gt){return W(L[gt],gt,L)}}var rt=i(a,g,P);return rt>-1?L[W?a[rt]:rt]:M}}function Cc(i){return Zo(function(a){var g=a.length,P=g,L=Qr.prototype.thru;for(i&&a.reverse();P--;){var W=a[P];if(typeof W!="function")throw new Xr(q);if(L&&!rt&&Ic(W)=="wrapper")var rt=new Qr([],!0)}for(P=rt?P:g;++P<g;){W=a[P];var gt=Ic(W),wt=gt=="wrapper"?dl(W):M;wt&&bu(wt[0])&&wt[1]==(ke|jt|Ot|_n)&&!wt[4].length&&wt[9]==1?rt=rt[Ic(wt[0])].apply(rt,wt[3]):rt=W.length==1&&bu(W)?rt[gt]():rt.thru(W)}return function(){var zt=arguments,Ht=zt[0];if(rt&&zt.length==1&&xn(Ht))return rt.plant(Ht).value();for(var Xt=0,xe=g?a[Xt].apply(this,zt):Ht;++Xt<g;)xe=a[Xt].call(this,xe);return xe}})}function Sc(i,a,g,P,L,W,rt,gt,wt,zt){var Ht=a&ke,Xt=a&b,xe=a&ot,Ze=a&(jt|z),ln=a&It,vn=xe?M:Fl(i);function cn(){for(var Ln=arguments.length,Bn=bt(Ln),Hi=Ln;Hi--;)Bn[Hi]=arguments[Hi];if(Ze)var Wi=ja(cn),bs=Gl(Bn,Wi);if(P&&(Bn=Ns(Bn,P,L,Ze)),W&&(Bn=Ei(Bn,W,rt,Ze)),Ln-=bs,Ze&&Ln<zt){var hr=ft(Bn,Wi);return pu(i,a,Sc,cn.placeholder,g,Bn,hr,gt,wt,zt-Ln)}var js=Xt?g:this,Xo=xe?js[i]:i;return Ln=Bn.length,gt?Bn=Qh(Bn,gt):ln&&Ln>1&&Bn.reverse(),Ht&&wt<Ln&&(Bn.length=wt),this&&this!==kt&&this instanceof cn&&(Xo=vn||Fl(Xo)),Xo.apply(js,Bn)}return cn}function Pc(i,a){return function(g,P){return cu(g,i,a(P),{})}}function Ec(i,a){return function(g,P){var L;if(g===M&&P===M)return a;if(g!==M&&(L=g),P!==M){if(L===M)return P;typeof g=="string"||typeof P=="string"?(g=O(g),P=O(P)):(g=y(g),P=y(P)),L=i(g,P)}return L}}function ha(i){return Zo(function(a){return a=bn(a,Rn(sn())),l(function(g){var P=this;return i(a,function(L){return Ge(L,P,g)})})})}function Ac(i,a){a=a===M?" ":O(a);var g=a.length;if(g<2)return g?vo(a,i):a;var P=vo(a,Ea(i/Qt(a)));return Ms(a)?an(ue(P),0,i).join(""):P.slice(0,i)}function du(i,a,g,P){var L=a&b,W=Fl(i);function rt(){for(var gt=-1,wt=arguments.length,zt=-1,Ht=P.length,Xt=bt(Ht+wt),xe=this&&this!==kt&&this instanceof rt?W:i;++zt<Ht;)Xt[zt]=P[zt];for(;wt--;)Xt[zt++]=arguments[++gt];return Ge(xe,L?g:this,Xt)}return rt}function gu(i){return function(a,g,P){return P&&typeof P!="number"&&Zi(a,g,P)&&(g=P=M),a=Ko(a),g===M?(g=a,a=0):g=Ko(g),P=P===M?a<g?1:-1:Ko(P),Dl(a,g,P,i)}}function Oc(i){return function(a,g){return typeof a=="string"&&typeof g=="string"||(a=Bs(a),g=Bs(g)),i(a,g)}}function pu(i,a,g,P,L,W,rt,gt,wt,zt){var Ht=a&jt,Xt=Ht?rt:M,xe=Ht?M:rt,Ze=Ht?W:M,ln=Ht?M:W;a|=Ht?Ot:Ft,a&=~(Ht?Ft:Ot),a&it||(a&=~(b|ot));var vn=[i,a,L,Ze,Xt,ln,xe,gt,wt,zt],cn=g.apply(M,vn);return bu(i)&&yf(cn,vn),cn.placeholder=P,wu(cn,i,a)}function Mc(i){var a=Oe[i];return function(g,P){if(g=Bs(g),P=P==null?0:Jr(Sn(P),292),P&&_i(g)){var L=(er(g)+"e").split("e"),W=a(L[0]+"e"+(+L[1]+P));return L=(er(W)+"e").split("e"),+(L[0]+"e"+(+L[1]-P))}return a(g)}}var of=Js&&1/St(new Js([,-0]))[1]==ye?function(i){return new Js(i)}:zu;function mu(i){return function(a){var g=Ri(a);return g==ne?st(a):g==tr?Gt(a):yl(a,i(a))}}function zo(i,a,g,P,L,W,rt,gt){var wt=a&ot;if(!wt&&typeof i!="function")throw new Xr(q);var zt=P?P.length:0;if(zt||(a&=~(Ot|Ft),P=L=M),rt=rt===M?rt:Br(Sn(rt),0),gt=gt===M?gt:Sn(gt),zt-=L?L.length:0,a&Ft){var Ht=P,Xt=L;P=L=M}var xe=wt?M:dl(i),Ze=[i,a,g,P,L,Ht,Xt,W,rt,gt];if(xe&&qh(Ze,xe),i=Ze[0],a=Ze[1],g=Ze[2],P=Ze[3],L=Ze[4],gt=Ze[9]=Ze[9]===M?wt?0:i.length:Br(Ze[9]-zt,0),!gt&&a&(jt|z)&&(a&=~(jt|z)),!a||a==b)var ln=wc(i,a,g);else a==jt||a==z?ln=jh(i,a,gt):(a==Ot||a==(b|Ot))&&!L.length?ln=du(i,a,g,P):ln=Sc.apply(M,Ze);var vn=xe?r:yf;return wu(vn(ln,Ze),i,a)}function af(i,a,g,P){return i===M||ro(i,Or[g])&&!pn.call(P,g)?a:i}function lf(i,a,g,P,L,W){return Ir(i)&&Ir(a)&&(W.set(a,i),Na(i,a,M,lf,W),W.delete(a)),i}function kh(i){return $l(i)?M:i}function cf(i,a,g,P,L,W){var rt=g&Y,gt=i.length,wt=a.length;if(gt!=wt&&!(rt&&wt>gt))return!1;var zt=W.get(i),Ht=W.get(a);if(zt&&Ht)return zt==a&&Ht==i;var Xt=-1,xe=!0,Ze=g&dt?new Is:M;for(W.set(i,a),W.set(a,i);++Xt<gt;){var ln=i[Xt],vn=a[Xt];if(P)var cn=rt?P(vn,ln,Xt,a,i,W):P(ln,vn,Xt,i,a,W);if(cn!==M){if(cn)continue;xe=!1;break}if(Ze){if(!us(a,function(Ln,Bn){if(!Ci(Ze,Bn)&&(ln===Ln||L(ln,Ln,g,P,W)))return Ze.push(Bn)})){xe=!1;break}}else if(!(ln===vn||L(ln,vn,g,P,W))){xe=!1;break}}return W.delete(i),W.delete(a),xe}function Ba(i,a,g,P,L,W,rt){switch(g){case ir:if(i.byteLength!=a.byteLength||i.byteOffset!=a.byteOffset)return!1;i=i.buffer,a=a.buffer;case An:return!(i.byteLength!=a.byteLength||!W(new Io(i),new Io(a)));case Cn:case qt:case Yt:return ro(+i,+a);case on:return i.name==a.name&&i.message==a.message;case jn:case Tn:return i==a+"";case ne:var gt=st;case tr:var wt=P&Y;if(gt||(gt=St),i.size!=a.size&&!wt)return!1;var zt=rt.get(i);if(zt)return zt==a;P|=dt,rt.set(i,a);var Ht=cf(gt(i),gt(a),P,L,W,rt);return rt.delete(i),Ht;case Rr:if(aa)return aa.call(i)==aa.call(a)}return!1}function hl(i,a,g,P,L,W){var rt=g&Y,gt=Tc(i),wt=gt.length,zt=Tc(a),Ht=zt.length;if(wt!=Ht&&!rt)return!1;for(var Xt=wt;Xt--;){var xe=gt[Xt];if(!(rt?xe in a:pn.call(a,xe)))return!1}var Ze=W.get(i),ln=W.get(a);if(Ze&&ln)return Ze==a&&ln==i;var vn=!0;W.set(i,a),W.set(a,i);for(var cn=rt;++Xt<wt;){xe=gt[Xt];var Ln=i[xe],Bn=a[xe];if(P)var Hi=rt?P(Bn,Ln,xe,a,i,W):P(Ln,Bn,xe,i,a,W);if(!(Hi===M?Ln===Bn||L(Ln,Bn,g,P,W):Hi)){vn=!1;break}cn||(cn=xe=="constructor")}if(vn&&!cn){var Wi=i.constructor,bs=a.constructor;Wi!=bs&&"constructor"in i&&"constructor"in a&&!(typeof Wi=="function"&&Wi instanceof Wi&&typeof bs=="function"&&bs instanceof bs)&&(vn=!1)}return W.delete(i),W.delete(a),vn}function Zo(i){return Nc(mf(i,M,Pf),i+"")}function Tc(i){return Ls(i,vi,vu)}function _c(i){return Ls(i,Qi,uf)}var dl=Ma?function(i){return Ma.get(i)}:zu;function Ic(i){for(var a=i.name+"",g=ia[a],P=pn.call(ia,a)?g.length:0;P--;){var L=g[P],W=L.func;if(W==null||W==i)return L.name}return a}function ja(i){var a=pn.call($,"placeholder")?$:i;return a.placeholder}function sn(){var i=$.iteratee||Vu;return i=i===Vu?mo:i,arguments.length?i(arguments[0],arguments[1]):i}function Rc(i,a){var g=i.__data__;return Gh(a)?g[typeof a=="string"?"string":"hash"]:g.map}function Lc(i){for(var a=vi(i),g=a.length;g--;){var P=a[g],L=i[P];a[g]=[P,L,gf(L)]}return a}function Ho(i,a){var g=Ua(i,a);return ol(g)?g:M}function Vh(i){var a=pn.call(i,Ro),g=i[Ro];try{i[Ro]=M;var P=!0}catch(W){}var L=Yr.call(i);return P&&(a?i[Ro]=g:delete i[Ro]),L}var vu=wl?function(i){return i==null?[]:(i=Ke(i),In(wl(i),function(a){return ql.call(i,a)}))}:Zu,uf=wl?function(i){for(var a=[];i;)ur(a,vu(i)),i=Pa(i);return a}:Zu,Ri=Si;(Ya&&Ri(new Ya(new ArrayBuffer(1)))!=ir||ho&&Ri(new ho)!=ne||Sl&&Ri(Sl.resolve())!=zn||Js&&Ri(new Js)!=tr||Oa&&Ri(new Oa)!=kr)&&(Ri=function(i){var a=Si(i),g=a==He?i.constructor:M,P=g?ka(g):"";if(P)switch(P){case nc:return ir;case Yc:return ne;case sa:return zn;case Ja:return tr;case No:return kr}return a});function $h(i,a,g){for(var P=-1,L=g.length;++P<L;){var W=g[P],rt=W.size;switch(W.type){case"drop":i+=rt;break;case"dropRight":a-=rt;break;case"take":a=Jr(a,i+rt);break;case"takeRight":i=Br(i,a-rt);break}}return{start:i,end:a}}function zh(i){var a=i.match($s);return a?a[1].split(Ss):[]}function ff(i,a,g){a=je(a,i);for(var P=-1,L=a.length,W=!1;++P<L;){var rt=bo(a[P]);if(!(W=i!=null&&g(i,rt)))break;i=i[rt]}return W||++P!=L?W:(L=i==null?0:i.length,!!L&&$c(L)&&Wo(rt,L)&&(xn(i)||Va(i)))}function Zh(i){var a=i.length,g=new i.constructor(a);return a&&typeof i[0]=="string"&&pn.call(i,"index")&&(g.index=i.index,g.input=i.input),g}function hf(i){return typeof i.constructor=="function"&&!Bl(i)?Do(Pa(i)):{}}function Hh(i,a,g){var P=i.constructor;switch(a){case An:return mn(i);case Cn:case qt:return new P(+i);case ir:return Pi(i,g);case Ar:case sr:case Lr:case ze:case dr:case gr:case Sr:case lr:case or:return Wn(i,g);case ne:return new P;case Yt:case Tn:return new P(i);case jn:return br(i);case tr:return new P;case Rr:return _r(i)}}function Wh(i,a){var g=a.length;if(!g)return i;var P=g-1;return a[P]=(g>1?"& ":"")+a[P],a=a.join(g>2?", ":" "),i.replace(Ai,`{
/* [wrapped with `+a+`] */
`)}function Uh(i){return xn(i)||Va(i)||!!(Yl&&i&&i[Yl])}function Wo(i,a){var g=typeof i;return a=a==null?$t:a,!!a&&(g=="number"||g!="symbol"&&pr.test(i))&&i>-1&&i%1==0&&i<a}function Zi(i,a,g){if(!Ir(g))return!1;var P=typeof a;return(P=="number"?Ji(g)&&Wo(a,g.length):P=="string"&&a in g)?ro(g[a],i):!1}function yu(i,a){if(xn(i))return!1;var g=typeof i;return g=="number"||g=="symbol"||g=="boolean"||i==null||ys(i)?!0:ws.test(i)||!Dr.test(i)||a!=null&&i in Ke(a)}function Gh(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function bu(i){var a=Ic(i),g=$[a];if(typeof g!="function"||!(a in On.prototype))return!1;if(i===g)return!0;var P=dl(g);return!!P&&i===P[0]}function Kh(i){return!!gi&&gi in i}var df=qr?Go:Hu;function Bl(i){var a=i&&i.constructor,g=typeof a=="function"&&a.prototype||Or;return i===g}function gf(i){return i===i&&!Ir(i)}function pf(i,a){return function(g){return g==null?!1:g[i]===a&&(a!==M||i in Ke(g))}}function Xh(i){var a=Vc(i,function(P){return g.size===x&&g.clear(),P}),g=a.cache;return a}function qh(i,a){var g=i[1],P=a[1],L=g|P,W=L<(b|ot|ke),rt=P==ke&&g==jt||P==ke&&g==_n&&i[7].length<=a[8]||P==(ke|_n)&&a[7].length<=a[8]&&g==jt;if(!(W||rt))return i;P&b&&(i[2]=a[2],L|=g&b?0:it);var gt=a[3];if(gt){var wt=i[3];i[3]=wt?Ns(wt,gt,a[4]):gt,i[4]=wt?ft(i[3],w):a[4]}return gt=a[5],gt&&(wt=i[5],i[5]=wt?Ei(wt,gt,a[6]):gt,i[6]=wt?ft(i[5],w):a[6]),gt=a[7],gt&&(i[7]=gt),P&ke&&(i[8]=i[8]==null?a[8]:Jr(i[8],a[8])),i[9]==null&&(i[9]=a[9]),i[0]=a[0],i[1]=L,i}function Yh(i){var a=[];if(i!=null)for(var g in Ke(i))a.push(g);return a}function Jh(i){return Yr.call(i)}function mf(i,a,g){return a=Br(a===M?i.length-1:a,0),function(){for(var P=arguments,L=-1,W=Br(P.length-a,0),rt=bt(W);++L<W;)rt[L]=P[a+L];L=-1;for(var gt=bt(a+1);++L<a;)gt[L]=P[L];return gt[a]=g(rt),Ge(i,this,gt)}}function vf(i,a){return a.length<2?i:Vo(i,f(a,0,-1))}function Qh(i,a){for(var g=i.length,P=Jr(a.length,g),L=Jn(i);P--;){var W=a[P];i[P]=Wo(W,g)?L[W]:M}return i}function xu(i,a){if(!(a==="constructor"&&typeof i[a]=="function")&&a!="__proto__")return i[a]}var yf=bf(r),jl=Xa||function(i,a){return kt.setTimeout(i,a)},Nc=bf(s);function wu(i,a,g){var P=a+"";return Nc(i,Wh(P,td(zh(P),g)))}function bf(i){var a=0,g=0;return function(){var P=Ql(),L=Kt-(P-g);if(g=P,L>0){if(++a>=Se)return arguments[0]}else a=0;return i.apply(M,arguments)}}function Dc(i,a){var g=-1,P=i.length,L=P-1;for(a=a===M?P:a;++g<a;){var W=Nl(g,L),rt=i[W];i[W]=i[g],i[g]=rt}return i.length=a,i}var xf=Xh(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(Cs,function(g,P,L,W){a.push(L?W.replace(ni,"$1"):P||g)}),a});function bo(i){if(typeof i=="string"||ys(i))return i;var a=i+"";return a=="0"&&1/i==-ye?"-0":a}function ka(i){if(i!=null){try{return Ti.call(i)}catch(a){}try{return i+""}catch(a){}}return""}function td(i,a){return me(Xe,function(g){var P="_."+g[0];a&g[1]&&!Pn(i,P)&&i.push(P)}),i.sort()}function wf(i){if(i instanceof On)return i.clone();var a=new Qr(i.__wrapped__,i.__chain__);return a.__actions__=Jn(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}function ed(i,a,g){(g?Zi(i,a,g):a===M)?a=1:a=Br(Sn(a),0);var P=i==null?0:i.length;if(!P||a<1)return[];for(var L=0,W=0,rt=bt(Ea(P/a));L<P;)rt[W++]=f(i,L,L+=a);return rt}function nd(i){for(var a=-1,g=i==null?0:i.length,P=0,L=[];++a<g;){var W=i[a];W&&(L[P++]=W)}return L}function rd(){var i=arguments.length;if(!i)return[];for(var a=bt(i-1),g=arguments[0],P=i;P--;)a[P-1]=arguments[P];return ur(xn(g)?Jn(g):[g],pi(a,1))}var id=l(function(i,a){return Zr(i)?ko(i,pi(a,1,Zr,!0)):[]}),sd=l(function(i,a){var g=Fs(a);return Zr(g)&&(g=M),Zr(i)?ko(i,pi(a,1,Zr,!0),sn(g,2)):[]}),od=l(function(i,a){var g=Fs(a);return Zr(g)&&(g=M),Zr(i)?ko(i,pi(a,1,Zr,!0),M,g):[]});function ad(i,a,g){var P=i==null?0:i.length;return P?(a=g||a===M?1:Sn(a),f(i,a<0?0:a,P)):[]}function ld(i,a,g){var P=i==null?0:i.length;return P?(a=g||a===M?1:Sn(a),a=P-a,f(i,0,a<0?0:a)):[]}function cd(i,a){return i&&i.length?tt(i,sn(a,3),!0,!0):[]}function ud(i,a){return i&&i.length?tt(i,sn(a,3),!0):[]}function fd(i,a,g,P){var L=i==null?0:i.length;return L?(g&&typeof g!="number"&&Zi(i,a,g)&&(g=0,P=L),Ia(i,a,g,P)):[]}function Cf(i,a,g){var P=i==null?0:i.length;if(!P)return-1;var L=g==null?0:Sn(g);return L<0&&(L=Br(P+L,0)),Kr(i,sn(a,3),L)}function Sf(i,a,g){var P=i==null?0:i.length;if(!P)return-1;var L=P-1;return g!==M&&(L=Sn(g),L=g<0?Br(P+L,0):Jr(L,P-1)),Kr(i,sn(a,3),L,!0)}function Pf(i){var a=i==null?0:i.length;return a?pi(i,1):[]}function hd(i){var a=i==null?0:i.length;return a?pi(i,ye):[]}function dd(i,a){var g=i==null?0:i.length;return g?(a=a===M?1:Sn(a),pi(i,a)):[]}function gd(i){for(var a=-1,g=i==null?0:i.length,P={};++a<g;){var L=i[a];P[L[0]]=L[1]}return P}function Ef(i){return i&&i.length?i[0]:M}function pd(i,a,g){var P=i==null?0:i.length;if(!P)return-1;var L=g==null?0:Sn(g);return L<0&&(L=Br(P+L,0)),si(i,a,L)}function Af(i){var a=i==null?0:i.length;return a?f(i,0,-1):[]}var md=l(function(i){var a=bn(i,Lt);return a.length&&a[0]===i[0]?Ra(a):[]}),vd=l(function(i){var a=Fs(i),g=bn(i,Lt);return a===Fs(g)?a=M:g.pop(),g.length&&g[0]===i[0]?Ra(g,sn(a,2)):[]}),yd=l(function(i){var a=Fs(i),g=bn(i,Lt);return a=typeof a=="function"?a:M,a&&g.pop(),g.length&&g[0]===i[0]?Ra(g,M,a):[]});function bd(i,a){return i==null?"":Jl.call(i,a)}function Fs(i){var a=i==null?0:i.length;return a?i[a-1]:M}function Of(i,a,g){var P=i==null?0:i.length;if(!P)return-1;var L=P;return g!==M&&(L=Sn(g),L=L<0?Br(P+L,0):Jr(L,P-1)),a===a?ce(i,a,L):Kr(i,oi,L,!0)}function xd(i,a){return i&&i.length?Rl(i,Sn(a)):M}var wd=l(Mf);function Mf(i,a){return i&&i.length&&a&&a.length?Ll(i,a):i}function Cd(i,a,g){return i&&i.length&&a&&a.length?Ll(i,a,sn(g,2)):i}function Sd(i,a,g){return i&&i.length&&a&&a.length?Ll(i,a,M,g):i}var Tf=Zo(function(i,a){var g=i==null?0:i.length,P=Rs(i,a);return mi(i,bn(a,function(L){return Wo(L,g)?+L:L}).sort(Vi)),P});function Pd(i,a){var g=[];if(!(i&&i.length))return g;var P=-1,L=[],W=i.length;for(a=sn(a,3);++P<W;){var rt=i[P];a(rt,P,i)&&(g.push(rt),L.push(P))}return mi(i,L),g}function Cu(i){return i==null?i:Aa.call(i)}function Ed(i,a,g){var P=i==null?0:i.length;return P?(g&&typeof g!="number"&&Zi(i,a,g)?(a=0,g=P):(a=a==null?0:Sn(a),g=g===M?P:Sn(g)),f(i,a,g)):[]}function Ad(i,a){return p(i,a)}function _f(i,a,g){return v(i,a,sn(g,2))}function Od(i,a){var g=i==null?0:i.length;if(g){var P=p(i,a);if(P<g&&ro(i[P],a))return P}return-1}function Md(i,a){return p(i,a,!0)}function Td(i,a,g){return v(i,a,sn(g,2),!0)}function If(i,a){var g=i==null?0:i.length;if(g){var P=p(i,a,!0)-1;if(ro(i[P],a))return P}return-1}function _d(i){return i&&i.length?C(i):[]}function Id(i,a){return i&&i.length?C(i,sn(a,2)):[]}function Rd(i){var a=i==null?0:i.length;return a?f(i,1,a):[]}function Ld(i,a,g){return i&&i.length?(a=g||a===M?1:Sn(a),f(i,0,a<0?0:a)):[]}function Nd(i,a,g){var P=i==null?0:i.length;return P?(a=g||a===M?1:Sn(a),a=P-a,f(i,a<0?0:a,P)):[]}function Dd(i,a){return i&&i.length?tt(i,sn(a,3),!1,!0):[]}function Fd(i,a){return i&&i.length?tt(i,sn(a,3)):[]}var Bd=l(function(i){return F(pi(i,1,Zr,!0))}),jd=l(function(i){var a=Fs(i);return Zr(a)&&(a=M),F(pi(i,1,Zr,!0),sn(a,2))}),kd=l(function(i){var a=Fs(i);return a=typeof a=="function"?a:M,F(pi(i,1,Zr,!0),M,a)});function Vd(i){return i&&i.length?F(i):[]}function $d(i,a){return i&&i.length?F(i,sn(a,2)):[]}function zd(i,a){return a=typeof a=="function"?a:M,i&&i.length?F(i,M,a):[]}function Su(i){if(!(i&&i.length))return[];var a=0;return i=In(i,function(g){if(Zr(g))return a=Br(g.length,a),!0}),ra(a,function(g){return bn(i,Kn(g))})}function Rf(i,a){if(!(i&&i.length))return[];var g=Su(i);return a==null?g:bn(g,function(P){return Ge(a,M,P)})}var Zd=l(function(i,a){return Zr(i)?ko(i,a):[]}),xr=l(function(i){return mt(In(i,Zr))}),Fc=l(function(i){var a=Fs(i);return Zr(a)&&(a=M),mt(In(i,Zr),sn(a,2))}),Lf=l(function(i){var a=Fs(i);return a=typeof a=="function"?a:M,mt(In(i,Zr),M,a)}),Hd=l(Su);function Wd(i,a){return Tt(i||[],a||[],Yn)}function Ud(i,a){return Tt(i||[],a||[],n)}var Gd=l(function(i){var a=i.length,g=a>1?i[a-1]:M;return g=typeof g=="function"?(i.pop(),g):M,Rf(i,g)});function Nf(i){var a=$(i);return a.__chain__=!0,a}function Kd(i,a){return a(i),i}function Bc(i,a){return a(i)}var Df=Zo(function(i){var a=i.length,g=a?i[0]:0,P=this.__wrapped__,L=function(W){return Rs(W,i)};return a>1||this.__actions__.length||!(P instanceof On)||!Wo(g)?this.thru(L):(P=P.slice(g,+g+(a?1:0)),P.__actions__.push({func:Bc,args:[L],thisArg:M}),new Qr(P,this.__chain__).thru(function(W){return a&&!W.length&&W.push(M),W}))});function Xd(){return Nf(this)}function qd(){return new Qr(this.value(),this.__chain__)}function Yd(){this.__values__===M&&(this.__values__=Jf(this.value()));var i=this.__index__>=this.__values__.length,a=i?M:this.__values__[this.__index__++];return{done:i,value:a}}function Ff(){return this}function Jd(i){for(var a,g=this;g instanceof Qa;){var P=wf(g);P.__index__=0,P.__values__=M,a?L.__wrapped__=P:a=P;var L=P;g=g.__wrapped__}return L.__wrapped__=i,a}function Qd(){var i=this.__wrapped__;if(i instanceof On){var a=i;return this.__actions__.length&&(a=new On(this)),a=a.reverse(),a.__actions__.push({func:Bc,args:[Cu],thisArg:M}),new Qr(a,this.__chain__)}return this.thru(Cu)}function tg(){return ht(this.__wrapped__,this.__actions__)}var eg=yo(function(i,a,g){pn.call(i,g)?++i[g]:to(i,g,1)});function ng(i,a,g){var P=xn(i)?Je:po;return g&&Zi(i,a,g)&&(a=M),P(i,sn(a,3))}function Bf(i,a){var g=xn(i)?In:Al;return g(i,sn(a,3))}var rg=sf(Cf),jf=sf(Sf);function ig(i,a){return pi(jc(i,a),1)}function sg(i,a){return pi(jc(i,a),ye)}function og(i,a,g){return g=g===M?1:Sn(g),pi(jc(i,a),g)}function Pu(i,a){var g=xn(i)?me:ps;return g(i,sn(a,3))}function kf(i,a){var g=xn(i)?rn:gc;return g(i,sn(a,3))}var ag=yo(function(i,a,g){pn.call(i,g)?i[g].push(a):to(i,g,[a])});function lg(i,a,g,P){i=Ji(i)?i:pl(i),g=g&&!P?Sn(g):0;var L=i.length;return g<0&&(g=Br(L+g,0)),zc(i)?g<=L&&i.indexOf(a,g)>-1:!!L&&si(i,a,g)>-1}var Eu=l(function(i,a,g){var P=-1,L=typeof a=="function",W=Ji(i)?bt(i.length):[];return ps(i,function(rt){W[++P]=L?Ge(a,rt,g):eo(rt,a,g)}),W}),Vf=yo(function(i,a,g){to(i,g,a)});function jc(i,a){var g=xn(i)?bn:Tr;return g(i,sn(a,3))}function cg(i,a,g,P){return i==null?[]:(xn(a)||(a=a==null?[]:[a]),g=P?M:g,xn(g)||(g=g==null?[]:[g]),xc(i,a,g))}var $f=yo(function(i,a,g){i[g?0:1].push(a)},function(){return[[],[]]});function ug(i,a,g){var P=xn(i)?ii:Ha,L=arguments.length<3;return P(i,sn(a,4),g,L,ps)}function kl(i,a,g){var P=xn(i)?co:Ha,L=arguments.length<3;return P(i,sn(a,4),g,L,gc)}function Jm(i,a){var g=xn(i)?In:Al;return g(i,Vl(sn(a,3)))}function fg(i){var a=xn(i)?hc:t;return a(i)}function hg(i,a,g){(g?Zi(i,a,g):a===M)?a=1:a=Sn(a);var P=xn(i)?rl:e;return P(i,a)}function dg(i){var a=xn(i)?Er:c;return a(i)}function gg(i){if(i==null)return 0;if(Ji(i))return zc(i)?Qt(i):i.length;var a=Ri(i);return a==ne||a==tr?i.size:_l(i).length}function pg(i,a,g){var P=xn(i)?us:d;return g&&Zi(i,a,g)&&(a=M),P(i,sn(a,3))}var mg=l(function(i,a){if(i==null)return[];var g=a.length;return g>1&&Zi(i,a[0],a[1])?a=[]:g>2&&Zi(a[0],a[1],a[2])&&(a=[a[0]]),xc(i,pi(a,1),[])}),kc=Ka||function(){return kt.Date.now()};function vg(i,a){if(typeof a!="function")throw new Xr(q);return i=Sn(i),function(){if(--i<1)return a.apply(this,arguments)}}function zf(i,a,g){return a=g?M:a,a=i&&a==null?i.length:a,zo(i,ke,M,M,M,M,a)}function Au(i,a){var g;if(typeof a!="function")throw new Xr(q);return i=Sn(i),function(){return--i>0&&(g=a.apply(this,arguments)),i<=1&&(a=M),g}}var Ou=l(function(i,a,g){var P=b;if(g.length){var L=ft(g,ja(Ou));P|=Ot}return zo(i,P,a,g,L)}),Mu=l(function(i,a,g){var P=b|ot;if(g.length){var L=ft(g,ja(Mu));P|=Ot}return zo(a,P,i,g,L)});function Zf(i,a,g){a=g?M:a;var P=zo(i,jt,M,M,M,M,M,a);return P.placeholder=Zf.placeholder,P}function Hf(i,a,g){a=g?M:a;var P=zo(i,z,M,M,M,M,M,a);return P.placeholder=Hf.placeholder,P}function Wf(i,a,g){var P,L,W,rt,gt,wt,zt=0,Ht=!1,Xt=!1,xe=!0;if(typeof i!="function")throw new Xr(q);a=Bs(a)||0,Ir(g)&&(Ht=!!g.leading,Xt="maxWait"in g,W=Xt?Br(Bs(g.maxWait)||0,a):W,xe="trailing"in g?!!g.trailing:xe);function Ze(hr){var js=P,Xo=L;return P=L=M,zt=hr,rt=i.apply(Xo,js),rt}function ln(hr){return zt=hr,gt=jl(Ln,a),Ht?Ze(hr):rt}function vn(hr){var js=hr-wt,Xo=hr-zt,Mh=a-js;return Xt?Jr(Mh,W-Xo):Mh}function cn(hr){var js=hr-wt,Xo=hr-zt;return wt===M||js>=a||js<0||Xt&&Xo>=W}function Ln(){var hr=kc();if(cn(hr))return Bn(hr);gt=jl(Ln,vn(hr))}function Bn(hr){return gt=M,xe&&P?Ze(hr):(P=L=M,rt)}function Hi(){gt!==M&&Ye(gt),zt=0,P=wt=L=gt=M}function Wi(){return gt===M?rt:Bn(kc())}function bs(){var hr=kc(),js=cn(hr);if(P=arguments,L=this,wt=hr,js){if(gt===M)return ln(wt);if(Xt)return Ye(gt),gt=jl(Ln,a),Ze(wt)}return gt===M&&(gt=jl(Ln,a)),rt}return bs.cancel=Hi,bs.flush=Wi,bs}var yg=l(function(i,a){return ua(i,1,a)}),bg=l(function(i,a,g){return ua(i,Bs(a)||0,g)});function xg(i){return zo(i,It)}function Vc(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new Xr(q);var g=function(){var P=arguments,L=a?a.apply(this,P):P[0],W=g.cache;if(W.has(L))return W.get(L);var rt=i.apply(this,P);return g.cache=W.set(L,rt)||W,rt};return g.cache=new(Vc.Cache||Qs),g}Vc.Cache=Qs;function Vl(i){if(typeof i!="function")throw new Xr(q);return function(){var a=arguments;switch(a.length){case 0:return!i.call(this);case 1:return!i.call(this,a[0]);case 2:return!i.call(this,a[0],a[1]);case 3:return!i.call(this,a[0],a[1],a[2])}return!i.apply(this,a)}}function wg(i){return Au(2,i)}var Cg=nn(function(i,a){a=a.length==1&&xn(a[0])?bn(a[0],Rn(sn())):bn(pi(a,1),Rn(sn()));var g=a.length;return l(function(P){for(var L=-1,W=Jr(P.length,g);++L<W;)P[L]=a[L].call(this,P[L]);return Ge(i,this,P)})}),Tu=l(function(i,a){var g=ft(a,ja(Tu));return zo(i,Ot,M,a,g)}),Uf=l(function(i,a){var g=ft(a,ja(Uf));return zo(i,Ft,M,a,g)}),Sg=Zo(function(i,a){return zo(i,_n,M,M,M,a)});function Pg(i,a){if(typeof i!="function")throw new Xr(q);return a=a===M?a:Sn(a),l(i,a)}function Eg(i,a){if(typeof i!="function")throw new Xr(q);return a=a==null?0:Br(Sn(a),0),l(function(g){var P=g[a],L=an(g,0,a);return P&&ur(L,P),Ge(i,this,L)})}function Ag(i,a,g){var P=!0,L=!0;if(typeof i!="function")throw new Xr(q);return Ir(g)&&(P="leading"in g?!!g.leading:P,L="trailing"in g?!!g.trailing:L),Wf(i,a,{leading:P,maxWait:a,trailing:L})}function Og(i){return zf(i,1)}function Gf(i,a){return Tu(ie(a),i)}function Mg(){if(!arguments.length)return[];var i=arguments[0];return xn(i)?i:[i]}function Tg(i){return Xi(i,I)}function _g(i,a){return a=typeof a=="function"?a:M,Xi(i,I,a)}function Ig(i){return Xi(i,N|I)}function Rg(i,a){return a=typeof a=="function"?a:M,Xi(i,N|I,a)}function Lg(i,a){return a==null||jo(i,a,vi(a))}function ro(i,a){return i===a||i!==i&&a!==a}var Ng=Oc(qi),Dg=Oc(function(i,a){return i>=a}),Va=mc(function(){return arguments}())?mc:function(i){return jr(i)&&pn.call(i,"callee")&&!ql.call(i,"callee")},xn=bt.isArray,Kf=Pe?Rn(Pe):uu;function Ji(i){return i!=null&&$c(i.length)&&!Go(i)}function Zr(i){return jr(i)&&Ji(i)}function Fg(i){return i===!0||i===!1||jr(i)&&Si(i)==Cn}var Uo=Cl||Hu,Bg=re?Rn(re):Ol;function jg(i){return jr(i)&&i.nodeType===1&&!$l(i)}function kg(i){if(i==null)return!0;if(Ji(i)&&(xn(i)||typeof i=="string"||typeof i.splice=="function"||Uo(i)||gl(i)||Va(i)))return!i.length;var a=Ri(i);if(a==ne||a==tr)return!i.size;if(Bl(i))return!_l(i).length;for(var g in i)if(pn.call(i,g))return!1;return!0}function Vg(i,a){return vs(i,a)}function $g(i,a,g){g=typeof g=="function"?g:M;var P=g?g(i,a):M;return P===M?vs(i,a,M,g):!!P}function _u(i){if(!jr(i))return!1;var a=Si(i);return a==on||a==qe||typeof i.message=="string"&&typeof i.name=="string"&&!$l(i)}function zg(i){return typeof i=="number"&&_i(i)}function Go(i){if(!Ir(i))return!1;var a=Si(i);return a==pe||a==Fe||a==Dn||a==Fn}function Xf(i){return typeof i=="number"&&i==Sn(i)}function $c(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=$t}function Ir(i){var a=typeof i;return i!=null&&(a=="object"||a=="function")}function jr(i){return i!=null&&typeof i=="object"}var qf=_e?Rn(_e):Ml;function Zg(i,a){return i===a||Tl(i,a,Lc(a))}function Hg(i,a,g){return g=typeof g=="function"?g:M,Tl(i,a,Lc(a),g)}function Iu(i){return Yf(i)&&i!=+i}function Wg(i){if(df(i))throw new de(vt);return ol(i)}function Ug(i){return i===null}function Gg(i){return i==null}function Yf(i){return typeof i=="number"||jr(i)&&Si(i)==Yt}function $l(i){if(!jr(i)||Si(i)!=He)return!1;var a=Pa(i);if(a===null)return!0;var g=pn.call(a,"constructor")&&a.constructor;return typeof g=="function"&&g instanceof g&&Ti.call(g)==uo}var Ru=en?Rn(en):vc;function Kg(i){return Xf(i)&&i>=-$t&&i<=$t}var Lu=Ue?Rn(Ue):La;function zc(i){return typeof i=="string"||!xn(i)&&jr(i)&&Si(i)==Tn}function ys(i){return typeof i=="symbol"||jr(i)&&Si(i)==Rr}var gl=gn?Rn(gn):hu;function Xg(i){return i===M}function qg(i){return jr(i)&&Ri(i)==kr}function Yg(i){return jr(i)&&Si(i)==qn}var Jg=Oc(Il),Qg=Oc(function(i,a){return i<=a});function Jf(i){if(!i)return[];if(Ji(i))return zc(i)?ue(i):Jn(i);if(_s&&i[_s])return U(i[_s]());var a=Ri(i),g=a==ne?st:a==tr?St:pl;return g(i)}function Ko(i){if(!i)return i===0?i:0;if(i=Bs(i),i===ye||i===-ye){var a=i<0?-1:1;return a*Ve}return i===i?i:0}function Sn(i){var a=Ko(i),g=a%1;return a===a?g?a-g:a:0}function Qf(i){return i?Hn(Sn(i),0,ae):0}function Bs(i){if(typeof i=="number")return i;if(ys(i))return $e;if(Ir(i)){var a=typeof i.valueOf=="function"?i.valueOf():i;i=Ir(a)?a+"":a}if(typeof i!="string")return i===0?i:+i;i=Wa(i);var g=Li.test(i);return g||ui.test(i)?Mt(i.slice(2),g?2:8):ss.test(i)?$e:+i}function th(i){return zi(i,Qi(i))}function tp(i){return i?Hn(Sn(i),-$t,$t):i===0?i:0}function er(i){return i==null?"":O(i)}var ep=ti(function(i,a){if(Bl(a)||Ji(a)){zi(a,vi(a),i);return}for(var g in a)pn.call(a,g)&&Yn(i,g,a[g])}),eh=ti(function(i,a){zi(a,Qi(a),i)}),Zc=ti(function(i,a,g,P){zi(a,Qi(a),i,P)}),np=ti(function(i,a,g,P){zi(a,vi(a),i,P)}),rp=Zo(Rs);function ip(i,a){var g=Do(i);return a==null?g:dc(g,a)}var sp=l(function(i,a){i=Ke(i);var g=-1,P=a.length,L=P>2?a[2]:M;for(L&&Zi(a[0],a[1],L)&&(P=1);++g<P;)for(var W=a[g],rt=Qi(W),gt=-1,wt=rt.length;++gt<wt;){var zt=rt[gt],Ht=i[zt];(Ht===M||ro(Ht,Or[zt])&&!pn.call(i,zt))&&(i[zt]=W[zt])}return i}),op=l(function(i){return i.push(M,lf),Ge(nh,M,i)});function ap(i,a){return wi(i,sn(a,3),ms)}function lp(i,a){return wi(i,sn(a,3),pc)}function cp(i,a){return i==null?i:fa(i,sn(a,3),Qi)}function up(i,a){return i==null?i:ou(i,sn(a,3),Qi)}function fp(i,a){return i&&ms(i,sn(a,3))}function hp(i,a){return i&&pc(i,sn(a,3))}function dp(i){return i==null?[]:$r(i,vi(i))}function gp(i){return i==null?[]:$r(i,Qi(i))}function Nu(i,a,g){var P=i==null?M:Vo(i,a);return P===M?g:P}function pp(i,a){return i!=null&&ff(i,a,au)}function Du(i,a){return i!=null&&ff(i,a,zr)}var mp=Pc(function(i,a,g){a!=null&&typeof a.toString!="function"&&(a=Yr.call(a)),i[a]=g},ku(ts)),vp=Pc(function(i,a,g){a!=null&&typeof a.toString!="function"&&(a=Yr.call(a)),pn.call(i,a)?i[a].push(g):i[a]=[g]},sn),yp=l(eo);function vi(i){return Ji(i)?Bo(i):_l(i)}function Qi(i){return Ji(i)?Bo(i,!0):Yi(i)}function bp(i,a){var g={};return a=sn(a,3),ms(i,function(P,L,W){to(g,a(P,L,W),P)}),g}function xp(i,a){var g={};return a=sn(a,3),ms(i,function(P,L,W){to(g,L,a(P,L,W))}),g}var wp=ti(function(i,a,g){Na(i,a,g)}),nh=ti(function(i,a,g,P){Na(i,a,g,P)}),Cp=Zo(function(i,a){var g={};if(i==null)return g;var P=!1;a=bn(a,function(W){return W=je(W,i),P||(P=W.length>1),W}),zi(i,_c(i),g),P&&(g=Xi(g,N|k|I,kh));for(var L=a.length;L--;)Z(g,a[L]);return g});function Sp(i,a){return rh(i,Vl(sn(a)))}var Pp=Zo(function(i,a){return i==null?{}:ll(i,a)});function rh(i,a){if(i==null)return{};var g=bn(_c(i),function(P){return[P]});return a=sn(a),Da(i,g,function(P,L){return a(P,L[0])})}function Ep(i,a,g){a=je(a,i);var P=-1,L=a.length;for(L||(L=1,i=M);++P<L;){var W=i==null?M:i[bo(a[P])];W===M&&(P=L,W=g),i=Go(W)?W.call(i):W}return i}function Ap(i,a,g){return i==null?i:n(i,a,g)}function Op(i,a,g,P){return P=typeof P=="function"?P:M,i==null?i:n(i,a,g,P)}var ih=mu(vi),sh=mu(Qi);function Mp(i,a,g){var P=xn(i),L=P||Uo(i)||gl(i);if(a=sn(a,4),g==null){var W=i&&i.constructor;L?g=P?new W:[]:Ir(i)?g=Go(W)?Do(Pa(i)):{}:g={}}return(L?me:ms)(i,function(rt,gt,wt){return a(g,rt,gt,wt)}),g}function Tp(i,a){return i==null?!0:Z(i,a)}function _p(i,a,g){return i==null?i:X(i,a,ie(g))}function Ip(i,a,g,P){return P=typeof P=="function"?P:M,i==null?i:X(i,a,ie(g),P)}function pl(i){return i==null?[]:vr(i,vi(i))}function oh(i){return i==null?[]:vr(i,Qi(i))}function Rp(i,a,g){return g===M&&(g=a,a=M),g!==M&&(g=Bs(g),g=g===g?g:0),a!==M&&(a=Bs(a),a=a===a?a:0),Hn(Bs(i),a,g)}function Lp(i,a,g){return a=Ko(a),g===M?(g=a,a=0):g=Ko(g),i=Bs(i),lu(i,a,g)}function Np(i,a,g){if(g&&typeof g!="boolean"&&Zi(i,a,g)&&(a=g=M),g===M&&(typeof a=="boolean"?(g=a,a=M):typeof i=="boolean"&&(g=i,i=M)),i===M&&a===M?(i=0,a=1):(i=Ko(i),a===M?(a=i,i=0):a=Ko(a)),i>a){var P=i;i=a,a=P}if(g||i%1||a%1){var L=ec();return Jr(i+L*(a-i+pt("1e-"+((L+"").length-1))),a)}return Nl(i,a)}var Dp=fl(function(i,a,g){return a=a.toLowerCase(),i+(g?Fu(a):a)});function Fu(i){return Hc(er(i).toLowerCase())}function Bu(i){return i=er(i),i&&i.replace(Yo,Ca).replace(cs,"")}function Fp(i,a,g){i=er(i),a=O(a);var P=i.length;g=g===M?P:Hn(Sn(g),0,P);var L=g;return g-=a.length,g>=0&&i.slice(g,L)==a}function Bp(i){return i=er(i),i&&es.test(i)?i.replace(Pr,Sa):i}function jp(i){return i=er(i),i&&ei.test(i)?i.replace(li,"\\$&"):i}var kp=fl(function(i,a,g){return i+(g?"-":"")+a.toLowerCase()}),ah=fl(function(i,a,g){return i+(g?" ":"")+a.toLowerCase()}),Vp=$o("toLowerCase");function lh(i,a,g){i=er(i),a=Sn(a);var P=a?Qt(i):0;if(!a||P>=a)return i;var L=(a-P)/2;return Ac(qa(L),g)+i+Ac(Ea(L),g)}function ch(i,a,g){i=er(i),a=Sn(a);var P=a?Qt(i):0;return a&&P<a?i+Ac(a-P,g):i}function uh(i,a,g){i=er(i),a=Sn(a);var P=a?Qt(i):0;return a&&P<a?Ac(a-P,g)+i:i}function $p(i,a,g){return g||a==null?a=0:a&&(a=+a),tc(er(i).replace(Fr,""),a||0)}function fh(i,a,g){return(g?Zi(i,a,g):a===M)?a=1:a=Sn(a),vo(er(i),a)}function zp(){var i=arguments,a=er(i[0]);return i.length<3?a:a.replace(i[1],i[2])}var hh=fl(function(i,a,g){return i+(g?"_":"")+a.toLowerCase()});function dh(i,a,g){return g&&typeof g!="number"&&Zi(i,a,g)&&(a=g=M),g=g===M?ae:g>>>0,g?(i=er(i),i&&(typeof a=="string"||a!=null&&!Ru(a))&&(a=O(a),!a&&Ms(i))?an(ue(i),0,g):i.split(a,g)):[]}var Zp=fl(function(i,a,g){return i+(g?" ":"")+Hc(a)});function Hp(i,a,g){return i=er(i),g=g==null?0:Hn(Sn(g),0,i.length),a=O(a),i.slice(g,g+a.length)==a}function Wp(i,a,g){var P=$.templateSettings;g&&Zi(i,a,g)&&(a=M),i=er(i),a=Zc({},a,P,af);var L=Zc({},a.imports,P.imports,af),W=vi(L),rt=vr(L,W),gt,wt,zt=0,Ht=a.interpolate||mr,Xt="__p += '",xe=fr((a.escape||mr).source+"|"+Ht.source+"|"+(Ht===rs?ci:mr).source+"|"+(a.evaluate||mr).source+"|$","g"),Ze="//# sourceURL="+(pn.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ut+"]")+`
`;i.replace(xe,function(cn,Ln,Bn,Hi,Wi,bs){return Bn||(Bn=Hi),Xt+=i.slice(zt,bs).replace(pa,bl),Ln&&(gt=!0,Xt+=`' +
__e(`+Ln+`) +
'`),Wi&&(wt=!0,Xt+=`';
`+Wi+`;
__p += '`),Bn&&(Xt+=`' +
((__t = (`+Bn+`)) == null ? '' : __t) +
'`),zt=bs+cn.length,cn}),Xt+=`';
`;var ln=pn.call(a,"variable")&&a.variable;if(!ln)Xt=`with (obj) {
`+Xt+`
}
`;else if(zs.test(ln))throw new de(K);Xt=(wt?Xt.replace(Nr,""):Xt).replace(Wr,"$1").replace(cr,"$1;"),Xt="function("+(ln||"obj")+`) {
`+(ln?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(gt?", __e = _.escape":"")+(wt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Xt+`return __p
}`;var vn=bh(function(){return Ae(W,Ze+"return "+Xt).apply(M,rt)});if(vn.source=Xt,_u(vn))throw vn;return vn}function gh(i){return er(i).toLowerCase()}function ph(i){return er(i).toUpperCase()}function ml(i,a,g){if(i=er(i),i&&(g||a===M))return Wa(i);if(!i||!(a=O(a)))return i;var P=ue(i),L=ue(a),W=wa(P,L),rt=fs(P,L)+1;return an(P,W,rt).join("")}function Up(i,a,g){if(i=er(i),i&&(g||a===M))return i.slice(0,be(i)+1);if(!i||!(a=O(a)))return i;var P=ue(i),L=fs(P,ue(a))+1;return an(P,0,L).join("")}function mh(i,a,g){if(i=er(i),i&&(g||a===M))return i.replace(Fr,"");if(!i||!(a=O(a)))return i;var P=ue(i),L=wa(P,ue(a));return an(P,L).join("")}function Gp(i,a){var g=ge,P=Me;if(Ir(a)){var L="separator"in a?a.separator:L;g="length"in a?Sn(a.length):g,P="omission"in a?O(a.omission):P}i=er(i);var W=i.length;if(Ms(i)){var rt=ue(i);W=rt.length}if(g>=W)return i;var gt=g-Qt(P);if(gt<1)return P;var wt=rt?an(rt,0,gt).join(""):i.slice(0,gt);if(L===M)return wt+P;if(rt&&(gt+=wt.length-gt),Ru(L)){if(i.slice(gt).search(L)){var zt,Ht=wt;for(L.global||(L=fr(L.source,er(so.exec(L))+"g")),L.lastIndex=0;zt=L.exec(Ht);)var Xt=zt.index;wt=wt.slice(0,Xt===M?gt:Xt)}}else if(i.indexOf(O(L),gt)!=gt){var xe=wt.lastIndexOf(L);xe>-1&&(wt=wt.slice(0,xe))}return wt+P}function vh(i){return i=er(i),i&&Vr.test(i)?i.replace(Zn,Re):i}var yh=fl(function(i,a,g){return i+(g?" ":"")+a.toUpperCase()}),Hc=$o("toUpperCase");function ju(i,a,g){return i=er(i),a=g?M:a,a===M?xl(i)?hn(i):Mo(i):i.match(a)||[]}var bh=l(function(i,a){try{return Ge(i,M,a)}catch(g){return _u(g)?g:new de(g)}}),Kp=Zo(function(i,a){return me(a,function(g){g=bo(g),to(i,g,Ou(i[g],i))}),i});function Xp(i){var a=i==null?0:i.length,g=sn();return i=a?bn(i,function(P){if(typeof P[1]!="function")throw new Xr(q);return[g(P[0]),P[1]]}):[],l(function(P){for(var L=-1;++L<a;){var W=i[L];if(Ge(W[0],this,P))return Ge(W[1],this,P)}})}function qp(i){return su(Xi(i,N))}function ku(i){return function(){return i}}function Yp(i,a){return i==null||i!==i?a:i}var Jp=Cc(),Qp=Cc(!0);function ts(i){return i}function Vu(i){return mo(typeof i=="function"?i:Xi(i,N))}function tm(i){return yc(Xi(i,N))}function em(i,a){return al(i,Xi(a,N))}var nm=l(function(i,a){return function(g){return eo(g,i,a)}}),Wc=l(function(i,a){return function(g){return eo(i,g,a)}});function $u(i,a,g){var P=vi(a),L=$r(a,P);g==null&&!(Ir(a)&&(L.length||!P.length))&&(g=a,a=i,i=this,L=$r(a,vi(a)));var W=!(Ir(g)&&"chain"in g)||!!g.chain,rt=Go(i);return me(L,function(gt){var wt=a[gt];i[gt]=wt,rt&&(i.prototype[gt]=function(){var zt=this.__chain__;if(W||zt){var Ht=i(this.__wrapped__),Xt=Ht.__actions__=Jn(this.__actions__);return Xt.push({func:wt,args:arguments,thisArg:i}),Ht.__chain__=zt,Ht}return wt.apply(i,ur([this.value()],arguments))})}),i}function rm(){return kt._===this&&(kt._=Ki),this}function zu(){}function im(i){return i=Sn(i),l(function(a){return Rl(a,i)})}var sm=ha(bn),om=ha(Je),am=ha(us);function xh(i){return yu(i)?Kn(bo(i)):cl(i)}function lm(i){return function(a){return i==null?M:Vo(i,a)}}var cm=gu(),um=gu(!0);function Zu(){return[]}function Hu(){return!1}function wh(){return{}}function fm(){return""}function hm(){return!0}function Ch(i,a){if(i=Sn(i),i<1||i>$t)return[];var g=ae,P=Jr(i,ae);a=sn(a),i-=ae;for(var L=ra(P,a);++g<i;)a(g);return L}function dm(i){return xn(i)?bn(i,bo):ys(i)?[i]:Jn(xf(er(i)))}function gm(i){var a=++Ts;return er(i)+a}var pm=Ec(function(i,a){return i+a},0),mm=Mc("ceil"),vm=Ec(function(i,a){return i/a},1),ym=Mc("floor");function Wu(i){return i&&i.length?El(i,ts,qi):M}function Uu(i,a){return i&&i.length?El(i,sn(a,2),qi):M}function bm(i){return xa(i,ts)}function Sh(i,a){return xa(i,sn(a,2))}function Ph(i){return i&&i.length?El(i,ts,Il):M}function Eh(i,a){return i&&i.length?El(i,sn(a,2),Il):M}var xm=Ec(function(i,a){return i*a},1),Ah=Mc("round"),Oh=Ec(function(i,a){return i-a},0);function wm(i){return i&&i.length?Os(i,ts):0}function Cm(i,a){return i&&i.length?Os(i,sn(a,2)):0}return $.after=vg,$.ary=zf,$.assign=ep,$.assignIn=eh,$.assignInWith=Zc,$.assignWith=np,$.at=rp,$.before=Au,$.bind=Ou,$.bindAll=Kp,$.bindKey=Mu,$.castArray=Mg,$.chain=Nf,$.chunk=ed,$.compact=nd,$.concat=rd,$.cond=Xp,$.conforms=qp,$.constant=ku,$.countBy=eg,$.create=ip,$.curry=Zf,$.curryRight=Hf,$.debounce=Wf,$.defaults=sp,$.defaultsDeep=op,$.defer=yg,$.delay=bg,$.difference=id,$.differenceBy=sd,$.differenceWith=od,$.drop=ad,$.dropRight=ld,$.dropRightWhile=cd,$.dropWhile=ud,$.fill=fd,$.filter=Bf,$.flatMap=ig,$.flatMapDeep=sg,$.flatMapDepth=og,$.flatten=Pf,$.flattenDeep=hd,$.flattenDepth=dd,$.flip=xg,$.flow=Jp,$.flowRight=Qp,$.fromPairs=gd,$.functions=dp,$.functionsIn=gp,$.groupBy=ag,$.initial=Af,$.intersection=md,$.intersectionBy=vd,$.intersectionWith=yd,$.invert=mp,$.invertBy=vp,$.invokeMap=Eu,$.iteratee=Vu,$.keyBy=Vf,$.keys=vi,$.keysIn=Qi,$.map=jc,$.mapKeys=bp,$.mapValues=xp,$.matches=tm,$.matchesProperty=em,$.memoize=Vc,$.merge=wp,$.mergeWith=nh,$.method=nm,$.methodOf=Wc,$.mixin=$u,$.negate=Vl,$.nthArg=im,$.omit=Cp,$.omitBy=Sp,$.once=wg,$.orderBy=cg,$.over=sm,$.overArgs=Cg,$.overEvery=om,$.overSome=am,$.partial=Tu,$.partialRight=Uf,$.partition=$f,$.pick=Pp,$.pickBy=rh,$.property=xh,$.propertyOf=lm,$.pull=wd,$.pullAll=Mf,$.pullAllBy=Cd,$.pullAllWith=Sd,$.pullAt=Tf,$.range=cm,$.rangeRight=um,$.rearg=Sg,$.reject=Jm,$.remove=Pd,$.rest=Pg,$.reverse=Cu,$.sampleSize=hg,$.set=Ap,$.setWith=Op,$.shuffle=dg,$.slice=Ed,$.sortBy=mg,$.sortedUniq=_d,$.sortedUniqBy=Id,$.split=dh,$.spread=Eg,$.tail=Rd,$.take=Ld,$.takeRight=Nd,$.takeRightWhile=Dd,$.takeWhile=Fd,$.tap=Kd,$.throttle=Ag,$.thru=Bc,$.toArray=Jf,$.toPairs=ih,$.toPairsIn=sh,$.toPath=dm,$.toPlainObject=th,$.transform=Mp,$.unary=Og,$.union=Bd,$.unionBy=jd,$.unionWith=kd,$.uniq=Vd,$.uniqBy=$d,$.uniqWith=zd,$.unset=Tp,$.unzip=Su,$.unzipWith=Rf,$.update=_p,$.updateWith=Ip,$.values=pl,$.valuesIn=oh,$.without=Zd,$.words=ju,$.wrap=Gf,$.xor=xr,$.xorBy=Fc,$.xorWith=Lf,$.zip=Hd,$.zipObject=Wd,$.zipObjectDeep=Ud,$.zipWith=Gd,$.entries=ih,$.entriesIn=sh,$.extend=eh,$.extendWith=Zc,$u($,$),$.add=pm,$.attempt=bh,$.camelCase=Dp,$.capitalize=Fu,$.ceil=mm,$.clamp=Rp,$.clone=Tg,$.cloneDeep=Ig,$.cloneDeepWith=Rg,$.cloneWith=_g,$.conformsTo=Lg,$.deburr=Bu,$.defaultTo=Yp,$.divide=vm,$.endsWith=Fp,$.eq=ro,$.escape=Bp,$.escapeRegExp=jp,$.every=ng,$.find=rg,$.findIndex=Cf,$.findKey=ap,$.findLast=jf,$.findLastIndex=Sf,$.findLastKey=lp,$.floor=ym,$.forEach=Pu,$.forEachRight=kf,$.forIn=cp,$.forInRight=up,$.forOwn=fp,$.forOwnRight=hp,$.get=Nu,$.gt=Ng,$.gte=Dg,$.has=pp,$.hasIn=Du,$.head=Ef,$.identity=ts,$.includes=lg,$.indexOf=pd,$.inRange=Lp,$.invoke=yp,$.isArguments=Va,$.isArray=xn,$.isArrayBuffer=Kf,$.isArrayLike=Ji,$.isArrayLikeObject=Zr,$.isBoolean=Fg,$.isBuffer=Uo,$.isDate=Bg,$.isElement=jg,$.isEmpty=kg,$.isEqual=Vg,$.isEqualWith=$g,$.isError=_u,$.isFinite=zg,$.isFunction=Go,$.isInteger=Xf,$.isLength=$c,$.isMap=qf,$.isMatch=Zg,$.isMatchWith=Hg,$.isNaN=Iu,$.isNative=Wg,$.isNil=Gg,$.isNull=Ug,$.isNumber=Yf,$.isObject=Ir,$.isObjectLike=jr,$.isPlainObject=$l,$.isRegExp=Ru,$.isSafeInteger=Kg,$.isSet=Lu,$.isString=zc,$.isSymbol=ys,$.isTypedArray=gl,$.isUndefined=Xg,$.isWeakMap=qg,$.isWeakSet=Yg,$.join=bd,$.kebabCase=kp,$.last=Fs,$.lastIndexOf=Of,$.lowerCase=ah,$.lowerFirst=Vp,$.lt=Jg,$.lte=Qg,$.max=Wu,$.maxBy=Uu,$.mean=bm,$.meanBy=Sh,$.min=Ph,$.minBy=Eh,$.stubArray=Zu,$.stubFalse=Hu,$.stubObject=wh,$.stubString=fm,$.stubTrue=hm,$.multiply=xm,$.nth=xd,$.noConflict=rm,$.noop=zu,$.now=kc,$.pad=lh,$.padEnd=ch,$.padStart=uh,$.parseInt=$p,$.random=Np,$.reduce=ug,$.reduceRight=kl,$.repeat=fh,$.replace=zp,$.result=Ep,$.round=Ah,$.runInContext=ct,$.sample=fg,$.size=gg,$.snakeCase=hh,$.some=pg,$.sortedIndex=Ad,$.sortedIndexBy=_f,$.sortedIndexOf=Od,$.sortedLastIndex=Md,$.sortedLastIndexBy=Td,$.sortedLastIndexOf=If,$.startCase=Zp,$.startsWith=Hp,$.subtract=Oh,$.sum=wm,$.sumBy=Cm,$.template=Wp,$.times=Ch,$.toFinite=Ko,$.toInteger=Sn,$.toLength=Qf,$.toLower=gh,$.toNumber=Bs,$.toSafeInteger=tp,$.toString=er,$.toUpper=ph,$.trim=ml,$.trimEnd=Up,$.trimStart=mh,$.truncate=Gp,$.unescape=vh,$.uniqueId=gm,$.upperCase=yh,$.upperFirst=Hc,$.each=Pu,$.eachRight=kf,$.first=Ef,$u($,function(){var i={};return ms($,function(a,g){pn.call($.prototype,g)||(i[g]=a)}),i}(),{chain:!1}),$.VERSION=nt,me(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){$[i].placeholder=$}),me(["drop","take"],function(i,a){On.prototype[i]=function(g){g=g===M?1:Br(Sn(g),0);var P=this.__filtered__&&!a?new On(this):this.clone();return P.__filtered__?P.__takeCount__=Jr(g,P.__takeCount__):P.__views__.push({size:Jr(g,ae),type:i+(P.__dir__<0?"Right":"")}),P},On.prototype[i+"Right"]=function(g){return this.reverse()[i](g).reverse()}}),me(["filter","map","takeWhile"],function(i,a){var g=a+1,P=g==Bt||g==oe;On.prototype[i]=function(L){var W=this.clone();return W.__iteratees__.push({iteratee:sn(L,3),type:g}),W.__filtered__=W.__filtered__||P,W}}),me(["head","last"],function(i,a){var g="take"+(a?"Right":"");On.prototype[i]=function(){return this[g](1).value()[0]}}),me(["initial","tail"],function(i,a){var g="drop"+(a?"":"Right");On.prototype[i]=function(){return this.__filtered__?new On(this):this[g](1)}}),On.prototype.compact=function(){return this.filter(ts)},On.prototype.find=function(i){return this.filter(i).head()},On.prototype.findLast=function(i){return this.reverse().find(i)},On.prototype.invokeMap=l(function(i,a){return typeof i=="function"?new On(this):this.map(function(g){return eo(g,i,a)})}),On.prototype.reject=function(i){return this.filter(Vl(sn(i)))},On.prototype.slice=function(i,a){i=Sn(i);var g=this;return g.__filtered__&&(i>0||a<0)?new On(g):(i<0?g=g.takeRight(-i):i&&(g=g.drop(i)),a!==M&&(a=Sn(a),g=a<0?g.dropRight(-a):g.take(a-i)),g)},On.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},On.prototype.toArray=function(){return this.take(ae)},ms(On.prototype,function(i,a){var g=/^(?:filter|find|map|reject)|While$/.test(a),P=/^(?:head|last)$/.test(a),L=$[P?"take"+(a=="last"?"Right":""):a],W=P||/^find/.test(a);L&&($.prototype[a]=function(){var rt=this.__wrapped__,gt=P?[1]:arguments,wt=rt instanceof On,zt=gt[0],Ht=wt||xn(rt),Xt=function(Ln){var Bn=L.apply($,ur([Ln],gt));return P&&xe?Bn[0]:Bn};Ht&&g&&typeof zt=="function"&&zt.length!=1&&(wt=Ht=!1);var xe=this.__chain__,Ze=!!this.__actions__.length,ln=W&&!xe,vn=wt&&!Ze;if(!W&&Ht){rt=vn?rt:new On(this);var cn=i.apply(rt,gt);return cn.__actions__.push({func:Bc,args:[Xt],thisArg:M}),new Qr(cn,xe)}return ln&&vn?i.apply(this,gt):(cn=this.thru(Xt),ln?P?cn.value()[0]:cn.value():cn)})}),me(["pop","push","shift","sort","splice","unshift"],function(i){var a=_o[i],g=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",P=/^(?:pop|shift)$/.test(i);$.prototype[i]=function(){var L=arguments;if(P&&!this.__chain__){var W=this.value();return a.apply(xn(W)?W:[],L)}return this[g](function(rt){return a.apply(xn(rt)?rt:[],L)})}}),ms(On.prototype,function(i,a){var g=$[a];if(g){var P=g.name+"";pn.call(ia,P)||(ia[P]=[]),ia[P].push({name:a,func:g})}}),ia[Sc(M,ot).name]=[{name:"wrapper",func:M}],On.prototype.clone=tl,On.prototype.reverse=Jc,On.prototype.value=Qc,$.prototype.at=Df,$.prototype.chain=Xd,$.prototype.commit=qd,$.prototype.next=Yd,$.prototype.plant=Jd,$.prototype.reverse=Qd,$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=tg,$.prototype.first=$.prototype.head,_s&&($.prototype[_s]=Ff),$},fn=Le();kt._=fn,R=function(){return fn}.call(Et,V,Et,At),R!==M&&(At.exports=R)}).call(this)},11234:function(At,Et,V){"use strict";V.d(Et,{gN:function(){return Ws},zb:function(){return z},RV:function(){return ea},aV:function(){return Us},ZM:function(){return Ft},ZP:function(){return ba},cI:function(){return Gs},qo:function(){return Es}});var R=V(39546),M=V(55824),nt=V(38334),J=V(94162),vt=V(84964),q=V(55443),K=V(35979),T=V(59129),x=V(76920),w=V(88145),N=V(74063),k=V(43907),I=V(35576),Y=V(43332),dt=V(39597),b=V(36978),ot="RC_FORM_INTERNAL_HOOKS",it=function(){(0,b.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},jt=R.createContext({getFieldValue:it,getFieldsValue:it,getFieldError:it,getFieldWarning:it,getFieldsError:it,isFieldsTouched:it,isFieldTouched:it,isFieldValidating:it,isFieldsValidating:it,resetFields:it,setFields:it,setFieldValue:it,setFieldsValue:it,validateFields:it,submit:it,getInternalHooks:function(){return it(),{dispatch:it,initEntityValue:it,registerField:it,useSubscribe:it,setInitialValues:it,destroyForm:it,setCallbacks:it,registerWatch:it,getFields:it,setValidateMessages:it,setPreserve:it,getInitialValue:it}}}),z=jt,Ot=R.createContext(null),Ft=Ot;function ke(ut){return ut==null?[]:Array.isArray(ut)?ut:[ut]}function _n(ut){return ut&&!!ut._init}var It=V(28269);function ge(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var D=JSON.parse(JSON.stringify(this));return D.clone=this.clone,D}}}var Me=ge(),Se=V(37083),Kt=V(74358);function Bt(ut){try{return Function.toString.call(ut).indexOf("[native code]")!==-1}catch(D){return typeof ut=="function"}}var te=V(65269);function oe(ut,D,A){if((0,te.Z)())return Reflect.construct.apply(null,arguments);var H=[null];H.push.apply(H,D);var B=new(ut.bind.apply(ut,H));return A&&(0,Kt.Z)(B,A.prototype),B}function ye(ut){var D=typeof Map=="function"?new Map:void 0;return ye=function(H){if(H===null||!Bt(H))return H;if(typeof H!="function")throw new TypeError("Super expression must either be null or a function");if(D!==void 0){if(D.has(H))return D.get(H);D.set(H,B)}function B(){return oe(H,arguments,(0,Se.Z)(this).constructor)}return B.prototype=Object.create(H.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),(0,Kt.Z)(B,H)},ye(ut)}var $t=V(14224),Ve=/%[sdj%]/g,$e=function(){};function ae(ut){if(!ut||!ut.length)return null;var D={};return ut.forEach(function(A){var H=A.field;D[H]=D[H]||[],D[H].push(A)}),D}function Be(ut){for(var D=arguments.length,A=new Array(D>1?D-1:0),H=1;H<D;H++)A[H-1]=arguments[H];var B=0,et=A.length;if(typeof ut=="function")return ut.apply(null,A);if(typeof ut=="string"){var lt=ut.replace(Ve,function(pt){if(pt==="%%")return"%";if(B>=et)return pt;switch(pt){case"%s":return String(A[B++]);case"%d":return Number(A[B++]);case"%j":try{return JSON.stringify(A[B++])}catch(Mt){return"[Circular]"}break;default:return pt}});return lt}return ut}function Mn(ut){return ut==="string"||ut==="url"||ut==="hex"||ut==="email"||ut==="date"||ut==="pattern"}function Xe(ut,D){return!!(ut==null||D==="array"&&Array.isArray(ut)&&!ut.length||Mn(D)&&typeof ut=="string"&&!ut)}function Qn(ut){return Object.keys(ut).length===0}function Un(ut,D,A){var H=[],B=0,et=ut.length;function lt(pt){H.push.apply(H,(0,K.Z)(pt||[])),B++,B===et&&A(H)}ut.forEach(function(pt){D(pt,lt)})}function Dn(ut,D,A){var H=0,B=ut.length;function et(lt){if(lt&&lt.length){A(lt);return}var pt=H;H=H+1,pt<B?D(ut[pt],et):A([])}et([])}function Cn(ut){var D=[];return Object.keys(ut).forEach(function(A){D.push.apply(D,(0,K.Z)(ut[A]||[]))}),D}var qt=function(ut){(0,N.Z)(A,ut);var D=(0,k.Z)(A);function A(H,B){var et;return(0,T.Z)(this,A),et=D.call(this,"Async Validation Error"),(0,I.Z)((0,w.Z)(et),"errors",void 0),(0,I.Z)((0,w.Z)(et),"fields",void 0),et.errors=H,et.fields=B,et}return(0,x.Z)(A)}(ye(Error));function qe(ut,D,A,H,B){if(D.first){var et=new Promise(function(se,We){var he=function(Pe){return H(Pe),Pe.length?We(new qt(Pe,ae(Pe))):se(B)},le=Cn(ut);Dn(le,A,he)});return et.catch(function(se){return se}),et}var lt=D.firstFields===!0?Object.keys(ut):D.firstFields||[],pt=Object.keys(ut),Mt=pt.length,Nt=0,Ct=[],kt=new Promise(function(se,We){var he=function(Dt){if(Ct.push.apply(Ct,Dt),Nt++,Nt===Mt)return H(Ct),Ct.length?We(new qt(Ct,ae(Ct))):se(B)};pt.length||(H(Ct),se(B)),pt.forEach(function(le){var Dt=ut[le];lt.indexOf(le)!==-1?Dn(Dt,A,he):Un(Dt,A,he)})});return kt.catch(function(se){return se}),kt}function on(ut){return!!(ut&&ut.message!==void 0)}function pe(ut,D){for(var A=ut,H=0;H<D.length;H++){if(A==null)return A;A=A[D[H]]}return A}function Fe(ut,D){return function(A){var H;return ut.fullFields?H=pe(D,ut.fullFields):H=D[A.field||ut.fullField],on(A)?(A.field=A.field||ut.fullField,A.fieldValue=H,A):{message:typeof A=="function"?A():A,fieldValue:H,field:A.field||ut.fullField}}}function ne(ut,D){if(D){for(var A in D)if(D.hasOwnProperty(A)){var H=D[A];(0,It.Z)(H)==="object"&&(0,It.Z)(ut[A])==="object"?ut[A]=(0,q.Z)((0,q.Z)({},ut[A]),H):ut[A]=H}}return ut}var Yt="enum",Zt=function(D,A,H,B,et){D[Yt]=Array.isArray(D[Yt])?D[Yt]:[],D[Yt].indexOf(A)===-1&&B.push(Be(et.messages[Yt],D.fullField,D[Yt].join(", ")))},He=Zt,zn=function(D,A,H,B,et){if(D.pattern){if(D.pattern instanceof RegExp)D.pattern.lastIndex=0,D.pattern.test(A)||B.push(Be(et.messages.pattern.mismatch,D.fullField,A,D.pattern));else if(typeof D.pattern=="string"){var lt=new RegExp(D.pattern);lt.test(A)||B.push(Be(et.messages.pattern.mismatch,D.fullField,A,D.pattern))}}},Fn=zn,jn=function(D,A,H,B,et){var lt=typeof D.len=="number",pt=typeof D.min=="number",Mt=typeof D.max=="number",Nt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ct=A,kt=null,se=typeof A=="number",We=typeof A=="string",he=Array.isArray(A);if(se?kt="number":We?kt="string":he&&(kt="array"),!kt)return!1;he&&(Ct=A.length),We&&(Ct=A.replace(Nt,"_").length),lt?Ct!==D.len&&B.push(Be(et.messages[kt].len,D.fullField,D.len)):pt&&!Mt&&Ct<D.min?B.push(Be(et.messages[kt].min,D.fullField,D.min)):Mt&&!pt&&Ct>D.max?B.push(Be(et.messages[kt].max,D.fullField,D.max)):pt&&Mt&&(Ct<D.min||Ct>D.max)&&B.push(Be(et.messages[kt].range,D.fullField,D.min,D.max))},tr=jn,Tn=function(D,A,H,B,et,lt){D.required&&(!H.hasOwnProperty(D.field)||Xe(A,lt||D.type))&&B.push(Be(et.messages.required,D.fullField))},Rr=Tn,Gn,kr=function(){if(Gn)return Gn;var ut="[a-fA-F\\d:]",D=function(gn){return gn&&gn.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(ut,")|(?<=").concat(ut,")(?=\\s|$))"):""},A="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",H="[a-fA-F\\d]{1,4}",B=["(?:".concat(H,":){7}(?:").concat(H,"|:)"),"(?:".concat(H,":){6}(?:").concat(A,"|:").concat(H,"|:)"),"(?:".concat(H,":){5}(?::").concat(A,"|(?::").concat(H,"){1,2}|:)"),"(?:".concat(H,":){4}(?:(?::").concat(H,"){0,1}:").concat(A,"|(?::").concat(H,"){1,3}|:)"),"(?:".concat(H,":){3}(?:(?::").concat(H,"){0,2}:").concat(A,"|(?::").concat(H,"){1,4}|:)"),"(?:".concat(H,":){2}(?:(?::").concat(H,"){0,3}:").concat(A,"|(?::").concat(H,"){1,5}|:)"),"(?:".concat(H,":){1}(?:(?::").concat(H,"){0,4}:").concat(A,"|(?::").concat(H,"){1,6}|:)"),"(?::(?:(?::".concat(H,"){0,5}:").concat(A,"|(?::").concat(H,"){1,7}|:))")],et="(?:%[0-9a-zA-Z]{1,})?",lt="(?:".concat(B.join("|"),")").concat(et),pt=new RegExp("(?:^".concat(A,"$)|(?:^").concat(lt,"$)")),Mt=new RegExp("^".concat(A,"$")),Nt=new RegExp("^".concat(lt,"$")),Ct=function(gn){return gn&&gn.exact?pt:new RegExp("(?:".concat(D(gn)).concat(A).concat(D(gn),")|(?:").concat(D(gn)).concat(lt).concat(D(gn),")"),"g")};Ct.v4=function(Ue){return Ue&&Ue.exact?Mt:new RegExp("".concat(D(Ue)).concat(A).concat(D(Ue)),"g")},Ct.v6=function(Ue){return Ue&&Ue.exact?Nt:new RegExp("".concat(D(Ue)).concat(lt).concat(D(Ue)),"g")};var kt="(?:(?:[a-z]+:)?//)",se="(?:\\S+(?::\\S*)?@)?",We=Ct.v4().source,he=Ct.v6().source,le="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",Dt="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",Pe="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",re="(?::\\d{2,5})?",_e='(?:[/?#][^\\s"]*)?',en="(?:".concat(kt,"|www\\.)").concat(se,"(?:localhost|").concat(We,"|").concat(he,"|").concat(le).concat(Dt).concat(Pe,")").concat(re).concat(_e);return Gn=new RegExp("(?:^".concat(en,"$)"),"i"),Gn},qn={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},An={integer:function(D){return An.number(D)&&parseInt(D,10)===D},float:function(D){return An.number(D)&&!An.integer(D)},array:function(D){return Array.isArray(D)},regexp:function(D){if(D instanceof RegExp)return!0;try{return!!new RegExp(D)}catch(A){return!1}},date:function(D){return typeof D.getTime=="function"&&typeof D.getMonth=="function"&&typeof D.getYear=="function"&&!isNaN(D.getTime())},number:function(D){return isNaN(D)?!1:typeof D=="number"},object:function(D){return(0,It.Z)(D)==="object"&&!An.array(D)},method:function(D){return typeof D=="function"},email:function(D){return typeof D=="string"&&D.length<=320&&!!D.match(qn.email)},url:function(D){return typeof D=="string"&&D.length<=2048&&!!D.match(kr())},hex:function(D){return typeof D=="string"&&!!D.match(qn.hex)}},ir=function(D,A,H,B,et){if(D.required&&A===void 0){Rr(D,A,H,B,et);return}var lt=["integer","float","array","regexp","object","method","email","number","date","url","hex"],pt=D.type;lt.indexOf(pt)>-1?An[pt](A)||B.push(Be(et.messages.types[pt],D.fullField,D.type)):pt&&(0,It.Z)(A)!==D.type&&B.push(Be(et.messages.types[pt],D.fullField,D.type))},Ar=ir,sr=function(D,A,H,B,et){(/^\s+$/.test(A)||A==="")&&B.push(Be(et.messages.whitespace,D.fullField))},Lr=sr,ze={required:Rr,whitespace:Lr,type:Ar,range:tr,enum:He,pattern:Fn},dr=function(D,A,H,B,et){var lt=[],pt=D.required||!D.required&&B.hasOwnProperty(D.field);if(pt){if(Xe(A)&&!D.required)return H();ze.required(D,A,B,lt,et)}H(lt)},gr=dr,Sr=function(D,A,H,B,et){var lt=[],pt=D.required||!D.required&&B.hasOwnProperty(D.field);if(pt){if(A==null&&!D.required)return H();ze.required(D,A,B,lt,et,"array"),A!=null&&(ze.type(D,A,B,lt,et),ze.range(D,A,B,lt,et))}H(lt)},lr=Sr,or=function(D,A,H,B,et){var lt=[],pt=D.required||!D.required&&B.hasOwnProperty(D.field);if(pt){if(Xe(A)&&!D.required)return H();ze.required(D,A,B,lt,et),A!==void 0&&ze.type(D,A,B,lt,et)}H(lt)},Nr=or,Wr=function(D,A,H,B,et){var lt=[],pt=D.required||!D.required&&B.hasOwnProperty(D.field);if(pt){if(Xe(A,"date")&&!D.required)return H();if(ze.required(D,A,B,lt,et),!Xe(A,"date")){var Mt;A instanceof Date?Mt=A:Mt=new Date(A),ze.type(D,Mt,B,lt,et),Mt&&ze.range(D,Mt.getTime(),B,lt,et)}}H(lt)},cr=Wr,Zn="enum",Pr=function(D,A,H,B,et){var lt=[],pt=D.required||!D.required&&B.hasOwnProperty(D.field);if(pt){if(Xe(A)&&!D.required)return H();ze.required(D,A,B,lt,et),A!==void 0&&ze[Zn](D,A,B,lt,et)}H(lt)},Vr=Pr,es=function(D,A,H,B,et){var lt=[],pt=D.required||!D.required&&B.hasOwnProperty(D.field);if(pt){if(Xe(A)&&!D.required)return H();ze.required(D,A,B,lt,et),A!==void 0&&(ze.type(D,A,B,lt,et),ze.range(D,A,B,lt,et))}H(lt)},ai=es,ns=function(D,A,H,B,et){var lt=[],pt=D.required||!D.required&&B.hasOwnProperty(D.field);if(pt){if(Xe(A)&&!D.required)return H();ze.required(D,A,B,lt,et),A!==void 0&&(ze.type(D,A,B,lt,et),ze.range(D,A,B,lt,et))}H(lt)},rs=ns,Dr=function(D,A,H,B,et){var lt=[],pt=D.required||!D.required&&B.hasOwnProperty(D.field);if(pt){if(Xe(A)&&!D.required)return H();ze.required(D,A,B,lt,et),A!==void 0&&ze.type(D,A,B,lt,et)}H(lt)},ws=Dr,Cs=function(D,A,H,B,et){var lt=[],pt=D.required||!D.required&&B.hasOwnProperty(D.field);if(pt){if(A===""&&(A=void 0),Xe(A)&&!D.required)return H();ze.required(D,A,B,lt,et),A!==void 0&&(ze.type(D,A,B,lt,et),ze.range(D,A,B,lt,et))}H(lt)},li=Cs,ei=function(D,A,H,B,et){var lt=[],pt=D.required||!D.required&&B.hasOwnProperty(D.field);if(pt){if(Xe(A)&&!D.required)return H();ze.required(D,A,B,lt,et),A!==void 0&&ze.type(D,A,B,lt,et)}H(lt)},Fr=ei,is=function(D,A,H,B,et){var lt=[],pt=D.required||!D.required&&B.hasOwnProperty(D.field);if(pt){if(Xe(A,"string")&&!D.required)return H();ze.required(D,A,B,lt,et),Xe(A,"string")||ze.pattern(D,A,B,lt,et)}H(lt)},Ai=is,$s=function(D,A,H,B,et){var lt=[],pt=D.required||!D.required&&B.hasOwnProperty(D.field);if(pt){if(Xe(A)&&!D.required)return H();ze.required(D,A,B,lt,et),Xe(A)||ze.type(D,A,B,lt,et)}H(lt)},Ss=$s,Gi=function(D,A,H,B,et){var lt=[],pt=Array.isArray(A)?"array":(0,It.Z)(A);ze.required(D,A,B,lt,et,pt),H(lt)},zs=Gi,ni=function(D,A,H,B,et){var lt=[],pt=D.required||!D.required&&B.hasOwnProperty(D.field);if(pt){if(Xe(A,"string")&&!D.required)return H();ze.required(D,A,B,lt,et,"string"),Xe(A,"string")||(ze.type(D,A,B,lt,et),ze.range(D,A,B,lt,et),ze.pattern(D,A,B,lt,et),D.whitespace===!0&&ze.whitespace(D,A,B,lt,et))}H(lt)},ci=ni,so=function(D,A,H,B,et){var lt=D.type,pt=[],Mt=D.required||!D.required&&B.hasOwnProperty(D.field);if(Mt){if(Xe(A,lt)&&!D.required)return H();ze.required(D,A,B,pt,et,lt),Xe(A,lt)||ze.type(D,A,B,pt,et)}H(pt)},ss=so,Li={string:ci,method:ws,number:li,boolean:Nr,regexp:Ss,integer:rs,float:ai,array:lr,object:Fr,enum:Vr,pattern:Ai,date:cr,url:ss,hex:ss,email:ss,required:zs,any:gr},ar=function(){function ut(D){(0,T.Z)(this,ut),(0,I.Z)(this,"rules",null),(0,I.Z)(this,"_messages",Me),this.define(D)}return(0,x.Z)(ut,[{key:"define",value:function(A){var H=this;if(!A)throw new Error("Cannot configure a schema with no rules");if((0,It.Z)(A)!=="object"||Array.isArray(A))throw new Error("Rules must be an object");this.rules={},Object.keys(A).forEach(function(B){var et=A[B];H.rules[B]=Array.isArray(et)?et:[et]})}},{key:"messages",value:function(A){return A&&(this._messages=ne(ge(),A)),this._messages}},{key:"validate",value:function(A){var H=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},lt=A,pt=B,Mt=et;if(typeof pt=="function"&&(Mt=pt,pt={}),!this.rules||Object.keys(this.rules).length===0)return Mt&&Mt(null,lt),Promise.resolve(lt);function Nt(he){var le=[],Dt={};function Pe(_e){if(Array.isArray(_e)){var en;le=(en=le).concat.apply(en,(0,K.Z)(_e))}else le.push(_e)}for(var re=0;re<he.length;re++)Pe(he[re]);le.length?(Dt=ae(le),Mt(le,Dt)):Mt(null,lt)}if(pt.messages){var Ct=this.messages();Ct===Me&&(Ct=ge()),ne(Ct,pt.messages),pt.messages=Ct}else pt.messages=this.messages();var kt={},se=pt.keys||Object.keys(this.rules);se.forEach(function(he){var le=H.rules[he],Dt=lt[he];le.forEach(function(Pe){var re=Pe;typeof re.transform=="function"&&(lt===A&&(lt=(0,q.Z)({},lt)),Dt=lt[he]=re.transform(Dt),Dt!=null&&(re.type=re.type||(Array.isArray(Dt)?"array":(0,It.Z)(Dt)))),typeof re=="function"?re={validator:re}:re=(0,q.Z)({},re),re.validator=H.getValidationMethod(re),re.validator&&(re.field=he,re.fullField=re.fullField||he,re.type=H.getType(re),kt[he]=kt[he]||[],kt[he].push({rule:re,value:Dt,source:lt,field:he}))})});var We={};return qe(kt,pt,function(he,le){var Dt=he.rule,Pe=(Dt.type==="object"||Dt.type==="array")&&((0,It.Z)(Dt.fields)==="object"||(0,It.Z)(Dt.defaultField)==="object");Pe=Pe&&(Dt.required||!Dt.required&&he.value),Dt.field=he.field;function re(Ge,un){return(0,q.Z)((0,q.Z)({},un),{},{fullField:"".concat(Dt.fullField,".").concat(Ge),fullFields:Dt.fullFields?[].concat((0,K.Z)(Dt.fullFields),[Ge]):[Ge]})}function _e(){var Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],un=Array.isArray(Ge)?Ge:[Ge];!pt.suppressWarning&&un.length&&ut.warning("async-validator:",un),un.length&&Dt.message!==void 0&&(un=[].concat(Dt.message));var me=un.map(Fe(Dt,lt));if(pt.first&&me.length)return We[Dt.field]=1,le(me);if(!Pe)le(me);else{if(Dt.required&&!he.value)return Dt.message!==void 0?me=[].concat(Dt.message).map(Fe(Dt,lt)):pt.error&&(me=[pt.error(Dt,Be(pt.messages.required,Dt.field))]),le(me);var rn={};Dt.defaultField&&Object.keys(he.value).map(function(Pn){rn[Pn]=Dt.defaultField}),rn=(0,q.Z)((0,q.Z)({},rn),he.rule.fields);var Je={};Object.keys(rn).forEach(function(Pn){var Nn=rn[Pn],bn=Array.isArray(Nn)?Nn:[Nn];Je[Pn]=bn.map(re.bind(null,Pn))});var In=new ut(Je);In.messages(pt.messages),he.rule.options&&(he.rule.options.messages=pt.messages,he.rule.options.error=pt.error),In.validate(he.value,he.rule.options||pt,function(Pn){var Nn=[];me&&me.length&&Nn.push.apply(Nn,(0,K.Z)(me)),Pn&&Pn.length&&Nn.push.apply(Nn,(0,K.Z)(Pn)),le(Nn.length?Nn:null)})}}var en;if(Dt.asyncValidator)en=Dt.asyncValidator(Dt,he.value,_e,he.source,pt);else if(Dt.validator){try{en=Dt.validator(Dt,he.value,_e,he.source,pt)}catch(Ge){var Ue,gn;(Ue=(gn=console).error)===null||Ue===void 0||Ue.call(gn,Ge),pt.suppressValidatorError||setTimeout(function(){throw Ge},0),_e(Ge.message)}en===!0?_e():en===!1?_e(typeof Dt.message=="function"?Dt.message(Dt.fullField||Dt.field):Dt.message||"".concat(Dt.fullField||Dt.field," fails")):en instanceof Array?_e(en):en instanceof Error&&_e(en.message)}en&&en.then&&en.then(function(){return _e()},function(Ge){return _e(Ge)})},function(he){Nt(he)},lt)}},{key:"getType",value:function(A){if(A.type===void 0&&A.pattern instanceof RegExp&&(A.type="pattern"),typeof A.validator!="function"&&A.type&&!Li.hasOwnProperty(A.type))throw new Error(Be("Unknown rule type %s",A.type));return A.type||"string"}},{key:"getValidationMethod",value:function(A){if(typeof A.validator=="function")return A.validator;var H=Object.keys(A),B=H.indexOf("message");return B!==-1&&H.splice(B,1),H.length===1&&H[0]==="required"?Li.required:Li[this.getType(A)]||void 0}}]),ut}();(0,I.Z)(ar,"register",function(D,A){if(typeof A!="function")throw new Error("Cannot register a validator by type, validator is not a function");Li[D]=A}),(0,I.Z)(ar,"warning",$e),(0,I.Z)(ar,"messages",Me),(0,I.Z)(ar,"validators",Li);var ui=ar,pr="'${name}' is not a valid ${type}",Yo={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:pr,method:pr,array:pr,object:pr,number:pr,date:pr,boolean:pr,integer:pr,float:pr,regexp:pr,email:pr,url:pr,hex:pr},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},mr=V(81182),pa=ui;function Co(ut,D){return ut.replace(/\\?\$\{\w+\}/g,function(A){if(A.startsWith("\\"))return A.slice(1);var H=A.slice(2,-1);return D[H]})}var ma="CODE_LOGIC_ERROR";function Ni(ut,D,A,H,B){return So.apply(this,arguments)}function So(){return So=(0,vt.Z)((0,J.Z)().mark(function ut(D,A,H,B,et){var lt,pt,Mt,Nt,Ct,kt,se,We,he;return(0,J.Z)().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:return lt=(0,q.Z)({},H),delete lt.ruleIndex,pa.warning=function(){},lt.validator&&(pt=lt.validator,lt.validator=function(){try{return pt.apply(void 0,arguments)}catch(Pe){return console.error(Pe),Promise.reject(ma)}}),Mt=null,lt&&lt.type==="array"&&lt.defaultField&&(Mt=lt.defaultField,delete lt.defaultField),Nt=new pa((0,I.Z)({},D,[lt])),Ct=(0,mr.T)(Yo,B.validateMessages),Nt.messages(Ct),kt=[],Dt.prev=10,Dt.next=13,Promise.resolve(Nt.validate((0,I.Z)({},D,A),(0,q.Z)({},B)));case 13:Dt.next=18;break;case 15:Dt.prev=15,Dt.t0=Dt.catch(10),Dt.t0.errors&&(kt=Dt.t0.errors.map(function(Pe,re){var _e=Pe.message,en=_e===ma?Ct.default:_e;return R.isValidElement(en)?R.cloneElement(en,{key:"error_".concat(re)}):en}));case 18:if(!(!kt.length&&Mt)){Dt.next=23;break}return Dt.next=21,Promise.all(A.map(function(Pe,re){return Ni("".concat(D,".").concat(re),Pe,Mt,B,et)}));case 21:return se=Dt.sent,Dt.abrupt("return",se.reduce(function(Pe,re){return[].concat((0,K.Z)(Pe),(0,K.Z)(re))},[]));case 23:return We=(0,q.Z)((0,q.Z)({},H),{},{name:D,enum:(H.enum||[]).join(", ")},et),he=kt.map(function(Pe){return typeof Pe=="string"?Co(Pe,We):Pe}),Dt.abrupt("return",he);case 26:case"end":return Dt.stop()}},ut,null,[[10,15]])})),So.apply(this,arguments)}function Zs(ut,D,A,H,B,et){var lt=ut.join("."),pt=A.map(function(Ct,kt){var se=Ct.validator,We=(0,q.Z)((0,q.Z)({},Ct),{},{ruleIndex:kt});return se&&(We.validator=function(he,le,Dt){var Pe=!1,re=function(){for(var Ue=arguments.length,gn=new Array(Ue),Ge=0;Ge<Ue;Ge++)gn[Ge]=arguments[Ge];Promise.resolve().then(function(){(0,b.ZP)(!Pe,"Your validator function has already return a promise. `callback` will be ignored."),Pe||Dt.apply(void 0,gn)})},_e=se(he,le,re);Pe=_e&&typeof _e.then=="function"&&typeof _e.catch=="function",(0,b.ZP)(Pe,"`callback` is deprecated. Please return a promise instead."),Pe&&_e.then(function(){Dt()}).catch(function(en){Dt(en||" ")})}),We}).sort(function(Ct,kt){var se=Ct.warningOnly,We=Ct.ruleIndex,he=kt.warningOnly,le=kt.ruleIndex;return!!se==!!he?We-le:se?1:-1}),Mt;if(B===!0)Mt=new Promise(function(){var Ct=(0,vt.Z)((0,J.Z)().mark(function kt(se,We){var he,le,Dt;return(0,J.Z)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:he=0;case 1:if(!(he<pt.length)){re.next=12;break}return le=pt[he],re.next=5,Ni(lt,D,le,H,et);case 5:if(Dt=re.sent,!Dt.length){re.next=9;break}return We([{errors:Dt,rule:le}]),re.abrupt("return");case 9:he+=1,re.next=1;break;case 12:se([]);case 13:case"end":return re.stop()}},kt)}));return function(kt,se){return Ct.apply(this,arguments)}}());else{var Nt=pt.map(function(Ct){return Ni(lt,D,Ct,H,et).then(function(kt){return{errors:kt,rule:Ct}})});Mt=(B?ya(Nt):va(Nt)).then(function(Ct){return Promise.reject(Ct)})}return Mt.catch(function(Ct){return Ct}),Mt}function va(ut){return Po.apply(this,arguments)}function Po(){return Po=(0,vt.Z)((0,J.Z)().mark(function ut(D){return(0,J.Z)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",Promise.all(D).then(function(B){var et,lt=(et=[]).concat.apply(et,(0,K.Z)(B));return lt}));case 1:case"end":return H.stop()}},ut)})),Po.apply(this,arguments)}function ya(ut){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,vt.Z)((0,J.Z)().mark(function ut(D){var A;return(0,J.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return A=0,B.abrupt("return",new Promise(function(et){D.forEach(function(lt){lt.then(function(pt){pt.errors.length&&et([pt]),A+=1,A===D.length&&et([])})})}));case 2:case"end":return B.stop()}},ut)})),Jo.apply(this,arguments)}var Di=V(59946);function rr(ut){return ke(ut)}function Qo(ut,D){var A={};return D.forEach(function(H){var B=(0,Di.Z)(ut,H);A=(0,mr.Z)(A,H,B)}),A}function Ps(ut,D){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return ut&&ut.some(function(H){return oo(D,H,A)})}function oo(ut,D){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!ut||!D||!A&&ut.length!==D.length?!1:D.every(function(H,B){return ut[B]===H})}function Oi(ut,D){if(ut===D)return!0;if(!ut&&D||ut&&!D||!ut||!D||(0,It.Z)(ut)!=="object"||(0,It.Z)(D)!=="object")return!1;var A=Object.keys(ut),H=Object.keys(D),B=new Set([].concat(A,H));return(0,K.Z)(B).every(function(et){var lt=ut[et],pt=D[et];return typeof lt=="function"&&typeof pt=="function"?!0:lt===pt})}function Hs(ut){var D=arguments.length<=1?void 0:arguments[1];return D&&D.target&&(0,It.Z)(D.target)==="object"&&ut in D.target?D.target[ut]:D}function Eo(ut,D,A){var H=ut.length;if(D<0||D>=H||A<0||A>=H)return ut;var B=ut[D],et=D-A;return et>0?[].concat((0,K.Z)(ut.slice(0,A)),[B],(0,K.Z)(ut.slice(A,D)),(0,K.Z)(ut.slice(D+1,H))):et<0?[].concat((0,K.Z)(ut.slice(0,D)),(0,K.Z)(ut.slice(D+1,A+1)),[B],(0,K.Z)(ut.slice(A+1,H))):ut}var Ur=["name"],wr=[];function fi(ut,D,A,H,B,et){return typeof ut=="function"?ut(D,A,"source"in et?{source:et.source}:{}):H!==B}var ao=function(ut){(0,N.Z)(A,ut);var D=(0,k.Z)(A);function A(H){var B;if((0,T.Z)(this,A),B=D.call(this,H),(0,I.Z)((0,w.Z)(B),"state",{resetCount:0}),(0,I.Z)((0,w.Z)(B),"cancelRegisterFunc",null),(0,I.Z)((0,w.Z)(B),"mounted",!1),(0,I.Z)((0,w.Z)(B),"touched",!1),(0,I.Z)((0,w.Z)(B),"dirty",!1),(0,I.Z)((0,w.Z)(B),"validatePromise",void 0),(0,I.Z)((0,w.Z)(B),"prevValidating",void 0),(0,I.Z)((0,w.Z)(B),"errors",wr),(0,I.Z)((0,w.Z)(B),"warnings",wr),(0,I.Z)((0,w.Z)(B),"cancelRegister",function(){var Mt=B.props,Nt=Mt.preserve,Ct=Mt.isListField,kt=Mt.name;B.cancelRegisterFunc&&B.cancelRegisterFunc(Ct,Nt,rr(kt)),B.cancelRegisterFunc=null}),(0,I.Z)((0,w.Z)(B),"getNamePath",function(){var Mt=B.props,Nt=Mt.name,Ct=Mt.fieldContext,kt=Ct.prefixName,se=kt===void 0?[]:kt;return Nt!==void 0?[].concat((0,K.Z)(se),(0,K.Z)(Nt)):[]}),(0,I.Z)((0,w.Z)(B),"getRules",function(){var Mt=B.props,Nt=Mt.rules,Ct=Nt===void 0?[]:Nt,kt=Mt.fieldContext;return Ct.map(function(se){return typeof se=="function"?se(kt):se})}),(0,I.Z)((0,w.Z)(B),"refresh",function(){B.mounted&&B.setState(function(Mt){var Nt=Mt.resetCount;return{resetCount:Nt+1}})}),(0,I.Z)((0,w.Z)(B),"metaCache",null),(0,I.Z)((0,w.Z)(B),"triggerMetaEvent",function(Mt){var Nt=B.props.onMetaChange;if(Nt){var Ct=(0,q.Z)((0,q.Z)({},B.getMeta()),{},{destroy:Mt});(0,dt.Z)(B.metaCache,Ct)||Nt(Ct),B.metaCache=Ct}else B.metaCache=null}),(0,I.Z)((0,w.Z)(B),"onStoreChange",function(Mt,Nt,Ct){var kt=B.props,se=kt.shouldUpdate,We=kt.dependencies,he=We===void 0?[]:We,le=kt.onReset,Dt=Ct.store,Pe=B.getNamePath(),re=B.getValue(Mt),_e=B.getValue(Dt),en=Nt&&Ps(Nt,Pe);switch(Ct.type==="valueUpdate"&&Ct.source==="external"&&!(0,dt.Z)(re,_e)&&(B.touched=!0,B.dirty=!0,B.validatePromise=null,B.errors=wr,B.warnings=wr,B.triggerMetaEvent()),Ct.type){case"reset":if(!Nt||en){B.touched=!1,B.dirty=!1,B.validatePromise=void 0,B.errors=wr,B.warnings=wr,B.triggerMetaEvent(),le==null||le(),B.refresh();return}break;case"remove":{if(se&&fi(se,Mt,Dt,re,_e,Ct)){B.reRender();return}break}case"setField":{var Ue=Ct.data;if(en){"touched"in Ue&&(B.touched=Ue.touched),"validating"in Ue&&!("originRCField"in Ue)&&(B.validatePromise=Ue.validating?Promise.resolve([]):null),"errors"in Ue&&(B.errors=Ue.errors||wr),"warnings"in Ue&&(B.warnings=Ue.warnings||wr),B.dirty=!0,B.triggerMetaEvent(),B.reRender();return}else if("value"in Ue&&Ps(Nt,Pe,!0)){B.reRender();return}if(se&&!Pe.length&&fi(se,Mt,Dt,re,_e,Ct)){B.reRender();return}break}case"dependenciesUpdate":{var gn=he.map(rr);if(gn.some(function(Ge){return Ps(Ct.relatedFields,Ge)})){B.reRender();return}break}default:if(en||(!he.length||Pe.length||se)&&fi(se,Mt,Dt,re,_e,Ct)){B.reRender();return}break}se===!0&&B.reRender()}),(0,I.Z)((0,w.Z)(B),"validateRules",function(Mt){var Nt=B.getNamePath(),Ct=B.getValue(),kt=Mt||{},se=kt.triggerName,We=kt.validateOnly,he=We===void 0?!1:We,le=Promise.resolve().then((0,vt.Z)((0,J.Z)().mark(function Dt(){var Pe,re,_e,en,Ue,gn,Ge;return(0,J.Z)().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(B.mounted){me.next=2;break}return me.abrupt("return",[]);case 2:if(Pe=B.props,re=Pe.validateFirst,_e=re===void 0?!1:re,en=Pe.messageVariables,Ue=Pe.validateDebounce,gn=B.getRules(),se&&(gn=gn.filter(function(rn){return rn}).filter(function(rn){var Je=rn.validateTrigger;if(!Je)return!0;var In=ke(Je);return In.includes(se)})),!(Ue&&se)){me.next=10;break}return me.next=8,new Promise(function(rn){setTimeout(rn,Ue)});case 8:if(B.validatePromise===le){me.next=10;break}return me.abrupt("return",[]);case 10:return Ge=Zs(Nt,Ct,gn,Mt,_e,en),Ge.catch(function(rn){return rn}).then(function(){var rn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wr;if(B.validatePromise===le){var Je;B.validatePromise=null;var In=[],Pn=[];(Je=rn.forEach)===null||Je===void 0||Je.call(rn,function(Nn){var bn=Nn.rule.warningOnly,ur=Nn.errors,ii=ur===void 0?wr:ur;bn?Pn.push.apply(Pn,(0,K.Z)(ii)):In.push.apply(In,(0,K.Z)(ii))}),B.errors=In,B.warnings=Pn,B.triggerMetaEvent(),B.reRender()}}),me.abrupt("return",Ge);case 13:case"end":return me.stop()}},Dt)})));return he||(B.validatePromise=le,B.dirty=!0,B.errors=wr,B.warnings=wr,B.triggerMetaEvent(),B.reRender()),le}),(0,I.Z)((0,w.Z)(B),"isFieldValidating",function(){return!!B.validatePromise}),(0,I.Z)((0,w.Z)(B),"isFieldTouched",function(){return B.touched}),(0,I.Z)((0,w.Z)(B),"isFieldDirty",function(){if(B.dirty||B.props.initialValue!==void 0)return!0;var Mt=B.props.fieldContext,Nt=Mt.getInternalHooks(ot),Ct=Nt.getInitialValue;return Ct(B.getNamePath())!==void 0}),(0,I.Z)((0,w.Z)(B),"getErrors",function(){return B.errors}),(0,I.Z)((0,w.Z)(B),"getWarnings",function(){return B.warnings}),(0,I.Z)((0,w.Z)(B),"isListField",function(){return B.props.isListField}),(0,I.Z)((0,w.Z)(B),"isList",function(){return B.props.isList}),(0,I.Z)((0,w.Z)(B),"isPreserve",function(){return B.props.preserve}),(0,I.Z)((0,w.Z)(B),"getMeta",function(){B.prevValidating=B.isFieldValidating();var Mt={touched:B.isFieldTouched(),validating:B.prevValidating,errors:B.errors,warnings:B.warnings,name:B.getNamePath(),validated:B.validatePromise===null};return Mt}),(0,I.Z)((0,w.Z)(B),"getOnlyChild",function(Mt){if(typeof Mt=="function"){var Nt=B.getMeta();return(0,q.Z)((0,q.Z)({},B.getOnlyChild(Mt(B.getControlled(),Nt,B.props.fieldContext))),{},{isFunction:!0})}var Ct=(0,Y.Z)(Mt);return Ct.length!==1||!R.isValidElement(Ct[0])?{child:Ct,isFunction:!1}:{child:Ct[0],isFunction:!1}}),(0,I.Z)((0,w.Z)(B),"getValue",function(Mt){var Nt=B.props.fieldContext.getFieldsValue,Ct=B.getNamePath();return(0,Di.Z)(Mt||Nt(!0),Ct)}),(0,I.Z)((0,w.Z)(B),"getControlled",function(){var Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Nt=B.props,Ct=Nt.name,kt=Nt.trigger,se=Nt.validateTrigger,We=Nt.getValueFromEvent,he=Nt.normalize,le=Nt.valuePropName,Dt=Nt.getValueProps,Pe=Nt.fieldContext,re=se!==void 0?se:Pe.validateTrigger,_e=B.getNamePath(),en=Pe.getInternalHooks,Ue=Pe.getFieldsValue,gn=en(ot),Ge=gn.dispatch,un=B.getValue(),me=Dt||function(Nn){return(0,I.Z)({},le,Nn)},rn=Mt[kt],Je=Ct!==void 0?me(un):{},In=(0,q.Z)((0,q.Z)({},Mt),Je);In[kt]=function(){B.touched=!0,B.dirty=!0,B.triggerMetaEvent();for(var Nn,bn=arguments.length,ur=new Array(bn),ii=0;ii<bn;ii++)ur[ii]=arguments[ii];We?Nn=We.apply(void 0,ur):Nn=Hs.apply(void 0,[le].concat(ur)),he&&(Nn=he(Nn,un,Ue(!0))),Nn!==un&&Ge({type:"updateValue",namePath:_e,value:Nn}),rn&&rn.apply(void 0,ur)};var Pn=ke(re||[]);return Pn.forEach(function(Nn){var bn=In[Nn];In[Nn]=function(){bn&&bn.apply(void 0,arguments);var ur=B.props.rules;ur&&ur.length&&Ge({type:"validateField",namePath:_e,triggerName:Nn})}}),In}),H.fieldContext){var et=H.fieldContext.getInternalHooks,lt=et(ot),pt=lt.initEntityValue;pt((0,w.Z)(B))}return B}return(0,x.Z)(A,[{key:"componentDidMount",value:function(){var B=this.props,et=B.shouldUpdate,lt=B.fieldContext;if(this.mounted=!0,lt){var pt=lt.getInternalHooks,Mt=pt(ot),Nt=Mt.registerField;this.cancelRegisterFunc=Nt(this)}et===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var B=this.state.resetCount,et=this.props.children,lt=this.getOnlyChild(et),pt=lt.child,Mt=lt.isFunction,Nt;return Mt?Nt=pt:R.isValidElement(pt)?Nt=R.cloneElement(pt,this.getControlled(pt.props)):((0,b.ZP)(!pt,"`children` of Field is not validate ReactElement."),Nt=pt),R.createElement(R.Fragment,{key:B},Nt)}}]),A}(R.Component);(0,I.Z)(ao,"contextType",z),(0,I.Z)(ao,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Mi(ut){var D,A=ut.name,H=(0,nt.Z)(ut,Ur),B=R.useContext(z),et=R.useContext(Ft),lt=A!==void 0?rr(A):void 0,pt=(D=H.isListField)!==null&&D!==void 0?D:!!et,Mt="keep";return pt||(Mt="_".concat((lt||[]).join("_"))),R.createElement(ao,(0,M.Z)({key:Mt,name:lt,isListField:pt},H,{fieldContext:B}))}var Ws=Mi;function za(ut){var D=ut.name,A=ut.initialValue,H=ut.children,B=ut.rules,et=ut.validateTrigger,lt=ut.isListField,pt=R.useContext(z),Mt=R.useContext(Ft),Nt=R.useRef({keys:[],id:0}),Ct=Nt.current,kt=R.useMemo(function(){var le=rr(pt.prefixName)||[];return[].concat((0,K.Z)(le),(0,K.Z)(rr(D)))},[pt.prefixName,D]),se=R.useMemo(function(){return(0,q.Z)((0,q.Z)({},pt),{},{prefixName:kt})},[pt,kt]),We=R.useMemo(function(){return{getKey:function(Dt){var Pe=kt.length,re=Dt[Pe];return[Ct.keys[re],Dt.slice(Pe+1)]}}},[kt]);if(typeof H!="function")return(0,b.ZP)(!1,"Form.List only accepts function as children."),null;var he=function(Dt,Pe,re){var _e=re.source;return _e==="internal"?!1:Dt!==Pe};return R.createElement(Ft.Provider,{value:We},R.createElement(z.Provider,{value:se},R.createElement(Ws,{name:[],shouldUpdate:he,rules:B,validateTrigger:et,initialValue:A,isList:!0,isListField:lt!=null?lt:!!Mt},function(le,Dt){var Pe=le.value,re=Pe===void 0?[]:Pe,_e=le.onChange,en=pt.getFieldValue,Ue=function(){var me=en(kt||[]);return me||[]},gn={add:function(me,rn){var Je=Ue();rn>=0&&rn<=Je.length?(Ct.keys=[].concat((0,K.Z)(Ct.keys.slice(0,rn)),[Ct.id],(0,K.Z)(Ct.keys.slice(rn))),_e([].concat((0,K.Z)(Je.slice(0,rn)),[me],(0,K.Z)(Je.slice(rn))))):(Ct.keys=[].concat((0,K.Z)(Ct.keys),[Ct.id]),_e([].concat((0,K.Z)(Je),[me]))),Ct.id+=1},remove:function(me){var rn=Ue(),Je=new Set(Array.isArray(me)?me:[me]);Je.size<=0||(Ct.keys=Ct.keys.filter(function(In,Pn){return!Je.has(Pn)}),_e(rn.filter(function(In,Pn){return!Je.has(Pn)})))},move:function(me,rn){if(me!==rn){var Je=Ue();me<0||me>=Je.length||rn<0||rn>=Je.length||(Ct.keys=Eo(Ct.keys,me,rn),_e(Eo(Je,me,rn)))}}},Ge=re||[];return Array.isArray(Ge)||(Ge=[]),H(Ge.map(function(un,me){var rn=Ct.keys[me];return rn===void 0&&(Ct.keys[me]=Ct.id,rn=Ct.keys[me],Ct.id+=1),{name:me,key:rn,isListField:!0}}),gn,Dt)})))}var Us=za,os=V(52521);function yi(ut){var D=!1,A=ut.length,H=[];return ut.length?new Promise(function(B,et){ut.forEach(function(lt,pt){lt.catch(function(Mt){return D=!0,Mt}).then(function(Mt){A-=1,H[pt]=Mt,!(A>0)&&(D&&et(H),B(H))})})}):Promise.resolve([])}var ri="__@field_split__";function Fi(ut){return ut.map(function(D){return"".concat((0,It.Z)(D),":").concat(D)}).join(ri)}var Gr=function(){function ut(){(0,T.Z)(this,ut),(0,I.Z)(this,"kvs",new Map)}return(0,x.Z)(ut,[{key:"set",value:function(A,H){this.kvs.set(Fi(A),H)}},{key:"get",value:function(A){return this.kvs.get(Fi(A))}},{key:"update",value:function(A,H){var B=this.get(A),et=H(B);et?this.set(A,et):this.delete(A)}},{key:"delete",value:function(A){this.kvs.delete(Fi(A))}},{key:"map",value:function(A){return(0,K.Z)(this.kvs.entries()).map(function(H){var B=(0,os.Z)(H,2),et=B[0],lt=B[1],pt=et.split(ri);return A({key:pt.map(function(Mt){var Nt=Mt.match(/^([^:]*):(.*)$/),Ct=(0,os.Z)(Nt,3),kt=Ct[1],se=Ct[2];return kt==="number"?Number(se):se}),value:lt})})}},{key:"toJSON",value:function(){var A={};return this.map(function(H){var B=H.key,et=H.value;return A[B.join(".")]=et,null}),A}}]),ut}(),kn=Gr,as=["name"],hi=(0,x.Z)(function ut(D){var A=this;(0,T.Z)(this,ut),(0,I.Z)(this,"formHooked",!1),(0,I.Z)(this,"forceRootUpdate",void 0),(0,I.Z)(this,"subscribable",!0),(0,I.Z)(this,"store",{}),(0,I.Z)(this,"fieldEntities",[]),(0,I.Z)(this,"initialValues",{}),(0,I.Z)(this,"callbacks",{}),(0,I.Z)(this,"validateMessages",null),(0,I.Z)(this,"preserve",null),(0,I.Z)(this,"lastValidatePromise",null),(0,I.Z)(this,"getForm",function(){return{getFieldValue:A.getFieldValue,getFieldsValue:A.getFieldsValue,getFieldError:A.getFieldError,getFieldWarning:A.getFieldWarning,getFieldsError:A.getFieldsError,isFieldsTouched:A.isFieldsTouched,isFieldTouched:A.isFieldTouched,isFieldValidating:A.isFieldValidating,isFieldsValidating:A.isFieldsValidating,resetFields:A.resetFields,setFields:A.setFields,setFieldValue:A.setFieldValue,setFieldsValue:A.setFieldsValue,validateFields:A.validateFields,submit:A.submit,_init:!0,getInternalHooks:A.getInternalHooks}}),(0,I.Z)(this,"getInternalHooks",function(H){return H===ot?(A.formHooked=!0,{dispatch:A.dispatch,initEntityValue:A.initEntityValue,registerField:A.registerField,useSubscribe:A.useSubscribe,setInitialValues:A.setInitialValues,destroyForm:A.destroyForm,setCallbacks:A.setCallbacks,setValidateMessages:A.setValidateMessages,getFields:A.getFields,setPreserve:A.setPreserve,getInitialValue:A.getInitialValue,registerWatch:A.registerWatch}):((0,b.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),(0,I.Z)(this,"useSubscribe",function(H){A.subscribable=H}),(0,I.Z)(this,"prevWithoutPreserves",null),(0,I.Z)(this,"setInitialValues",function(H,B){if(A.initialValues=H||{},B){var et,lt=(0,mr.T)(H,A.store);(et=A.prevWithoutPreserves)===null||et===void 0||et.map(function(pt){var Mt=pt.key;lt=(0,mr.Z)(lt,Mt,(0,Di.Z)(H,Mt))}),A.prevWithoutPreserves=null,A.updateStore(lt)}}),(0,I.Z)(this,"destroyForm",function(H){if(H)A.updateStore({});else{var B=new kn;A.getFieldEntities(!0).forEach(function(et){A.isMergedPreserve(et.isPreserve())||B.set(et.getNamePath(),!0)}),A.prevWithoutPreserves=B}}),(0,I.Z)(this,"getInitialValue",function(H){var B=(0,Di.Z)(A.initialValues,H);return H.length?(0,mr.T)(B):B}),(0,I.Z)(this,"setCallbacks",function(H){A.callbacks=H}),(0,I.Z)(this,"setValidateMessages",function(H){A.validateMessages=H}),(0,I.Z)(this,"setPreserve",function(H){A.preserve=H}),(0,I.Z)(this,"watchList",[]),(0,I.Z)(this,"registerWatch",function(H){return A.watchList.push(H),function(){A.watchList=A.watchList.filter(function(B){return B!==H})}}),(0,I.Z)(this,"notifyWatch",function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(A.watchList.length){var B=A.getFieldsValue(),et=A.getFieldsValue(!0);A.watchList.forEach(function(lt){lt(B,et,H)})}}),(0,I.Z)(this,"timeoutId",null),(0,I.Z)(this,"warningUnhooked",function(){}),(0,I.Z)(this,"updateStore",function(H){A.store=H}),(0,I.Z)(this,"getFieldEntities",function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return H?A.fieldEntities.filter(function(B){return B.getNamePath().length}):A.fieldEntities}),(0,I.Z)(this,"getFieldsMap",function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,B=new kn;return A.getFieldEntities(H).forEach(function(et){var lt=et.getNamePath();B.set(lt,et)}),B}),(0,I.Z)(this,"getFieldEntitiesForNamePathList",function(H){if(!H)return A.getFieldEntities(!0);var B=A.getFieldsMap(!0);return H.map(function(et){var lt=rr(et);return B.get(lt)||{INVALIDATE_NAME_PATH:rr(et)}})}),(0,I.Z)(this,"getFieldsValue",function(H,B){A.warningUnhooked();var et,lt,pt;if(H===!0||Array.isArray(H)?(et=H,lt=B):H&&(0,It.Z)(H)==="object"&&(pt=H.strict,lt=H.filter),et===!0&&!lt)return A.store;var Mt=A.getFieldEntitiesForNamePathList(Array.isArray(et)?et:null),Nt=[];return Mt.forEach(function(Ct){var kt,se,We="INVALIDATE_NAME_PATH"in Ct?Ct.INVALIDATE_NAME_PATH:Ct.getNamePath();if(pt){var he,le;if((he=(le=Ct).isList)!==null&&he!==void 0&&he.call(le))return}else if(!et&&(kt=(se=Ct).isListField)!==null&&kt!==void 0&&kt.call(se))return;if(!lt)Nt.push(We);else{var Dt="getMeta"in Ct?Ct.getMeta():null;lt(Dt)&&Nt.push(We)}}),Qo(A.store,Nt.map(rr))}),(0,I.Z)(this,"getFieldValue",function(H){A.warningUnhooked();var B=rr(H);return(0,Di.Z)(A.store,B)}),(0,I.Z)(this,"getFieldsError",function(H){A.warningUnhooked();var B=A.getFieldEntitiesForNamePathList(H);return B.map(function(et,lt){return et&&!("INVALIDATE_NAME_PATH"in et)?{name:et.getNamePath(),errors:et.getErrors(),warnings:et.getWarnings()}:{name:rr(H[lt]),errors:[],warnings:[]}})}),(0,I.Z)(this,"getFieldError",function(H){A.warningUnhooked();var B=rr(H),et=A.getFieldsError([B])[0];return et.errors}),(0,I.Z)(this,"getFieldWarning",function(H){A.warningUnhooked();var B=rr(H),et=A.getFieldsError([B])[0];return et.warnings}),(0,I.Z)(this,"isFieldsTouched",function(){A.warningUnhooked();for(var H=arguments.length,B=new Array(H),et=0;et<H;et++)B[et]=arguments[et];var lt=B[0],pt=B[1],Mt,Nt=!1;B.length===0?Mt=null:B.length===1?Array.isArray(lt)?(Mt=lt.map(rr),Nt=!1):(Mt=null,Nt=lt):(Mt=lt.map(rr),Nt=pt);var Ct=A.getFieldEntities(!0),kt=function(Dt){return Dt.isFieldTouched()};if(!Mt)return Nt?Ct.every(function(le){return kt(le)||le.isList()}):Ct.some(kt);var se=new kn;Mt.forEach(function(le){se.set(le,[])}),Ct.forEach(function(le){var Dt=le.getNamePath();Mt.forEach(function(Pe){Pe.every(function(re,_e){return Dt[_e]===re})&&se.update(Pe,function(re){return[].concat((0,K.Z)(re),[le])})})});var We=function(Dt){return Dt.some(kt)},he=se.map(function(le){var Dt=le.value;return Dt});return Nt?he.every(We):he.some(We)}),(0,I.Z)(this,"isFieldTouched",function(H){return A.warningUnhooked(),A.isFieldsTouched([H])}),(0,I.Z)(this,"isFieldsValidating",function(H){A.warningUnhooked();var B=A.getFieldEntities();if(!H)return B.some(function(lt){return lt.isFieldValidating()});var et=H.map(rr);return B.some(function(lt){var pt=lt.getNamePath();return Ps(et,pt)&&lt.isFieldValidating()})}),(0,I.Z)(this,"isFieldValidating",function(H){return A.warningUnhooked(),A.isFieldsValidating([H])}),(0,I.Z)(this,"resetWithFieldInitialValue",function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=new kn,et=A.getFieldEntities(!0);et.forEach(function(Mt){var Nt=Mt.props.initialValue,Ct=Mt.getNamePath();if(Nt!==void 0){var kt=B.get(Ct)||new Set;kt.add({entity:Mt,value:Nt}),B.set(Ct,kt)}});var lt=function(Nt){Nt.forEach(function(Ct){var kt=Ct.props.initialValue;if(kt!==void 0){var se=Ct.getNamePath(),We=A.getInitialValue(se);if(We!==void 0)(0,b.ZP)(!1,"Form already set 'initialValues' with path '".concat(se.join("."),"'. Field can not overwrite it."));else{var he=B.get(se);if(he&&he.size>1)(0,b.ZP)(!1,"Multiple Field with path '".concat(se.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(he){var le=A.getFieldValue(se),Dt=Ct.isListField();!Dt&&(!H.skipExist||le===void 0)&&A.updateStore((0,mr.Z)(A.store,se,(0,K.Z)(he)[0].value))}}}})},pt;H.entities?pt=H.entities:H.namePathList?(pt=[],H.namePathList.forEach(function(Mt){var Nt=B.get(Mt);if(Nt){var Ct;(Ct=pt).push.apply(Ct,(0,K.Z)((0,K.Z)(Nt).map(function(kt){return kt.entity})))}})):pt=et,lt(pt)}),(0,I.Z)(this,"resetFields",function(H){A.warningUnhooked();var B=A.store;if(!H){A.updateStore((0,mr.T)(A.initialValues)),A.resetWithFieldInitialValue(),A.notifyObservers(B,null,{type:"reset"}),A.notifyWatch();return}var et=H.map(rr);et.forEach(function(lt){var pt=A.getInitialValue(lt);A.updateStore((0,mr.Z)(A.store,lt,pt))}),A.resetWithFieldInitialValue({namePathList:et}),A.notifyObservers(B,et,{type:"reset"}),A.notifyWatch(et)}),(0,I.Z)(this,"setFields",function(H){A.warningUnhooked();var B=A.store,et=[];H.forEach(function(lt){var pt=lt.name,Mt=(0,nt.Z)(lt,as),Nt=rr(pt);et.push(Nt),"value"in Mt&&A.updateStore((0,mr.Z)(A.store,Nt,Mt.value)),A.notifyObservers(B,[Nt],{type:"setField",data:lt})}),A.notifyWatch(et)}),(0,I.Z)(this,"getFields",function(){var H=A.getFieldEntities(!0),B=H.map(function(et){var lt=et.getNamePath(),pt=et.getMeta(),Mt=(0,q.Z)((0,q.Z)({},pt),{},{name:lt,value:A.getFieldValue(lt)});return Object.defineProperty(Mt,"originRCField",{value:!0}),Mt});return B}),(0,I.Z)(this,"initEntityValue",function(H){var B=H.props.initialValue;if(B!==void 0){var et=H.getNamePath(),lt=(0,Di.Z)(A.store,et);lt===void 0&&A.updateStore((0,mr.Z)(A.store,et,B))}}),(0,I.Z)(this,"isMergedPreserve",function(H){var B=H!==void 0?H:A.preserve;return B!=null?B:!0}),(0,I.Z)(this,"registerField",function(H){A.fieldEntities.push(H);var B=H.getNamePath();if(A.notifyWatch([B]),H.props.initialValue!==void 0){var et=A.store;A.resetWithFieldInitialValue({entities:[H],skipExist:!0}),A.notifyObservers(et,[H.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(lt,pt){var Mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(A.fieldEntities=A.fieldEntities.filter(function(kt){return kt!==H}),!A.isMergedPreserve(pt)&&(!lt||Mt.length>1)){var Nt=lt?void 0:A.getInitialValue(B);if(B.length&&A.getFieldValue(B)!==Nt&&A.fieldEntities.every(function(kt){return!oo(kt.getNamePath(),B)})){var Ct=A.store;A.updateStore((0,mr.Z)(Ct,B,Nt,!0)),A.notifyObservers(Ct,[B],{type:"remove"}),A.triggerDependenciesUpdate(Ct,B)}}A.notifyWatch([B])}}),(0,I.Z)(this,"dispatch",function(H){switch(H.type){case"updateValue":{var B=H.namePath,et=H.value;A.updateValue(B,et);break}case"validateField":{var lt=H.namePath,pt=H.triggerName;A.validateFields([lt],{triggerName:pt});break}default:}}),(0,I.Z)(this,"notifyObservers",function(H,B,et){if(A.subscribable){var lt=(0,q.Z)((0,q.Z)({},et),{},{store:A.getFieldsValue(!0)});A.getFieldEntities().forEach(function(pt){var Mt=pt.onStoreChange;Mt(H,B,lt)})}else A.forceRootUpdate()}),(0,I.Z)(this,"triggerDependenciesUpdate",function(H,B){var et=A.getDependencyChildrenFields(B);return et.length&&A.validateFields(et),A.notifyObservers(H,et,{type:"dependenciesUpdate",relatedFields:[B].concat((0,K.Z)(et))}),et}),(0,I.Z)(this,"updateValue",function(H,B){var et=rr(H),lt=A.store;A.updateStore((0,mr.Z)(A.store,et,B)),A.notifyObservers(lt,[et],{type:"valueUpdate",source:"internal"}),A.notifyWatch([et]);var pt=A.triggerDependenciesUpdate(lt,et),Mt=A.callbacks.onValuesChange;if(Mt){var Nt=Qo(A.store,[et]);Mt(Nt,A.getFieldsValue())}A.triggerOnFieldsChange([et].concat((0,K.Z)(pt)))}),(0,I.Z)(this,"setFieldsValue",function(H){A.warningUnhooked();var B=A.store;if(H){var et=(0,mr.T)(A.store,H);A.updateStore(et)}A.notifyObservers(B,null,{type:"valueUpdate",source:"external"}),A.notifyWatch()}),(0,I.Z)(this,"setFieldValue",function(H,B){A.setFields([{name:H,value:B,errors:[],warnings:[]}])}),(0,I.Z)(this,"getDependencyChildrenFields",function(H){var B=new Set,et=[],lt=new kn;A.getFieldEntities().forEach(function(Mt){var Nt=Mt.props.dependencies;(Nt||[]).forEach(function(Ct){var kt=rr(Ct);lt.update(kt,function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return se.add(Mt),se})})});var pt=function Mt(Nt){var Ct=lt.get(Nt)||new Set;Ct.forEach(function(kt){if(!B.has(kt)){B.add(kt);var se=kt.getNamePath();kt.isFieldDirty()&&se.length&&(et.push(se),Mt(se))}})};return pt(H),et}),(0,I.Z)(this,"triggerOnFieldsChange",function(H,B){var et=A.callbacks.onFieldsChange;if(et){var lt=A.getFields();if(B){var pt=new kn;B.forEach(function(Nt){var Ct=Nt.name,kt=Nt.errors;pt.set(Ct,kt)}),lt.forEach(function(Nt){Nt.errors=pt.get(Nt.name)||Nt.errors})}var Mt=lt.filter(function(Nt){var Ct=Nt.name;return Ps(H,Ct)});Mt.length&&et(Mt,lt)}}),(0,I.Z)(this,"validateFields",function(H,B){A.warningUnhooked();var et,lt;Array.isArray(H)||typeof H=="string"||typeof B=="string"?(et=H,lt=B):lt=H;var pt=!!et,Mt=pt?et.map(rr):[],Nt=[],Ct=String(Date.now()),kt=new Set,se=lt||{},We=se.recursive,he=se.dirty;A.getFieldEntities(!0).forEach(function(re){if(pt||Mt.push(re.getNamePath()),!(!re.props.rules||!re.props.rules.length)&&!(he&&!re.isFieldDirty())){var _e=re.getNamePath();if(kt.add(_e.join(Ct)),!pt||Ps(Mt,_e,We)){var en=re.validateRules((0,q.Z)({validateMessages:(0,q.Z)((0,q.Z)({},Yo),A.validateMessages)},lt));Nt.push(en.then(function(){return{name:_e,errors:[],warnings:[]}}).catch(function(Ue){var gn,Ge=[],un=[];return(gn=Ue.forEach)===null||gn===void 0||gn.call(Ue,function(me){var rn=me.rule.warningOnly,Je=me.errors;rn?un.push.apply(un,(0,K.Z)(Je)):Ge.push.apply(Ge,(0,K.Z)(Je))}),Ge.length?Promise.reject({name:_e,errors:Ge,warnings:un}):{name:_e,errors:Ge,warnings:un}}))}}});var le=yi(Nt);A.lastValidatePromise=le,le.catch(function(re){return re}).then(function(re){var _e=re.map(function(en){var Ue=en.name;return Ue});A.notifyObservers(A.store,_e,{type:"validateFinish"}),A.triggerOnFieldsChange(_e,re)});var Dt=le.then(function(){return A.lastValidatePromise===le?Promise.resolve(A.getFieldsValue(Mt)):Promise.reject([])}).catch(function(re){var _e=re.filter(function(en){return en&&en.errors.length});return Promise.reject({values:A.getFieldsValue(Mt),errorFields:_e,outOfDate:A.lastValidatePromise!==le})});Dt.catch(function(re){return re});var Pe=Mt.filter(function(re){return kt.has(re.join(Ct))});return A.triggerOnFieldsChange(Pe),Dt}),(0,I.Z)(this,"submit",function(){A.warningUnhooked(),A.validateFields().then(function(H){var B=A.callbacks.onFinish;if(B)try{B(H)}catch(et){console.error(et)}}).catch(function(H){var B=A.callbacks.onFinishFailed;B&&B(H)})}),this.forceRootUpdate=D});function ta(ut){var D=R.useRef(),A=R.useState({}),H=(0,os.Z)(A,2),B=H[1];if(!D.current)if(ut)D.current=ut;else{var et=function(){B({})},lt=new hi(et);D.current=lt.getForm()}return[D.current]}var Gs=ta,Ao=R.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),ea=function(D){var A=D.validateMessages,H=D.onFormChange,B=D.onFormFinish,et=D.children,lt=R.useContext(Ao),pt=R.useRef({});return R.createElement(Ao.Provider,{value:(0,q.Z)((0,q.Z)({},lt),{},{validateMessages:(0,q.Z)((0,q.Z)({},lt.validateMessages),A),triggerFormChange:function(Nt,Ct){H&&H(Nt,{changedFields:Ct,forms:pt.current}),lt.triggerFormChange(Nt,Ct)},triggerFormFinish:function(Nt,Ct){B&&B(Nt,{values:Ct,forms:pt.current}),lt.triggerFormFinish(Nt,Ct)},registerForm:function(Nt,Ct){Nt&&(pt.current=(0,q.Z)((0,q.Z)({},pt.current),{},(0,I.Z)({},Nt,Ct))),lt.registerForm(Nt,Ct)},unregisterForm:function(Nt){var Ct=(0,q.Z)({},pt.current);delete Ct[Nt],pt.current=Ct,lt.unregisterForm(Nt)}})},et)},di=Ao,bi=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Bi=function(D,A){var H=D.name,B=D.initialValues,et=D.fields,lt=D.form,pt=D.preserve,Mt=D.children,Nt=D.component,Ct=Nt===void 0?"form":Nt,kt=D.validateMessages,se=D.validateTrigger,We=se===void 0?"onChange":se,he=D.onValuesChange,le=D.onFieldsChange,Dt=D.onFinish,Pe=D.onFinishFailed,re=D.clearOnDestroy,_e=(0,nt.Z)(D,bi),en=R.useRef(null),Ue=R.useContext(di),gn=Gs(lt),Ge=(0,os.Z)(gn,1),un=Ge[0],me=un.getInternalHooks(ot),rn=me.useSubscribe,Je=me.setInitialValues,In=me.setCallbacks,Pn=me.setValidateMessages,Nn=me.setPreserve,bn=me.destroyForm;R.useImperativeHandle(A,function(){return(0,q.Z)((0,q.Z)({},un),{},{nativeElement:en.current})}),R.useEffect(function(){return Ue.registerForm(H,un),function(){Ue.unregisterForm(H)}},[Ue,un,H]),Pn((0,q.Z)((0,q.Z)({},Ue.validateMessages),kt)),In({onValuesChange:he,onFieldsChange:function(Kr){if(Ue.triggerFormChange(H,Kr),le){for(var si=arguments.length,To=new Array(si>1?si-1:0),oi=1;oi<si;oi++)To[oi-1]=arguments[oi];le.apply(void 0,[Kr].concat(To))}},onFinish:function(Kr){Ue.triggerFormFinish(H,Kr),Dt&&Dt(Kr)},onFinishFailed:Pe}),Nn(pt);var ur=R.useRef(null);Je(B,!ur.current),ur.current||(ur.current=!0),R.useEffect(function(){return function(){return bn(re)}},[]);var ii,co=typeof Mt=="function";if(co){var us=un.getFieldsValue(!0);ii=Mt(us,un)}else ii=Mt;rn(!co);var na=R.useRef();R.useEffect(function(){Oi(na.current||[],et||[])||un.setFields(et||[]),na.current=et},[et,un]);var Oo=R.useMemo(function(){return(0,q.Z)((0,q.Z)({},un),{},{validateTrigger:We})},[un,We]),Mo=R.createElement(Ft.Provider,{value:null},R.createElement(z.Provider,{value:Oo},ii));return Ct===!1?Mo:R.createElement(Ct,(0,M.Z)({},_e,{ref:en,onSubmit:function(Kr){Kr.preventDefault(),Kr.stopPropagation(),un.submit()},onReset:function(Kr){var si;Kr.preventDefault(),un.resetFields(),(si=_e.onReset)===null||si===void 0||si.call(_e,Kr)}}),Mo)},xi=Bi;function ls(ut){try{return JSON.stringify(ut)}catch(D){return Math.random()}}var cs=function(){};function lo(){for(var ut=arguments.length,D=new Array(ut),A=0;A<ut;A++)D[A]=arguments[A];var H=D[0],B=D[1],et=B===void 0?{}:B,lt=_n(et)?{form:et}:et,pt=lt.form,Mt=(0,R.useState)(),Nt=(0,os.Z)(Mt,2),Ct=Nt[0],kt=Nt[1],se=(0,R.useMemo)(function(){return ls(Ct)},[Ct]),We=(0,R.useRef)(se);We.current=se;var he=(0,R.useContext)(z),le=pt||he,Dt=le&&le._init,Pe=rr(H),re=(0,R.useRef)(Pe);return re.current=Pe,cs(Pe),(0,R.useEffect)(function(){if(Dt){var _e=le.getFieldsValue,en=le.getInternalHooks,Ue=en(ot),gn=Ue.registerWatch,Ge=function(Je,In){var Pn=lt.preserve?In:Je;return typeof H=="function"?H(Pn):(0,Di.Z)(Pn,re.current)},un=gn(function(rn,Je){var In=Ge(rn,Je),Pn=ls(In);We.current!==Pn&&(We.current=Pn,kt(In))}),me=Ge(_e(),_e(!0));return Ct!==me&&kt(me),un}},[Dt]),Ct}var Es=lo,Za=R.forwardRef(xi),As=Za;As.FormProvider=ea,As.Field=Ws,As.List=Us,As.useForm=Gs,As.useWatch=Es;var ba=As},38498:function(At,Et,V){var R=V(78770);function M(nt){if(Array.isArray(nt))return R(nt)}At.exports=M,At.exports.__esModule=!0,At.exports.default=At.exports},62657:function(At){function Et(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}At.exports=Et,At.exports.__esModule=!0,At.exports.default=At.exports},83136:function(At,Et,V){var R=V(38836),M=V(68919),nt=V(75254);function J(vt){var q=M();return function(){var T=R(vt),x;if(q){var w=R(this).constructor;x=Reflect.construct(T,arguments,w)}else x=T.apply(this,arguments);return nt(this,x)}}At.exports=J,At.exports.__esModule=!0,At.exports.default=At.exports},9504:function(At,Et,V){var R=V(28007);function M(){return typeof Reflect!="undefined"&&Reflect.get?(At.exports=M=Reflect.get.bind(),At.exports.__esModule=!0,At.exports.default=At.exports):(At.exports=M=function(J,vt,q){var K=R(J,vt);if(K){var T=Object.getOwnPropertyDescriptor(K,vt);return T.get?T.get.call(arguments.length<3?J:q):T.value}},At.exports.__esModule=!0,At.exports.default=At.exports),M.apply(this,arguments)}At.exports=M,At.exports.__esModule=!0,At.exports.default=At.exports},38836:function(At){function Et(V){return At.exports=Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)},At.exports.__esModule=!0,At.exports.default=At.exports,Et(V)}At.exports=Et,At.exports.__esModule=!0,At.exports.default=At.exports},21742:function(At,Et,V){var R=V(80038);function M(nt,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");nt.prototype=Object.create(J&&J.prototype,{constructor:{value:nt,writable:!0,configurable:!0}}),Object.defineProperty(nt,"prototype",{writable:!1}),J&&R(nt,J)}At.exports=M,At.exports.__esModule=!0,At.exports.default=At.exports},68919:function(At){function Et(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(V){return!1}}At.exports=Et,At.exports.__esModule=!0,At.exports.default=At.exports},20698:function(At){function Et(V){if(typeof Symbol!="undefined"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}At.exports=Et,At.exports.__esModule=!0,At.exports.default=At.exports},91162:function(At){function Et(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}At.exports=Et,At.exports.__esModule=!0,At.exports.default=At.exports},67825:function(At,Et,V){var R=V(64382);function M(nt,J){if(nt==null)return{};var vt=R(nt,J),q,K;if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(nt);for(K=0;K<T.length;K++)q=T[K],!(J.indexOf(q)>=0)&&Object.prototype.propertyIsEnumerable.call(nt,q)&&(vt[q]=nt[q])}return vt}At.exports=M,At.exports.__esModule=!0,At.exports.default=At.exports},64382:function(At){function Et(V,R){if(V==null)return{};var M={},nt=Object.keys(V),J,vt;for(vt=0;vt<nt.length;vt++)J=nt[vt],!(R.indexOf(J)>=0)&&(M[J]=V[J]);return M}At.exports=Et,At.exports.__esModule=!0,At.exports.default=At.exports},75254:function(At,Et,V){var R=V(31759).default,M=V(62657);function nt(J,vt){if(vt&&(R(vt)==="object"||typeof vt=="function"))return vt;if(vt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(J)}At.exports=nt,At.exports.__esModule=!0,At.exports.default=At.exports},80038:function(At){function Et(V,R){return At.exports=Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,J){return nt.__proto__=J,nt},At.exports.__esModule=!0,At.exports.default=At.exports,Et(V,R)}At.exports=Et,At.exports.__esModule=!0,At.exports.default=At.exports},28007:function(At,Et,V){var R=V(38836);function M(nt,J){for(;!Object.prototype.hasOwnProperty.call(nt,J)&&(nt=R(nt),nt!==null););return nt}At.exports=M,At.exports.__esModule=!0,At.exports.default=At.exports},15558:function(At,Et,V){var R=V(38498),M=V(20698),nt=V(31479),J=V(91162);function vt(q){return R(q)||M(q)||nt(q)||J()}At.exports=vt,At.exports.__esModule=!0,At.exports.default=At.exports},84964:function(At,Et,V){"use strict";V.d(Et,{Z:function(){return M}});function R(nt,J,vt,q,K,T,x){try{var w=nt[T](x),N=w.value}catch(k){return void vt(k)}w.done?J(N):Promise.resolve(N).then(q,K)}function M(nt){return function(){var J=this,vt=arguments;return new Promise(function(q,K){var T=nt.apply(J,vt);function x(N){R(T,q,K,x,w,"next",N)}function w(N){R(T,q,K,x,w,"throw",N)}x(void 0)})}}},94162:function(At,Et,V){"use strict";V.d(Et,{Z:function(){return M}});var R=V(28269);function M(){"use strict";M=function(){return J};var nt,J={},vt=Object.prototype,q=vt.hasOwnProperty,K=typeof Symbol=="function"?Symbol:{},T=K.iterator||"@@iterator",x=K.asyncIterator||"@@asyncIterator",w=K.toStringTag||"@@toStringTag";function N(Kt,Bt,te,oe){return Object.defineProperty(Kt,Bt,{value:te,enumerable:!oe,configurable:!oe,writable:!oe})}try{N({},"")}catch(Kt){N=function(te,oe,ye){return te[oe]=ye}}function k(Kt,Bt,te,oe){var ye=Bt&&Bt.prototype instanceof dt?Bt:dt,$t=Object.create(ye.prototype);return N($t,"_invoke",function(Ve,$e,ae){var Be=1;return function(Mn,Xe){if(Be===3)throw Error("Generator is already running");if(Be===4){if(Mn==="throw")throw Xe;return{value:nt,done:!0}}for(ae.method=Mn,ae.arg=Xe;;){var Qn=ae.delegate;if(Qn){var Un=_n(Qn,ae);if(Un){if(Un===Y)continue;return Un}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(Be===1)throw Be=4,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);Be=3;var Dn=I(Ve,$e,ae);if(Dn.type==="normal"){if(Be=ae.done?4:2,Dn.arg===Y)continue;return{value:Dn.arg,done:ae.done}}Dn.type==="throw"&&(Be=4,ae.method="throw",ae.arg=Dn.arg)}}}(Kt,te,new Me(oe||[])),!0),$t}function I(Kt,Bt,te){try{return{type:"normal",arg:Kt.call(Bt,te)}}catch(oe){return{type:"throw",arg:oe}}}J.wrap=k;var Y={};function dt(){}function b(){}function ot(){}var it={};N(it,T,function(){return this});var jt=Object.getPrototypeOf,z=jt&&jt(jt(Se([])));z&&z!==vt&&q.call(z,T)&&(it=z);var Ot=ot.prototype=dt.prototype=Object.create(it);function Ft(Kt){["next","throw","return"].forEach(function(Bt){N(Kt,Bt,function(te){return this._invoke(Bt,te)})})}function ke(Kt,Bt){function te(ye,$t,Ve,$e){var ae=I(Kt[ye],Kt,$t);if(ae.type!=="throw"){var Be=ae.arg,Mn=Be.value;return Mn&&(0,R.Z)(Mn)=="object"&&q.call(Mn,"__await")?Bt.resolve(Mn.__await).then(function(Xe){te("next",Xe,Ve,$e)},function(Xe){te("throw",Xe,Ve,$e)}):Bt.resolve(Mn).then(function(Xe){Be.value=Xe,Ve(Be)},function(Xe){return te("throw",Xe,Ve,$e)})}$e(ae.arg)}var oe;N(this,"_invoke",function(ye,$t){function Ve(){return new Bt(function($e,ae){te(ye,$t,$e,ae)})}return oe=oe?oe.then(Ve,Ve):Ve()},!0)}function _n(Kt,Bt){var te=Bt.method,oe=Kt.i[te];if(oe===nt)return Bt.delegate=null,te==="throw"&&Kt.i.return&&(Bt.method="return",Bt.arg=nt,_n(Kt,Bt),Bt.method==="throw")||te!=="return"&&(Bt.method="throw",Bt.arg=new TypeError("The iterator does not provide a '"+te+"' method")),Y;var ye=I(oe,Kt.i,Bt.arg);if(ye.type==="throw")return Bt.method="throw",Bt.arg=ye.arg,Bt.delegate=null,Y;var $t=ye.arg;return $t?$t.done?(Bt[Kt.r]=$t.value,Bt.next=Kt.n,Bt.method!=="return"&&(Bt.method="next",Bt.arg=nt),Bt.delegate=null,Y):$t:(Bt.method="throw",Bt.arg=new TypeError("iterator result is not an object"),Bt.delegate=null,Y)}function It(Kt){this.tryEntries.push(Kt)}function ge(Kt){var Bt=Kt[4]||{};Bt.type="normal",Bt.arg=nt,Kt[4]=Bt}function Me(Kt){this.tryEntries=[[-1]],Kt.forEach(It,this),this.reset(!0)}function Se(Kt){if(Kt!=null){var Bt=Kt[T];if(Bt)return Bt.call(Kt);if(typeof Kt.next=="function")return Kt;if(!isNaN(Kt.length)){var te=-1,oe=function ye(){for(;++te<Kt.length;)if(q.call(Kt,te))return ye.value=Kt[te],ye.done=!1,ye;return ye.value=nt,ye.done=!0,ye};return oe.next=oe}}throw new TypeError((0,R.Z)(Kt)+" is not iterable")}return b.prototype=ot,N(Ot,"constructor",ot),N(ot,"constructor",b),b.displayName=N(ot,w,"GeneratorFunction"),J.isGeneratorFunction=function(Kt){var Bt=typeof Kt=="function"&&Kt.constructor;return!!Bt&&(Bt===b||(Bt.displayName||Bt.name)==="GeneratorFunction")},J.mark=function(Kt){return Object.setPrototypeOf?Object.setPrototypeOf(Kt,ot):(Kt.__proto__=ot,N(Kt,w,"GeneratorFunction")),Kt.prototype=Object.create(Ot),Kt},J.awrap=function(Kt){return{__await:Kt}},Ft(ke.prototype),N(ke.prototype,x,function(){return this}),J.AsyncIterator=ke,J.async=function(Kt,Bt,te,oe,ye){ye===void 0&&(ye=Promise);var $t=new ke(k(Kt,Bt,te,oe),ye);return J.isGeneratorFunction(Bt)?$t:$t.next().then(function(Ve){return Ve.done?Ve.value:$t.next()})},Ft(Ot),N(Ot,w,"Generator"),N(Ot,T,function(){return this}),N(Ot,"toString",function(){return"[object Generator]"}),J.keys=function(Kt){var Bt=Object(Kt),te=[];for(var oe in Bt)te.unshift(oe);return function ye(){for(;te.length;)if((oe=te.pop())in Bt)return ye.value=oe,ye.done=!1,ye;return ye.done=!0,ye}},J.values=Se,Me.prototype={constructor:Me,reset:function(Bt){if(this.prev=this.next=0,this.sent=this._sent=nt,this.done=!1,this.delegate=null,this.method="next",this.arg=nt,this.tryEntries.forEach(ge),!Bt)for(var te in this)te.charAt(0)==="t"&&q.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=nt)},stop:function(){this.done=!0;var Bt=this.tryEntries[0][4];if(Bt.type==="throw")throw Bt.arg;return this.rval},dispatchException:function(Bt){if(this.done)throw Bt;var te=this;function oe(Mn){Ve.type="throw",Ve.arg=Bt,te.next=Mn}for(var ye=te.tryEntries.length-1;ye>=0;--ye){var $t=this.tryEntries[ye],Ve=$t[4],$e=this.prev,ae=$t[1],Be=$t[2];if($t[0]===-1)return oe("end"),!1;if(!ae&&!Be)throw Error("try statement without catch or finally");if($t[0]!=null&&$t[0]<=$e){if($e<ae)return this.method="next",this.arg=nt,oe(ae),!0;if($e<Be)return oe(Be),!1}}},abrupt:function(Bt,te){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var ye=this.tryEntries[oe];if(ye[0]>-1&&ye[0]<=this.prev&&this.prev<ye[2]){var $t=ye;break}}$t&&(Bt==="break"||Bt==="continue")&&$t[0]<=te&&te<=$t[2]&&($t=null);var Ve=$t?$t[4]:{};return Ve.type=Bt,Ve.arg=te,$t?(this.method="next",this.next=$t[2],Y):this.complete(Ve)},complete:function(Bt,te){if(Bt.type==="throw")throw Bt.arg;return Bt.type==="break"||Bt.type==="continue"?this.next=Bt.arg:Bt.type==="return"?(this.rval=this.arg=Bt.arg,this.method="return",this.next="end"):Bt.type==="normal"&&te&&(this.next=te),Y},finish:function(Bt){for(var te=this.tryEntries.length-1;te>=0;--te){var oe=this.tryEntries[te];if(oe[2]===Bt)return this.complete(oe[4],oe[3]),ge(oe),Y}},catch:function(Bt){for(var te=this.tryEntries.length-1;te>=0;--te){var oe=this.tryEntries[te];if(oe[0]===Bt){var ye=oe[4];if(ye.type==="throw"){var $t=ye.arg;ge(oe)}return $t}}throw Error("illegal catch attempt")},delegateYield:function(Bt,te,oe){return this.delegate={i:Se(Bt),r:te,n:oe},this.method==="next"&&(this.arg=nt),Y}},J}}}]);
